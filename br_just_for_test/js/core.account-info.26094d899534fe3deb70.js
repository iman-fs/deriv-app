/*! For license information please see core.account-info.26094d899534fe3deb70.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2521],{24896:(e,t,n)=>{n.r(t),n.d(t,{default:()=>W});var a=n(40841),r=n.n(a),c=n(60216),i=n.n(c),o=n(32735),l=n(4390),s=n(34302),u=n(20374),_=n(42413),d=n(13799),m=n(78568),p=n(75672),f=n(37781),y=function(e){var t=e.country_standpoint,n=e.currency,a=e.loginid,r=e.is_virtual,c=Object.values(t).includes(!0),i=a.replace(/\d/g,"");if(c){if("MLT"===i)return o.createElement(u.Localize,{i18n_default_text:"Options"});if("MX"===i)return t.is_united_kingdom?o.createElement(u.Localize,{i18n_default_text:"Gaming"}):t.is_isle_of_man?(0,_.getCurrencyName)(n):o.createElement(u.Localize,{i18n_default_text:"Synthetic"});if("MF"===i)return o.createElement(u.Localize,{i18n_default_text:"Multipliers"})}return r?o.createElement(u.Localize,{i18n_default_text:"Demo"}):n?(0,_.getCurrencyName)(n):o.createElement(u.Localize,{i18n_default_text:"No currency assigned"})},g=function(e){var t,n,a=e.has_error,c=e.market_type,i=e.sub_account_type,l=e.server,d=e.is_dark_mode_on,m=e.platform,p=e.is_eu;return a?o.createElement("div",null,o.createElement(s.Text,{color:"disabled",size:"xs"},o.createElement(u.Localize,{i18n_default_text:"Unavailable"})),(null==l||null===(t=l.server_info)||void 0===t?void 0:t.geolocation)&&("gaming"===c||"synthetic"===c)&&o.createElement(s.Text,{color:"less-prominent",size:"xxs",className:"badge-server badge-server--disabled"},l.server_info.geolocation.region," ",1!==l.server_info.geolocation.sequence?l.server_info.geolocation.sequence:"")):o.createElement("div",null,(0,_.getCFDAccountDisplay)({market_type:c,sub_account_type:i,platform:m,is_eu:p}),(null==l||null===(n=l.server_info)||void 0===n?void 0:n.geolocation)&&("gaming"===c||"synthetic"===c)&&o.createElement(s.Text,{color:d?"general":"colored-background",size:"xxs",className:r()("badge-server",{"badge-server-bot":(0,_.isBot)()})},l.server_info.geolocation.region," ",1!==l.server_info.geolocation.sequence?l.server_info.geolocation.sequence:""))};const h=function(e){var t=e.balance,n=e.currency,a=e.currency_icon,c=e.country_standpoint,i=e.display_type,l=e.has_balance,d=e.has_error,m=e.has_reset_balance,p=e.is_disabled,f=e.is_virtual,h=e.is_eu,v=e.loginid,b=e.market_type,w=e.redirectAccount,E=e.onClickResetVirtualBalance,x=e.selected_loginid,k=e.server,A=e.is_dark_mode_on,D=e.sub_account_type,T=e.platform,N=n?a:"IcCurrencyUnknown";return o.createElement(o.Fragment,null,o.createElement("div",{id:"dt_".concat(v),className:r()("acc-switcher__account",{"acc-switcher__account--selected":v===x,"acc-switcher__account--disabled":p}),onClick:function(){p||w()}},o.createElement("span",{className:"acc-switcher__id"},o.createElement(s.Icon,{icon:f?"IcCurrencyVirtual":N,className:"acc-switcher__id-icon",size:24}),o.createElement("span",null,"currency"===i?o.createElement(y,{country_standpoint:c,currency:n,loginid:v,is_virtual:f}):o.createElement(g,{is_eu:h,market_type:b,sub_account_type:D,server:k,has_error:d,is_dark_mode_on:A,platform:T}),o.createElement("div",{className:r()("acc-switcher__loginid-text",{"acc-switcher__loginid-text--disabled":d})},v)),m?o.createElement(s.Button,{is_disabled:p,onClick:function(e){e.stopPropagation(),E()},className:"acc-switcher__reset-account-btn",secondary:!0,small:!0},(0,u.localize)("Reset balance")):l&&o.createElement(s.Text,{size:"xs",color:"prominent",styles:{fontWeight:"inherit"},className:"acc-switcher__balance"},n&&o.createElement(s.Money,{currency:(0,_.getCurrencyDisplayCode)(n),amount:(0,_.formatMoney)(n,t,!0),should_format:!1,show_currency:!0})))))};var v=function(e){var t=e.children,n=e.header,a=e.is_visible,r=e.toggleVisibility;return o.createElement(s.ContentExpander,{className:"acc-switcher",title:n,is_expanded:a,onToggle:r,is_title_spaced:!0},t)};v.propTypes={children:i().node,header:i().oneOfType([i().object,i().string]),is_visible:i().bool,toggleVisibility:i().func};const b=v;function w(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var x=function(e,t){return w(e).sort((function(e,n){var a=t[e.loginid].currency,r=t[n.loginid].currency,c=(0,_.isCryptocurrency)(a),i=(0,_.isCryptocurrency)(r),o=!c,l=!i;return e.is_virtual||n.is_virtual?e.is_virtual?1:-1:c&&i||o&&l?a<r?-1:1:o&&i?-1:1}))},k=function(e){return w(e).sort((function(e,t){var n=A(e),a=A(t);return n&&!a?1:a&&!n||"gaming"===e.market_type||"synthetic"===e.market_type?-1:"financial"===e.sub_account_type?"gaming"===t.market_type||"synthetic"===t.market_type?1:-1:1}))},A=function(e){return"demo"===e.account_type},D=function(e,t,n,a,r,c){var i=[];return t&&Object.keys(t).forEach((function(t){var o=n.find((function(n){var a="synthetic"===n.market_type?"gaming":n.market_type;return(r===_.CFD_PLATFORMS.DXTRADE||n.sub_account_type===t)&&a===e}));o&&r===_.CFD_PLATFORMS.MT5&&(a.filter((function(t){var n="synthetic"===t.market_type?"gaming":t.market_type;return e===n&&!t.disabled})).length&&"real"===o.account_type&&(o=!1));if(!o){var l=(0,_.getCFDAccountKey)({market_type:e,sub_account_type:t,platform:r});l&&i.push({icon:(0,_.getCFDAccount)({market_type:e,sub_account_type:t,platform:r,is_eu:c}),title:(0,_.getCFDAccountDisplay)({market_type:e,sub_account_type:t,platform:r,is_eu:c}),type:l})}})),i};function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function N(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(){C=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",i=a.toStringTag||"@@toStringTag";function o(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{o({},"")}catch(e){o=function(e,t,n){return e[t]=n}}function l(e,t,n,a){var r=t&&t.prototype instanceof _?t:_,c=Object.create(r.prototype),i=new x(a||[]);return c._invoke=function(e,t,n){var a="suspendedStart";return function(r,c){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw c;return A()}for(n.method=r,n.arg=c;;){var i=n.delegate;if(i){var o=b(i,n);if(o){if(o===u)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var l=s(e,t,n);if("normal"===l.type){if(a=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),c}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function _(){}function d(){}function m(){}var p={};o(p,r,(function(){return this}));var f=Object.getPrototypeOf,y=f&&f(f(k([])));y&&y!==t&&n.call(y,r)&&(p=y);var g=m.prototype=_.prototype=Object.create(p);function h(e){["next","throw","return"].forEach((function(t){o(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){function a(r,c,i,o){var l=s(e[r],e,c);if("throw"!==l.type){var u=l.arg,_=u.value;return _&&"object"==T(_)&&n.call(_,"__await")?t.resolve(_.__await).then((function(e){a("next",e,i,o)}),(function(e){a("throw",e,i,o)})):t.resolve(_).then((function(e){u.value=e,i(u)}),(function(e){return a("throw",e,i,o)}))}o(l.arg)}var r;this._invoke=function(e,n){function c(){return new t((function(t,r){a(e,n,t,r)}))}return r=r?r.then(c,c):c()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=s(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,c=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return c.next=c}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=m,o(g,"constructor",m),o(m,"constructor",d),d.displayName=o(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,o(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},h(v.prototype),o(v.prototype,c,(function(){return this})),e.AsyncIterator=v,e.async=function(t,n,a,r,c){void 0===c&&(c=Promise);var i=new v(l(t,n,a,r),c);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},h(g),o(g,i,"Generator"),o(g,r,(function(){return this})),o(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=k,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var c=this.tryEntries[r],i=c.completion;if("root"===c.tryLoc)return a("end");if(c.tryLoc<=this.prev){var o=n.call(c,"catchLoc"),l=n.call(c,"finallyLoc");if(o&&l){if(this.prev<c.catchLoc)return a(c.catchLoc,!0);if(this.prev<c.finallyLoc)return a(c.finallyLoc)}else if(o){if(this.prev<c.catchLoc)return a(c.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return a(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var c=r;break}}c&&("break"===e||"continue"===e)&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var i=c?c.completion:{};return i.type=e,i.arg=t,c?(this.method="next",this.next=c.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;E(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function S(e,t,n,a,r,c,i){try{var o=e[c](i),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(a,r)}function L(e){return function(){var t=this,n=arguments;return new Promise((function(a,r){var c=e.apply(t,n);function i(e){S(c,a,r,i,o,"next",e)}function o(e){S(c,a,r,i,o,"throw",e)}i(void 0)}))}}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var a,r,c=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(c.push(a.value),!t||c.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==n.return||n.return()}finally{if(o)throw r}}return c}(e,t)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){if(e){if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var I=function(e){var t,n,a=z(o.useState(!e.is_virtual||e.should_show_real_accounts_list?0:1),2),c=a[0],i=a[1],l=z(o.useState(!0),2),d=l[0],p=l[1],y=z(o.useState(!0),2),g=y[0],v=y[1],w=z(o.useState(!0),2),E=w[0],T=w[1],S=z(o.useState(!0),2),M=S[0],F=S[1],I=z(o.useState(!0),2),O=I[0],j=I[1],R=z(o.useState(!0),2),P=R[0],B=R[1],V=o.useRef(),G=o.useRef(null),W=(0,_.getPlatformSettings)("dxtrade").name,X=(0,_.getPlatformSettings)("mt5").name;o.useEffect((function(){q()&&F(!1)}),[q]),o.useEffect((function(){G.current&&(M||P)&&G.current.scrollIntoView({behavior:"smooth",block:q()?"end":"start",inline:"nearest"})}),[q,M,P]);var U=function(e){switch(e){case"demo_deriv":return p(!d);case"demo_dmt5":return T(!E);case"demo_dxtrade":return j(!O);case"real_deriv":return v(!g);case"real_dmt5":return F(!M);case"real_dxtrade":return B(!P);default:return!1}},q=o.useCallback((function(){var t;return(null==e||null===(t=e.account_list)||void 0===t?void 0:t.length)>4}),[null==e||null===(t=e.account_list)||void 0===t?void 0:t.length]),$=function(){var t=L(C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Y(),e.is_positions_drawer_on&&e.togglePositionsDrawer(),e.routeBackInApp(e.history),t.next=5,e.logoutClient();case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Y=function(){e.toggleAccountsDialog(!1)};(0,s.useOnClickOutside)(V,Y,(function(t){return e.is_visible&&!t.target.classList.contains("acc-info")}));var H=function(){var t=L(C().mark((function t(n){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Y(),t.next=3,e.history.push(_.routes.mt5);case 3:window.location.hash=n;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=function(){var t=L(C().mark((function t(n){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Y(),t.next=3,e.history.push(_.routes.dxtrade);case 3:window.location.hash=n;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Z=e.is_fully_authenticated&&function(){if(!e.account_settings)return!1;var t=e.account_settings,n=t.citizen,a=t.tax_identification_number,r=t.tax_residence;return!!(n&&a&&r)}(),J=function(e,t){var n,a,r,c,i=t?null===(n=t.server_info)||void 0===n?void 0:n.geolocation.region:"",o=t?(null===(a=t.server_info)||void 0===a?void 0:a.environment).toLowerCase():"";H("real".concat(e?(r="",c="","synthetic"===e&&(r=o.split("server")[1],c="-".concat(i.toLowerCase())),"-".concat(e).concat(c).concat(r)):""))},Q=function(){K("real")},ee=function(e){var t=e?"-".concat(e):"";H("demo".concat(t))},te=function(e){var t=e?"-".concat(e):"";K("demo".concat(t))},ne=function(t,n,a){var r,c,i,o,l=D("gaming",n===_.CFD_PLATFORMS.MT5?null===(r=e.landing_companies)||void 0===r?void 0:r.mt_gaming_company:null===(c=e.landing_companies)||void 0===c?void 0:c.dxtrade_gaming_company,t,e.mt5_trading_servers,n,a),s=D("financial",n===_.CFD_PLATFORMS.MT5?null===(i=e.landing_companies)||void 0===i?void 0:i.mt_financial_company:null===(o=e.landing_companies)||void 0===o?void 0:o.dxtrade_financial_company,t,e.mt5_trading_servers,n,a);return a?N(s):[].concat(N(l),N(s))},ae=function(){var t=L(C().mark((function t(n){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Y(),e.account_loginid!==n){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.switchAccount(n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),re=function(){var t=L(C().mark((function t(){return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Y(),e.resetVirtualBalance();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ce=0===c,ie=function(){return k(e.mt5_login_list).filter(A)},oe=function(){return k(e.dxtrade_accounts_list).filter(A)},le=function(){return ne(ie(),_.CFD_PLATFORMS.MT5,e.is_eu)},se=function(){return k(e.mt5_login_list).filter((function(e){return!A(e)}))},ue=function(){return k(e.dxtrade_accounts_list).filter((function(e){return!A(e)}))},_e=function(t){var n=t.error?t.error.details.server:t.server;return e.mt5_login_list.length>=1?e.mt5_login_list.filter((function(e){return!A(e)})).find((function(e){return e.server===n})):null},de=function(){return ne(se(),_.CFD_PLATFORMS.MT5,e.is_eu)},me=function(){return e.available_crypto_currencies.length<1&&!e.has_fiat||!e.is_virtual},pe=e.is_eu&&("malta"===e.landing_company_shortcode||"iom"===e.landing_company_shortcode&&0!==e.upgradeable_landing_companies.length),fe=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.filter((function(e){return t?A(e):!A(e)})).reduce((function(e,t){return e.balance+=t.balance,e}),{balance:0})},ye=function(t){if(e.standpoint.malta&&"synthetic"===t)return!0;if(e.is_eu){var n=(0,_.getAccountTypeFields)({category:"real",type:t});return e.isAccountOfTypeDisabled(null==n?void 0:n.account_type)}return!e.has_active_real_account},ge=function(t){if(e.is_eu){var n=(0,_.getAccountTypeFields)({category:"real",type:t});return e.isAccountOfTypeDisabled(null==n?void 0:n.account_type)}return!e.has_active_real_account};if(!e.is_logged_in)return!1;var he,ve,be,we=function(t){return!!e.is_mt5_allowed&&("demo"===t?!!ie().length||!!le().length:!!se().length||!!de().length)},Ee=function(){return e.is_dxtrade_allowed},xe=ce?e.is_mt5_allowed&&e.is_dxtrade_allowed?(0,u.localize)("Total assets in your Deriv, {{platform_name_mt5}} and {{platform_name_dxtrade}} real accounts.",{platform_name_dxtrade:W,platform_name_mt5:X}):e.is_mt5_allowed&&!e.is_dxtrade_allowed?(0,u.localize)("Total assets in your Deriv and {{platform_name_mt5}} real accounts.",{platform_name_mt5:X}):!e.is_mt5_allowed&&e.is_dxtrade_allowed?(0,u.localize)("Total assets in your Deriv and {{platform_name_dxtrade}} real accounts.",{platform_name_dxtrade:W}):(0,u.localize)("Total assets in your Deriv real accounts."):e.is_mt5_allowed&&e.is_dxtrade_allowed?(0,u.localize)("Total assets in your Deriv, {{platform_name_mt5}} and {{platform_name_dxtrade}} demo accounts.",{platform_name_dxtrade:W,platform_name_mt5:X}):e.is_mt5_allowed&&!e.is_dxtrade_allowed?(0,u.localize)("Total assets in your Deriv and {{platform_name_mt5}} demo accounts.",{platform_name_mt5:X}):!e.is_mt5_allowed&&e.is_dxtrade_allowed?(0,u.localize)("Total assets in your Deriv and {{platform_name_dxtrade}} demo accounts.",{platform_name_dxtrade:W}):(0,u.localize)("Total assets in your Deriv demo accounts."),ke=o.createElement("div",{className:"acc-switcher__list-wrapper"},o.createElement(b,{header:(0,u.localize)("Deriv Accounts"),is_visible:d,toggleVisibility:function(){U("demo_deriv")}},o.createElement("div",{className:"acc-switcher__accounts"},x(e.account_list,e.accounts).filter((function(e){return e.is_virtual})).map((function(t){return o.createElement(h,{is_dark_mode_on:e.is_dark_mode_on,key:t.loginid,balance:e.accounts[t.loginid].balance,currency:e.accounts[t.loginid].currency,currency_icon:"IcCurrency-".concat(t.icon),country_standpoint:e.country_standpoint,display_type:"currency",has_balance:"balance"in e.accounts[t.loginid],has_reset_balance:e.accounts[e.account_loginid].is_virtual,is_disabled:t.is_disabled,is_virtual:t.is_virtual,loginid:t.loginid,redirectAccount:t.is_disabled?void 0:function(){return ae(t.loginid)},onClickResetVirtualBalance:re,selected_loginid:e.account_loginid})})))),we("demo")&&o.createElement(o.Fragment,null,o.createElement("div",{className:"acc-switcher__separator acc-switcher__separator--no-padding"}),o.createElement(b,{header:(0,u.localize)("DMT5 Accounts"),is_visible:E,toggleVisibility:function(){U("demo_dmt5")}},e.is_loading_mt5?o.createElement("div",{className:"acc-switcher__accounts--is-loading"},o.createElement(f._z,{speed:3})):o.createElement(o.Fragment,null,!!ie().length&&o.createElement("div",{className:"acc-switcher__accounts"},ie().map((function(t){return o.createElement(h,{is_dark_mode_on:e.is_dark_mode_on,is_eu:e.is_eu,key:t.login,market_type:t.market_type,sub_account_type:t.sub_account_type,balance:t.balance,currency:t.currency,currency_icon:"IcMt5-".concat((0,_.getCFDAccount)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:_.CFD_PLATFORMS.MT5,is_eu:e.is_eu})),country_standpoint:e.country_standpoint,has_balance:"balance"in t,has_error:t.has_error,loginid:t.display_login,redirectAccount:function(){return ee(t.market_type)},platform:_.CFD_PLATFORMS.MT5})}))),le().map((function(t){return o.createElement("div",{key:t.title,className:"acc-switcher__new-account"},o.createElement(s.Icon,{icon:"IcMt5-".concat(t.icon),size:24}),o.createElement(s.Text,{size:"xs",color:"general",className:"acc-switcher__new-account-text"},t.title),o.createElement(s.Button,{onClick:function(){return function(t){if(e.is_eu&&!e.has_maltainvest_account&&e.standpoint.iom)return Y(),void e.openAccountNeededModal("maltainvest",(0,u.localize)("Deriv Multipliers"),(0,u.localize)("demo CFDs"));sessionStorage.setItem("open_cfd_account_type","demo.".concat(t)),ee()}(t.type)},className:"acc-switcher__new-account-btn",is_disabled:e.mt5_disabled_signup_types.demo||"synthetic"===t.type&&e.standpoint.malta,secondary:!0,small:!0},(0,u.localize)("Add")))}))))),Ee()&&o.createElement(b,{header:(0,u.localize)("{{platform_name_dxtrade}} Accounts",{platform_name_dxtrade:W}),is_visible:O,toggleVisibility:function(){U("demo_dxtrade")}},o.createElement(o.Fragment,null,!!oe().length&&o.createElement("div",{className:"acc-switcher__accounts"},oe().map((function(t){return o.createElement(h,{is_dark_mode_on:e.is_dark_mode_on,key:t.account_id,market_type:t.market_type,balance:t.balance,currency:t.currency,currency_icon:"IcDxtrade-".concat((0,_.getCFDAccount)({market_type:t.market_type,platform:_.CFD_PLATFORMS.DXTRADE})),country_standpoint:e.country_standpoint,has_balance:"balance"in t,loginid:t.display_login,redirectAccount:function(){return te(t.market_type)},platform:_.CFD_PLATFORMS.DXTRADE})}))),ne(oe(),_.CFD_PLATFORMS.DXTRADE,e.is_eu).map((function(t){return o.createElement("div",{key:t.title,className:"acc-switcher__new-account"},o.createElement(s.Icon,{icon:"IcDxtrade-".concat(t.icon),size:24}),o.createElement(s.Text,{size:"xs",color:"general",className:"acc-switcher__new-account-text"},t.title),o.createElement(s.Button,{onClick:function(){return e=t.type,sessionStorage.setItem("open_cfd_account_type","demo.".concat(e)),void te();var e},className:"acc-switcher__new-account-btn",secondary:!0,small:!0,is_disabled:e.dxtrade_disabled_signup_types.demo||!!e.dxtrade_accounts_list_error},(0,u.localize)("Add")))}))))),Ae=o.createElement("div",{ref:G,className:"acc-switcher__list-wrapper"},o.createElement(o.Fragment,null,o.createElement(b,{header:(0,u.localize)("Deriv Accounts"),is_visible:g,toggleVisibility:function(){U("real_deriv")}},o.createElement("div",{className:"acc-switcher__accounts"},x(e.account_list,e.accounts).filter((function(e){return!e.is_virtual})).map((function(t){return o.createElement(h,{account_type:e.account_type,is_dark_mode_on:e.is_dark_mode_on,key:t.loginid,balance:e.accounts[t.loginid].balance,currency:e.accounts[t.loginid].currency,currency_icon:"IcCurrency-".concat(t.icon),country_standpoint:e.country_standpoint,display_type:"currency",has_balance:"balance"in e.accounts[t.loginid],is_disabled:t.is_disabled,is_virtual:t.is_virtual,is_eu:e.is_eu,loginid:t.loginid,redirectAccount:t.is_disabled?void 0:function(){return ae(t.loginid)},selected_loginid:e.account_loginid})}))),(e.is_eu||e.is_virtual||!me()||pe?e.upgradeable_landing_companies:[]).map((function(t,n){return o.createElement("div",{key:n,className:"acc-switcher__new-account"},o.createElement(s.Icon,{icon:"IcDeriv",size:24}),o.createElement(s.Text,{size:"xs",color:"general",className:"acc-switcher__new-account-text"},(0,m.GH)(t,{account_residence:e.client_residence},e.country_standpoint)),o.createElement(s.Button,{id:"dt_core_account-switcher_add-new-account",onClick:function(){e.openRealAccountSignup(t)},className:"acc-switcher__new-account-btn",secondary:!0,small:!0},(0,u.localize)("Add")))})),!(e.is_virtual&&e.can_upgrade_to)&&me()&&(!e.is_eu||e.is_eu&&e.can_change_fiat_currency)&&o.createElement(s.Button,{className:"acc-switcher__btn",secondary:!0,onClick:e.has_any_real_account&&!e.account_list.filter((function(e){return!e.is_virtual})).some((function(e){return"Real"!==e.title}))?function(){Y(),e.toggleSetCurrencyModal()}:function(){return e.openRealAccountSignup("manage")}},e.has_fiat&&0===(null===(n=e.available_crypto_currencies)||void 0===n?void 0:n.length)?(0,u.localize)("Manage account"):(0,u.localize)("Add or manage account")))),we("real")&&o.createElement(o.Fragment,null,o.createElement("div",{className:"acc-switcher__separator acc-switcher__separator--no-padding"}),o.createElement(b,{header:(0,u.localize)("DMT5 Accounts"),is_visible:M,toggleVisibility:function(){U("real_dmt5")}},e.is_loading_mt5?o.createElement("div",{className:"acc-switcher__accounts--is-loading"},o.createElement(f._z,{speed:3})):o.createElement(o.Fragment,null,!!se().length&&o.createElement("div",{className:"acc-switcher__accounts"},se().map((function(t){return o.createElement(h,{is_dark_mode_on:e.is_dark_mode_on,is_eu:e.is_eu,key:t.login,market_type:t.market_type,sub_account_type:t.sub_account_type,balance:t.balance,currency:t.currency,currency_icon:"IcMt5-".concat((0,_.getCFDAccount)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:_.CFD_PLATFORMS.MT5,is_eu:e.is_eu})),country_standpoint:e.country_standpoint,has_balance:"balance"in t,has_error:t.has_error,loginid:t.display_login,redirectAccount:function(){J(t.market_type,_e(t))},server:_e(t),platform:_.CFD_PLATFORMS.MT5})}))),de().map((function(t){return o.createElement("div",{key:t.title,className:r()("acc-switcher__new-account",{"acc-switcher__new-account--disabled":e.mt5_login_list_error})},o.createElement(s.Icon,{icon:"IcMt5-".concat(t.icon),size:24}),o.createElement(s.Text,{size:"xs",color:"general",className:"acc-switcher__new-account-text"},t.title),o.createElement(s.Button,{onClick:function(){return n=t.type,a="synthetic"===n?e.has_malta_account:e.has_maltainvest_account,void(e.is_eu&&!a?(Y(),e.openAccountNeededModal("synthetic"===n?e.standpoint.gaming_company:e.standpoint.financial_company,"synthetic"===n?(0,u.localize)("Deriv Synthetic"):(0,u.localize)("Deriv Multipliers"),"synthetic"===n?(0,u.localize)("DMT5 Synthetic"):(0,u.localize)("real CFDs"))):(Z?sessionStorage.setItem("open_cfd_account_type","real.".concat(n,".set_password")):sessionStorage.setItem("open_cfd_account_type","real.".concat(n)),J()));var n,a},className:"acc-switcher__new-account-btn",secondary:!0,small:!0,is_disabled:e.mt5_disabled_signup_types.real||ye(t.type)||"financial_stp"===t.type&&(e.is_pending_authentication||!!e.mt5_login_list_error)},(0,u.localize)("Add")))}))))),Ee()&&o.createElement(o.Fragment,null,o.createElement("div",{className:"acc-switcher__separator acc-switcher__separator--no-padding"}),o.createElement(b,{header:(0,u.localize)("{{platform_name_dxtrade}} Accounts",{platform_name_dxtrade:W}),is_visible:P,toggleVisibility:function(){U("real_dxtrade")}},e.is_loading_dxtrade?o.createElement("div",{className:"acc-switcher__accounts--is-loading"},o.createElement(f._z,{speed:3})):o.createElement(o.Fragment,null,!!ue().length&&o.createElement("div",{className:"acc-switcher__accounts"},ue().map((function(t){return o.createElement(h,{is_dark_mode_on:e.is_dark_mode_on,key:t.account_id,market_type:t.market_type,balance:t.balance,currency:t.currency,currency_icon:"IcDxtrade-".concat((0,_.getCFDAccount)({market_type:t.market_type,platform:_.CFD_PLATFORMS.DXTRADE})),country_standpoint:e.country_standpoint,has_balance:"balance"in t,has_error:t.has_error,loginid:t.display_login,redirectAccount:function(){return Q(t.market_type)},platform:_.CFD_PLATFORMS.DXTRADE})}))),ne(ue(),_.CFD_PLATFORMS.DXTRADE,e.is_eu).map((function(t){return o.createElement("div",{key:t.title,className:r()("acc-switcher__new-account",{"acc-switcher__new-account--disabled":e.dxtrade_accounts_list_error})},o.createElement(s.Icon,{icon:"IcDxtrade-".concat(t.icon),size:24}),o.createElement(s.Text,{size:"xs",color:"general",className:"acc-switcher__new-account-text"},t.title),o.createElement(s.Button,{onClick:function(){return e=t.type,sessionStorage.setItem("open_cfd_account_type","real.".concat(e)),void Q();var e},className:"acc-switcher__new-account-btn",secondary:!0,small:!0,is_disabled:e.dxtrade_disabled_signup_types.real||ge(t.type)||!!e.dxtrade_accounts_list_error},(0,u.localize)("Add")))}))))));return o.createElement("div",{className:"acc-switcher__list",ref:V},o.createElement(s.Tabs,{active_index:c,className:"acc-switcher__list-tabs",onTabItemClick:function(e){return i(e)},top:!0},o.createElement("div",{label:(0,u.localize)("Real"),id:"real_account_tab"},o.createElement(s.DesktopWrapper,null,o.createElement(s.ThemedScrollbars,{height:"354px"},Ae)),o.createElement(s.MobileWrapper,null,o.createElement(s.Div100vhContainer,{className:"acc-switcher__list-container",max_autoheight_offset:"234px"},Ae))),o.createElement("div",{label:(0,u.localize)("Demo"),id:"dt_core_account-switcher_demo-tab"},o.createElement(s.DesktopWrapper,null,o.createElement(s.ThemedScrollbars,{height:"354px"},ke)),o.createElement(s.MobileWrapper,null,o.createElement(s.Div100vhContainer,{className:"acc-switcher__list-container",max_autoheight_offset:"234px"},ke)))),o.createElement("div",{className:r()("acc-switcher__separator",{"acc-switcher__separator--auto-margin":e.is_mobile})}),o.createElement("div",{className:"acc-switcher__total"},o.createElement(s.Text,{line_height:"s",size:"xs",weight:"bold",color:"prominent"},o.createElement(u.Localize,{i18n_default_text:"Total assets"})),o.createElement(s.Text,{size:"xs",color:"prominent",className:"acc-switcher__balance"},o.createElement(s.Money,{currency:ce?e.obj_total_balance.currency:"USD",amount:(0,_.formatMoney)(ce?e.obj_total_balance.currency:"USD",ce?(he=fe(e.mt5_login_list,!1),ve=fe(e.dxtrade_accounts_list,!1),be=e.obj_total_balance.amount_real,be+=e.obj_total_balance.amount_mt5>0?e.obj_total_balance.amount_mt5:he.balance,be+=e.obj_total_balance.amount_dxtrade>0?e.obj_total_balance.amount_dxtrade:ve.balance):function(){var t=e.account_list.find((function(e){return e.is_virtual})).loginid,n=e.accounts[t]?e.accounts[t].balance:0,a=fe(e.mt5_login_list),r=fe(e.dxtrade_accounts_list),c=n;return Array.isArray(e.mt5_login_list)&&(c+=a.balance),Array.isArray(e.dxtrade_accounts_list)&&(c+=r.balance),c}(),!0),show_currency:!0,should_format:!1}))),o.createElement(s.Text,{color:"less-prominent",line_height:"xs",size:"xxxs",className:"acc-switcher__total-subtitle"},xe),o.createElement("div",{className:"acc-switcher__separator"}),o.createElement("div",{className:"acc-switcher__footer"},o.createElement("div",{id:"dt_logout_button",className:"acc-switcher__logout",onClick:$},o.createElement(s.Text,{color:"prominent",size:"xs",align:"left",className:"acc-switcher__logout-text"},(0,u.localize)("Log out")),o.createElement(s.Icon,{icon:"IcLogout",className:"acc-switcher__logout-icon drawer__icon",onClick:$}))))};I.propTypes={available_crypto_currencies:i().array,account_list:i().array,account_loginid:i().string,accounts:i().object,account_type:i().string,can_change_fiat_currency:i().bool,can_upgrade_to:i().string,country_standpoint:i().object,has_fiat:i().bool,has_active_real_account:i().bool,is_eu:i().bool,is_fully_authenticated:i().bool,is_loading_mt5:i().bool,is_loading_dxtrade:i().bool,is_logged_in:i().bool,is_mt5_allowed:i().bool,is_pending_authentication:i().bool,is_positions_drawer_on:i().bool,is_virtual:i().bool,is_visible:i().bool,landing_company_shortcode:i().string,logoutClient:i().func,mt5_disabled_signup_types:i().object,mt5_login_list:i().array,dxtrade_disabled_signup_types:i().object,obj_total_balance:i().object,openRealAccountSignup:i().func,switchAccount:i().func,resetVirtualBalance:i().func,toggleAccountsDialog:i().func,togglePositionsDrawer:i().func,toggleSetCurrencyModal:i().func,updateMt5LoginList:i().func};var O=(0,d.withRouter)((0,p.$j)((function(e){var t=e.client,n=e.common,a=e.ui;return{available_crypto_currencies:t.available_crypto_currencies,account_loginid:t.loginid,accounts:t.accounts,account_type:t.account_type,account_settings:t.account_settings,can_change_fiat_currency:t.can_change_fiat_currency,account_list:t.account_list,can_upgrade_to:t.can_upgrade_to,client_residence:t.residence,country_standpoint:t.country_standpoint,is_dark_mode_on:a.is_dark_mode_on,is_eu:t.is_eu,is_fully_authenticated:t.is_fully_authenticated,is_loading_mt5:t.is_populating_mt5_account_list,is_loading_dxtrade:t.is_populating_dxtrade_account_list,is_logged_in:t.is_logged_in,is_dxtrade_allowed:t.is_dxtrade_allowed,is_mt5_allowed:t.is_mt5_allowed,is_pending_authentication:t.is_pending_authentication,is_virtual:t.is_virtual,has_fiat:t.has_fiat,landing_company_shortcode:t.landing_company_shortcode,mt5_disabled_signup_types:t.mt5_disabled_signup_types,mt5_login_list:t.mt5_login_list,mt5_login_list_error:t.mt5_login_list_error,dxtrade_accounts_list:t.dxtrade_accounts_list,dxtrade_accounts_list_error:t.dxtrade_accounts_list_error,dxtrade_disabled_signup_types:t.dxtrade_disabled_signup_types,obj_total_balance:t.obj_total_balance,switchAccount:t.switchAccount,resetVirtualBalance:t.resetVirtualBalance,isAccountOfTypeDisabled:t.isAccountOfTypeDisabled,has_malta_account:t.has_malta_account,has_maltainvest_account:t.has_maltainvest_account,has_active_real_account:t.has_active_real_account,openAccountNeededModal:a.openAccountNeededModal,logoutClient:t.logout,landing_companies:t.landing_companies,upgradeable_landing_companies:t.upgradeable_landing_companies,updateMt5LoginList:t.updateMt5LoginList,routeBackInApp:n.routeBackInApp,standpoint:t.standpoint,is_positions_drawer_on:a.is_positions_drawer_on,openRealAccountSignup:a.openRealAccountSignup,mt5_trading_servers:t.mt5_trading_servers,toggleAccountsDialog:a.toggleAccountsDialog,togglePositionsDrawer:a.togglePositionsDrawer,toggleSetCurrencyModal:a.toggleSetCurrencyModal,should_show_real_accounts_list:a.should_show_real_accounts_list,toggleShouldShowRealAccountsList:a.toggleShouldShowRealAccountsList}}))(I)),j=function(e){var t=e.disableApp,n=e.enableApp,a=e.is_visible,c=e.is_upgrade_enabled,i=e.toggle;return o.createElement(s.Modal,{id:"dt_account_switcher_modal",className:"accounts-switcher",enableApp:n,is_open:a,is_vertical_top:!0,disableApp:t,has_close_icon:!1,toggleModal:i,height:"auto",width:"calc(100vw - 32px)"},o.createElement(s.Div100vhContainer,{className:r()("acc-switcher__wrapper","acc-switcher__wrapper--is-mobile"),max_autoheight_offset:"48px"},o.createElement(O,{is_mobile:!0,is_visible:!0,toggle:i,is_upgrade_enabled:c})))};j.propTypes={children:i().any,onClose:i().func,title:i().string,visible:i().bool,wrapperClassName:i().string};const R=j;var P=function(e){var t=e.is_disabled,n=e.disabled_message,a=e.children;return t&&n?o.createElement(s.Popover,{alignment:"left",message:n,zIndex:99999},a):o.createElement(o.Fragment,null,a)},B=function(e){var t=e.is_virtual,n=e.currency;return o.createElement(s.Icon,{icon:"IcCurrency-".concat(t?"virtual":n||"Unknown"),className:"acc-info__id-icon acc-info__id-icon--".concat(t?"virtual":n),size:24})},V=function(e){var t=e.account_type,n=e.country_standpoint,a=e.is_eu;return"financial"===t?o.createElement(u.Localize,{i18n_default_text:"Multipliers"}):"gaming"===t?n.is_isle_of_man?null:n.is_united_kingdom?o.createElement(u.Localize,{i18n_default_text:"Gaming"}):a||n.is_belgium?o.createElement(u.Localize,{i18n_default_text:"Options"}):o.createElement(u.Localize,{i18n_default_text:"Synthetic"}):null},G=function(e){var t=e.acc_switcher_disabled_message,n=e.account_type,a=e.balance,c=e.currency,i=e.country_standpoint,d=e.disableApp,m=e.enableApp,p=e.is_dialog_on,f=e.is_eu,y=e.is_virtual,g=e.toggleDialog,h=e.is_disabled,v=c.toLowerCase();return o.createElement("div",{className:"acc-info__wrapper"},o.createElement("div",{className:"acc-info__separator"}),o.createElement(P,{is_disabled:h,disabled_message:t},o.createElement("div",{id:"dt_core_account-info_acc-info",className:r()("acc-info",{"acc-info--show":p,"acc-info--is-virtual":y,"acc-info--is-disabled":h}),onClick:h?void 0:function(){return g()}},o.createElement("span",{className:"acc-info__id"},o.createElement(s.DesktopWrapper,null,o.createElement(B,{is_virtual:y,currency:v})),o.createElement(s.MobileWrapper,null,(y||c)&&o.createElement(B,{is_virtual:y,currency:v}))),(void 0!==a||!c)&&o.createElement("div",{className:"acc-info__account-type-and-balance"},o.createElement("p",{className:r()("acc-info__balance",{"acc-info__balance--no-currency":!c&&!y})},c?"".concat(a," ").concat((0,_.getCurrencyDisplayCode)(c)):o.createElement(u.Localize,{i18n_default_text:"No currency assigned"})),o.createElement(s.Text,{size:"xxxs",line_height:"s"},o.createElement(V,{account_type:n,country_standpoint:i,is_eu:f}))),h?o.createElement(s.Icon,{icon:"IcLock"}):o.createElement(s.Icon,{icon:"IcChevronDownBold",className:"acc-info__select-arrow"}))),o.createElement(s.MobileWrapper,null,o.createElement(R,{is_visible:p,disableApp:d,enableApp:m,toggle:g})),o.createElement(s.DesktopWrapper,null,o.createElement(l.Z,{in:p,timeout:200,classNames:{enter:"acc-switcher__wrapper--enter",enterDone:"acc-switcher__wrapper--enter-done",exit:"acc-switcher__wrapper--exit"},unmountOnExit:!0},o.createElement("div",{className:"acc-switcher__wrapper"},o.createElement(O,{is_visible:p,toggle:g})))))};G.propTypes={acc_switcher_disabled_message:i().string,account_type:i().string,balance:i().string,currency:i().string,country_standpoint:i().object,is_dialog_on:i().bool,is_disabled:i().bool,is_eu:i().bool,is_virtual:i().bool,loginid:i().string,toggleDialog:i().func};const W=G}}]);