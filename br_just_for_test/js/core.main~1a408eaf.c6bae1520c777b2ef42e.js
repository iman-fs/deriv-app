(self.webpackChunk=self.webpackChunk||[]).push([[8369],{10331:(t,e,r)=>{var n;self,n=(t,e,r,n,o)=>(()=>{var i,a,s,c,u={"../../../node_modules/prop-types/factoryWithThrowingShims.js":(t,e,r)=>{"use strict";var n=r("../../../node_modules/prop-types/lib/ReactPropTypesSecret.js");function o(){}function i(){}i.resetWarningCache=o,t.exports=function(){function t(t,e,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},"../../../node_modules/prop-types/index.js":(t,e,r)=>{t.exports=r("../../../node_modules/prop-types/factoryWithThrowingShims.js")()},"../../../node_modules/prop-types/lib/ReactPropTypesSecret.js":t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"@deriv/components":e=>{"use strict";e.exports=t},"@deriv/shared":t=>{"use strict";t.exports=e},"@deriv/translations":t=>{"use strict";t.exports=r},mobx:t=>{"use strict";t.exports=n},react:t=>{"use strict";t.exports=o}},l={};function h(t){var e=l[t];if(void 0!==e)return e.exports;var r=l[t]={exports:{}};return u[t].call(r.exports,r,r.exports,h),r.exports}h.m=u,h.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return h.d(e,{a:e}),e},a=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,h.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var r=Object.create(null);h.r(r);var n={};i=i||[null,a({}),a([]),a(a)];for(var o=2&e&&t;"object"==typeof o&&!~i.indexOf(o);o=a(o))Object.getOwnPropertyNames(o).forEach((e=>n[e]=()=>t[e]));return n.default=()=>t,h.d(r,n),r},h.d=(t,e)=>{for(var r in e)h.o(e,r)&&!h.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},h.f={},h.e=t=>Promise.all(Object.keys(h.f).reduce(((e,r)=>(h.f[r](t,e),e)),[])),h.u=t=>"cashier/js/cashier."+t+".4b458ac4203eb84dc516.js",h.miniCssF=t=>{},h.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s={},c="@deriv/cashier:",h.l=(t,e,r,n)=>{if(s[t])s[t].push(e);else{var o,i;if(void 0!==r)for(var a=document.getElementsByTagName("script"),u=0;u<a.length;u++){var l=a[u];if(l.getAttribute("src")==t||l.getAttribute("data-webpack")==c+r){o=l;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,h.nc&&o.setAttribute("nonce",h.nc),o.setAttribute("data-webpack",c+r),o.src=t),s[t]=[e];var f=(e,r)=>{o.onerror=o.onload=null,clearTimeout(d);var n=s[t];if(delete s[t],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((t=>t(r))),e)return e(r)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),i&&document.head.appendChild(o)}},h.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},h.p="/br_just_for_test/",(()=>{var t={"cashier-store":0};h.f.j=(e,r)=>{var n=h.o(t,e)?t[e]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=t[e]=[r,o]));r.push(n[2]=o);var i=h.p+h.u(e),a=new Error;h.l(i,(r=>{if(h.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,n[1](a)}}),"chunk-"+e,e)}};var e=(e,r)=>{var n,o,[i,a,s]=r,c=0;if(i.some((e=>0!==t[e]))){for(n in a)h.o(a,n)&&(h.m[n]=a[n]);s&&s(h)}for(e&&e(r);c<i.length;c++)o=i[c],h.o(t,o)&&t[o]&&t[o][0](),t[o]=0},r=self.webpackChunk_deriv_cashier=self.webpackChunk_deriv_cashier||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var f={};return(()=>{"use strict";h.d(f,{default:()=>be});var t=h("mobx"),e=h("@deriv/shared");function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function n(){n=function(){return t};var t={},e=Object.prototype,o=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=k(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=h(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var f={};function d(){}function p(){}function v(){}var y={};u(y,a,(function(){return this}));var m=Object.getPrototypeOf,_=m&&m(m(E([])));_&&_!==e&&o.call(_,a)&&(y=_);var g=v.prototype=d.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function n(i,a,s,c){var u=h(t[i],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==r(f)&&o.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(f).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}}function k(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=h(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function E(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:T}}function T(){return{value:void 0,done:!0}}return p.prototype=v,u(g,"constructor",v),u(v,"constructor",p),p.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,s,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),u(g,c,"Generator"),u(g,a,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=E,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}function o(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var a=t.apply(e,r);function s(t){o(a,n,i,s,c,"next",t)}function c(t){o(a,n,i,s,c,"throw",t)}s(void 0)}))}}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s=function(){function r(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.should_show=!1,this.is_confirmed=!1,this.last_location=null,this.current_location=null,(0,t.makeObservable)(this,{should_show:t.observable,is_confirmed:t.observable,last_location:t.observable,current_location:t.observable,shouldNavigateAfterPrompt:t.action.bound,resetLastLocation:t.action.bound,resetIsConfirmed:t.action.bound,onConfirm:t.action.bound,onCancel:t.action.bound,continueRoute:t.action.bound}),this.root_store=e}var o,s,c,u;return o=r,s=[{key:"shouldNavigateAfterPrompt",value:function(t,e){this.is_confirmed||(this.last_location=t,this.should_show=!0,this.current_location=e)}},{key:"resetLastLocation",value:function(){this.last_location=null}},{key:"resetIsConfirmed",value:function(){this.is_confirmed=!1}},{key:"onConfirm",value:(u=i(n().mark((function t(){var r,o,i,a,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.root_store,o=r.client,i=r.modules,a=i.cashier.account_transfer.accounts_list,this.should_show=!1,this.is_confirmed=!0,s=a.some((function(t){return!t.is_crypto})),!(0,e.isCryptocurrency)(null==o?void 0:o.currency)||!s){t.next=8;break}return t.next=8,this.doSwitch();case 8:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"doSwitch",value:(c=i(n().mark((function t(){var e,r,o,i,a,s,c,u;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.root_store,r=e.client,o=e.modules,i=o.cashier,a=i.account_transfer,s=i.general_store,c=a.accounts_list.filter((function(t){return!t.is_crypto})),u=c.map((function(t){return t.value}))[0],t.next=6,r.switchAccount(u);case 6:"deposit"===this.current_location&&s.setIsDeposit(!0);case 7:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"onCancel",value:function(){this.should_show=!1}},{key:"continueRoute",value:function(){this.is_confirmed&&this.last_location&&this.root_store.common.routeTo(this.last_location)}}],s&&a(o.prototype,s),Object.defineProperty(o,"prototype",{writable:!1}),r}(),c=h("react"),u=h.n(c),l=h("@deriv/translations");const d={containers:{account_transfer:"account_transfer",deposit:"deposit",payment_agent:"payment_agent",payment_agent_transfer:"payment_agent_transfer",withdraw:"withdraw"},map_action:{withdraw:"payment_withdraw",payment_agent:"payment_agent_withdraw"}};function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var m=function(){function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.message="",this.code="",this.fields="",this.is_show_full_page=!1,this.onClickButton=null,this.is_ask_uk_funds_protection=!1,this.is_self_exclusion_max_turnover_set=!1,this.is_ask_authentication=!1,this.is_ask_financial_risk_approval=!1,(0,t.makeObservable)(this,{message:t.observable,code:t.observable,fields:t.observable,is_show_full_page:t.observable,onClickButton:t.observable,is_ask_uk_funds_protection:t.observable,is_self_exclusion_max_turnover_set:t.observable,is_ask_authentication:t.observable,is_ask_financial_risk_approval:t.observable,setErrorMessage:t.action.bound,handleCashierError:t.action.bound,setMessage:t.action.bound,setIsAskUkFundsProtection:t.action.bound,setIsSelfExclusionMaxTurnoverSet:t.action.bound,setIsAskAuthentication:t.action.bound,setIsAskFinancialRiskApproval:t.action.bound})}var n,o;return n=r,o=[{key:"setErrorMessage",value:function(t,r,n){var o=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({onClickButton:r,code:t.code,message:t.message,is_show_full_page:n||/InvalidToken|WrongResponse/.test(t.code)},(0,e.getPropertyValue)(t,["details","fields"])&&{fields:t.details.fields});this.onClickButton=o.onClickButton,this.code=o.code,this.message=o.message,this.is_show_full_page=o.is_show_full_page,this.fields=o.fields,this.is_ask_uk_funds_protection=null==o?void 0:o.is_ask_uk_funds_protection,this.is_self_exclusion_max_turnover_set=null==o?void 0:o.is_self_exclusion_max_turnover_set,this.is_ask_authentication=null==o?void 0:o.is_ask_authentication,this.is_ask_financial_risk_approval=null==o?void 0:o.is_ask_financial_risk_approval}},{key:"handleCashierError",value:function(t){switch(t.code){case"ASK_TNC_APPROVAL":case"ASK_FIX_DETAILS":this.setErrorMessage(t,null,!0);break;case"ASK_UK_FUNDS_PROTECTION":this.setIsAskUkFundsProtection(!0);break;case"ASK_SELF_EXCLUSION_MAX_TURNOVER_SET":this.setIsSelfExclusionMaxTurnoverSet(!0);break;case"ASK_AUTHENTICATE":case"ASK_AGE_VERIFICATION":this.setIsAskAuthentication(!0);break;case"ASK_FINANCIAL_RISK_APPROVAL":this.setIsAskFinancialRiskApproval(!0);break;default:this.setErrorMessage(t),this.setIsAskUkFundsProtection(!1),this.setIsSelfExclusionMaxTurnoverSet(!1),this.setIsAskAuthentication(!1),this.setIsAskFinancialRiskApproval(!1)}}},{key:"setMessage",value:function(t){this.message=t}},{key:"setIsAskUkFundsProtection",value:function(t){this.is_ask_uk_funds_protection=t}},{key:"setIsSelfExclusionMaxTurnoverSet",value:function(t){this.is_self_exclusion_max_turnover_set=t}},{key:"setIsAskAuthentication",value:function(t){this.is_ask_authentication=t}},{key:"setIsAskFinancialRiskApproval",value:function(t){this.is_ask_financial_risk_approval=t}}],o&&y(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),r}();function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function g(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?g(Object(r),!0).forEach((function(e){w(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k(){k=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=w(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function f(){}function d(){}var p={};s(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==e&&r.call(y,o)&&(p=y);var m=d.prototype=h.prototype=Object.create(p);function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){function n(o,i,a,s){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==_(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function E(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return f.prototype=d,s(m,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),s(b.prototype,i,(function(){return this})),t.AsyncIterator=b,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(m),s(m,a,"Generator"),s(m,o,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=E,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),S(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:E(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function x(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],a=!0,s=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){s=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(s)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function L(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function E(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){L(i,n,o,a,s,"next",t)}function s(t){L(i,n,o,a,s,"throw",t)}a(void 0)}))}}function T(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var P=function(t){return t.startsWith("MX")},O=function(t,e){return e?u().createElement(l.Localize,{i18n_default_text:"Transfer from {{selected_value}} is not allowed, Please choose another account from dropdown",values:{selected_value:t}}):u().createElement(l.Localize,{i18n_default_text:"Transfer to {{selected_value}} is not allowed, Please choose another account from dropdown",values:{selected_value:t}})},C=function(){function r(n){var o=this,i=n.WS,a=n.root_store;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.accounts_list=[],this.container=d.containers.account_transfer,this.error=new m,this.has_no_account=!1,this.has_no_accounts_balance=!1,this.is_transfer_confirm=!1,this.is_transfer_successful=!1,this.is_mt5_transfer_in_progress=!1,this.minimum_fee=null,this.receipt={},this.selected_from={},this.selected_to={},this.account_transfer_amount="",this.transfer_fee=null,this.transfer_limit={},this.requestTransferBetweenAccounts=function(){var t=E(k().mark((function t(r){var n,i,a,s,c,u,l,h,f,d,p,v,y,m;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.amount,i=o.root_store,a=i.client,s=i.modules,c=s.cashier.general_store.setLoading,u=a.is_logged_in,l=a.responseMt5LoginList,h=a.responseTradingPlatformAccountsList,f=a.setAccountStatus,d=a.setBalanceOtherAccounts,u){t.next=6;break}return t.abrupt("return",null);case 6:return c(!0),o.error.setErrorMessage(""),(p=o.selected_from.is_mt||o.selected_to.is_mt)&&o.setIsMT5TransferInProgress(!0),v=o.selected_from.currency,t.next=13,o.WS.authorized.transferBetweenAccounts(o.selected_from.value,o.selected_to.value,v,n);case 13:if(y=t.sent,p&&o.setIsMT5TransferInProgress(!1),!y.error){t.next=24;break}if("Fiat2CryptoTransferOverLimit"!==y.error.code){t.next=21;break}return t.next=19,o.WS.authorized.getAccountStatus();case 19:(m=t.sent).error||f(m.get_account_status);case 21:o.error.setErrorMessage(y.error),t.next=28;break;case 24:o.setReceiptTransfer({amount:(0,e.formatMoney)(v,n,!0)}),y.accounts.forEach((function(t){o.setBalanceByLoginId(t.loginid,t.balance),t.loginid===o.selected_from.value?o.setBalanceSelectedFrom(t.balance):t.loginid===o.selected_to.value&&o.setBalanceSelectedTo(t.balance),t.account_type===e.CFD_PLATFORMS.MT5&&Promise.all([o.WS.mt5LoginList(),o.WS.balanceAll()]).then((function(t){var e=x(t,2),r=e[0],n=e[1];l(r),d(n.balance)})),t.account_type===e.CFD_PLATFORMS.DXTRADE&&Promise.all([o.WS.tradingPlatformAccountsList(e.CFD_PLATFORMS.DXTRADE),o.WS.balanceAll()]).then((function(t){var e=x(t,2),r=e[0],n=e[1];h(r),d(n.balance)}))})),o.setAccountTransferAmount(null),o.setIsTransferConfirm(!0);case 28:return c(!1),t.abrupt("return",y);case 30:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.resetAccountTransfer=E(k().mark((function t(){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.setIsTransferConfirm(!1),o.setTransferLimit();case 2:case"end":return t.stop()}}),t)}))),(0,t.makeObservable)(this,{accounts_list:t.observable,container:t.observable,error:t.observable,has_no_account:t.observable,has_no_accounts_balance:t.observable,is_transfer_confirm:t.observable,is_transfer_successful:t.observable,is_mt5_transfer_in_progress:t.observable,minimum_fee:t.observable,receipt:t.observable,selected_from:t.observable,selected_to:t.observable,account_transfer_amount:t.observable,transfer_fee:t.observable,transfer_limit:t.observable,is_account_transfer_visible:t.computed,is_transfer_locked:t.computed,setBalanceByLoginId:t.action.bound,setBalanceSelectedFrom:t.action.bound,setBalanceSelectedTo:t.action.bound,onMountAccountTransfer:t.action.bound,setHasNoAccountsBalance:t.action.bound,setHasNoAccount:t.action.bound,setTransferFee:t.action.bound,setMinimumFee:t.action.bound,setTransferLimit:t.action.bound,sortAccountsTransfer:t.action.bound,setSelectedFrom:t.action.bound,setSelectedTo:t.action.bound,setAccounts:t.action.bound,setIsTransferConfirm:t.action.bound,setAccountTransferAmount:t.action.bound,setIsTransferSuccessful:t.action.bound,setIsMT5TransferInProgress:t.action.bound,setReceiptTransfer:t.action.bound,onChangeTransferFrom:t.action.bound,onChangeTransferTo:t.action.bound,resetAccountTransfer:t.action.bound,setTransferPercentageSelectorResult:t.action.bound,validateTransferFromAmount:t.action.bound,validateTransferToAmount:t.action.bound}),this.root_store=a,this.WS=i}var n,o,i,a;return n=r,o=[{key:"is_account_transfer_visible",get:function(){var t=this.root_store.client,e=t.has_maltainvest_account,r=t.landing_company_shortcode;return"im"!==t.residence&&("malta"!==r||e)}},{key:"is_transfer_locked",get:function(){var t=this.root_store.client,e=t.is_financial_account,r=t.is_financial_information_incomplete,n=t.is_trading_experience_incomplete;return!!t.account_status.status&&e&&(r||n)&&this.error.is_ask_financial_risk_approval}},{key:"setBalanceByLoginId",value:function(t,e){this.accounts_list.find((function(e){return t===e.value})).balance=e}},{key:"setBalanceSelectedFrom",value:function(t){this.selected_from.balance=t}},{key:"setBalanceSelectedTo",value:function(t){this.selected_to.balance=t}},{key:"onMountAccountTransfer",value:(a=E(k().mark((function t(){var e,r,n,o,i,a,s,c,u,l,h,f,d;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.root_store,r=e.client,n=e.modules,o=n.cashier.general_store,i=o.onMountCommon,a=o.setLoading,s=o.setOnRemount,c=r.active_accounts,u=r.is_logged_in,a(!0),s(this.onMountAccountTransfer),t.next=7,i();case 7:return t.next=9,this.WS.wait("website_status");case 9:if(this.has_no_accounts_balance&&Object.keys(c).find((function(t){return!c[t].is_virtual&&c[t].balance}))&&this.setHasNoAccountsBalance(!1),!u){t.next=27;break}return t.next=14,this.WS.authorized.transferBetweenAccounts();case 14:if(!(h=t.sent).error){t.next=19;break}return this.error.setErrorMessage(h.error,this.onMountAccountTransfer),a(!1),t.abrupt("return");case 19:if(this.canDoAccountTransfer(h.accounts)){t.next=21;break}return t.abrupt("return");case 21:return t.next=23,this.sortAccountsTransfer(h);case 23:this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit(),(null===(l=this.accounts_list)||void 0===l?void 0:l.length)>0&&(f=sessionStorage.getItem("cfd_transfer_to_login_id"),sessionStorage.removeItem("cfd_transfer_to_login_id"),(d=this.accounts_list.find((function(t){return t.value===f})))&&(P(d.value)&&(d.error=O(d.value)),this.setSelectedTo(d)));case 27:a(!1);case 28:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"canDoAccountTransfer",value:function(t){var e=!0;return t.find((function(t){return+t.balance>0}))?this.setHasNoAccountsBalance(!1):(e=!1,this.setHasNoAccountsBalance(!0)),t.length<=1?(e=!1,this.setHasNoAccount(!0)):this.setHasNoAccount(!1),e||this.root_store.modules.cashier.general_store.setLoading(!1),e}},{key:"setHasNoAccountsBalance",value:function(t){this.has_no_accounts_balance=t}},{key:"setHasNoAccount",value:function(t){this.has_no_account=t}},{key:"setTransferFee",value:function(){var t=(0,e.getPropertyValue)((0,e.getCurrencies)(),[this.selected_from.currency,"transfer_between_accounts","fees",this.selected_to.currency]);this.transfer_fee=Number(t||0)}},{key:"setMinimumFee",value:function(){var t=(0,e.getDecimalPlaces)(this.selected_from.currency);this.minimum_fee=(1/Math.pow(10,t)).toFixed(t)}},{key:"setTransferLimit",value:function(){var t,r=this.selected_from.is_mt||this.selected_to.is_mt,n=this.selected_from.is_dxtrade||this.selected_to.is_dxtrade;t=r?"limits_mt5":n?"limits_dxtrade":"limits";var o=(0,e.getPropertyValue)((0,e.getCurrencies)(),[this.selected_from.currency,"transfer_between_accounts",t]),i=this.selected_from.balance,a=(0,e.getDecimalPlaces)(this.selected_from.currency);this.transfer_limit={max:null==o||!o.max||+i>=((null==o?void 0:o.min)||0)&&+i<=(null==o?void 0:o.max)?i:null==o?void 0:o.max.toFixed(a),min:null!=o&&o.min?(+(null==o?void 0:o.min)).toFixed(a):null}}},{key:"sortAccountsTransfer",value:(i=E(k().mark((function t(r){var n,o,i,a,s,c,u,l=this;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=r,t.t0){t.next=5;break}return t.next=4,this.WS.authorized.transferBetweenAccounts();case 4:t.t0=t.sent;case 5:if(i=t.t0,this.accounts_list.length){t.next=9;break}if(!i.error){t.next=9;break}return t.abrupt("return");case 9:return t.next=11,this.WS.storage.mt5LoginList();case 11:if(t.t2=n=t.sent,t.t1=null===t.t2,t.t1){t.next=15;break}t.t1=void 0===n;case 15:if(!t.t1){t.next=19;break}t.t3=void 0,t.next=20;break;case 19:t.t3=n.mt5_login_list;case 20:return a=t.t3,t.next=23,this.WS.tradingPlatformAccountsList(e.CFD_PLATFORMS.DXTRADE);case 23:if(t.t5=o=t.sent,t.t4=null===t.t5,t.t4){t.next=27;break}t.t4=void 0===o;case 27:if(!t.t4){t.next=31;break}t.t6=void 0,t.next=32;break;case 31:t.t6=o.trading_platform_accounts;case 32:s=t.t6,c=i.accounts.map((function(t){if(t.account_type===e.CFD_PLATFORMS.MT5&&Array.isArray(a)&&a.length){var r=a.find((function(e){return e.login===t.loginid}));return void 0===r?t:b(b(b({},t),r),{},{account_type:e.CFD_PLATFORMS.MT5})}if(t.account_type===e.CFD_PLATFORMS.DXTRADE&&Array.isArray(s)&&s.length){var n=s.find((function(e){return e.account_id===t.loginid}));return void 0===n?t:b(b(b({},t),n),{},{account_type:e.CFD_PLATFORMS.DXTRADE})}return t})),i.accounts.length>1&&c.sort((function(t,r){var n=t.account_type===e.CFD_PLATFORMS.MT5,o=r.account_type===e.CFD_PLATFORMS.MT5,i=!n&&(0,e.isCryptocurrency)(t.currency),a=!o&&(0,e.isCryptocurrency)(r.currency),s=!n&&!i,c=!o&&!a;return n&&o?"gaming"===t.market_type||"synthetic"===t.market_type?-1:"financial"===t.sub_account_type?"gaming"===r.market_type||"synthetic"===r.market_type?1:-1:1:i&&a||s&&c?t.currency<r.currency?-1:1:i&&o||s&&a||s&&o||n?-1:1})),u=[],this.setSelectedTo({}),c.forEach((function(t){var r,n,o={mt5:{name:"DMT5",icon:"IcMt5"},dxtrade:{name:"Deriv X",icon:"IcDxtrade"}},i=Object.keys(o).includes(t.account_type),a=null===(r=o[t.account_type])||void 0===r?void 0:r.name,s="".concat(null===(n=o[t.account_type])||void 0===n?void 0:n.icon,"-").concat((0,e.getCFDAccount)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:t.account_type,is_eu:l.root_store.client.is_eu})),c=b({text:i?"".concat(a," ").concat((0,e.getCFDAccountDisplay)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:t.account_type,is_eu:l.root_store.client.is_eu})):(0,e.getCurrencyDisplayCode)("eUSDT"!==t.currency?t.currency.toUpperCase():t.currency),value:t.loginid,balance:t.balance,currency:t.currency,is_crypto:(0,e.isCryptocurrency)(t.currency),is_mt:t.account_type===e.CFD_PLATFORMS.MT5,is_dxtrade:t.account_type===e.CFD_PLATFORMS.DXTRADE},i&&{platform_icon:s,market_type:(0,e.getCFDAccount)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:t.account_type,is_eu:l.root_store.client.is_eu})});t.loginid===l.root_store.client.loginid?(P(c.value)&&(c.error=O(c.value,!0)),l.setSelectedFrom(c)):(0,e.isEmptyObject)(l.selected_to)&&(P(c.value)&&(c.error=O(c.value)),l.setSelectedTo(c)),u.push(c)})),this.setAccounts(u);case 39:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"setSelectedFrom",value:function(t){this.selected_from=t}},{key:"setSelectedTo",value:function(t){this.selected_to=t}},{key:"setAccounts",value:function(t){this.accounts_list=t}},{key:"setIsTransferConfirm",value:function(t){this.is_transfer_confirm=t}},{key:"setAccountTransferAmount",value:function(t){this.account_transfer_amount=t}},{key:"setIsTransferSuccessful",value:function(t){this.is_transfer_successful=t}},{key:"setIsMT5TransferInProgress",value:function(t){this.is_mt5_transfer_in_progress=t}},{key:"setReceiptTransfer",value:function(t){var e=t.amount;this.receipt={amount_transferred:e}}},{key:"onChangeTransferFrom",value:function(t){var e=t.target;this.error.setErrorMessage(""),this.selected_from.error="";var r=this.accounts_list.find((function(t){return t.value===e.value}));if(r.value===this.selected_to.value)this.onChangeTransferTo({target:{value:this.selected_from.value}});else if(r.is_mt&&this.selected_to.is_mt||r.is_dxtrade&&this.selected_to.is_dxtrade||r.is_dxtrade&&this.selected_to.is_mt||r.is_mt&&this.selected_to.is_dxtrade){var n=this.accounts_list.find((function(t){return!t.is_mt&&!t.is_dxtrade}));this.onChangeTransferTo({target:{value:n.value}})}P(r.value)&&(r.error=O(r.value,!0)),this.selected_from=r,this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit()}},{key:"onChangeTransferTo",value:function(t){var e=t.target;this.error.setErrorMessage(""),this.selected_to.error="";var r=this.accounts_list;this.selected_to=r.find((function(t){return t.value===e.value}))||{},P(this.selected_to.value)&&(this.selected_to.error=O(this.selected_to.value)),this.setTransferFee(),this.setMinimumFee(),this.setTransferLimit()}},{key:"setTransferPercentageSelectorResult",value:function(t){var e=this.root_store.modules.cashier,r=e.crypto_fiat_converter,n=e.general_store,o=this.selected_from.currency,i=this.selected_to.currency;t>0||0==+this.selected_from.balance?(r.setConverterFromAmount(t),this.validateTransferFromAmount(),r.onChangeConverterFromAmount({target:{value:t}},o,i)):r.resetConverter(),r.setIsTimerVisible(!1),n.percentageSelectorSelectionStatus(!1)}},{key:"validateTransferFromAmount",value:function(){var t=this.root_store.modules.cashier.crypto_fiat_converter,r=t.converter_from_amount,n=t.setConverterFromError;if(r){var o=(0,e.validNumber)(r,{type:"float",decimals:(0,e.getDecimalPlaces)(this.selected_from.currency),min:this.transfer_limit.min,max:this.transfer_limit.max}),i=o.is_ok,a=o.message;i?+this.selected_from.balance<+r?n((0,l.localize)("Insufficient funds")):n(""):n(a)}else n((0,l.localize)("This field is required."))}},{key:"validateTransferToAmount",value:function(){var t=this.root_store.modules.cashier.crypto_fiat_converter,r=t.converter_to_amount,n=t.setConverterToError;if(r){var o=this.selected_to.currency,i=(0,e.validNumber)(r,{type:"float",decimals:(0,e.getDecimalPlaces)(o)}),a=i.is_ok,s=i.message;n(a?"":s)}}}],o&&T(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),r}();function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function I(){I=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function f(){}function d(){}var p={};s(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==e&&r.call(y,o)&&(p=y);var m=d.prototype=h.prototype=Object.create(p);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function n(o,i,a,s){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==A(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=d,s(m,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},_(g.prototype),s(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(m),s(m,a,"Generator"),s(m,o,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function j(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function F(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){j(i,n,o,a,s,"next",t)}function s(t){j(i,n,o,a,s,"throw",t)}a(void 0)}))}}function M(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var D=function(){function r(e){var n=e.WS,o=e.root_store;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.converter_from_amount="",this.converter_to_amount="",this.converter_from_error="",this.converter_to_error="",this.is_timer_visible=!1,(0,t.makeObservable)(this,{converter_from_amount:t.observable,converter_to_amount:t.observable,converter_from_error:t.observable,converter_to_error:t.observable,is_timer_visible:t.observable,setConverterFromAmount:t.action.bound,setConverterToAmount:t.action.bound,setConverterFromError:t.action.bound,setConverterToError:t.action.bound,setIsTimerVisible:t.action.bound,resetTimer:t.action.bound,getExchangeRate:t.action.bound,validateFromAmount:t.action.bound,validateToAmount:t.action.bound,onChangeConverterFromAmount:t.action.bound,onChangeConverterToAmount:t.action.bound,resetConverter:t.action.bound}),this.root_store=o,this.WS=n}var n,o,i,a,s;return n=r,o=[{key:"setConverterFromAmount",value:function(t){this.converter_from_amount=t}},{key:"setConverterToAmount",value:function(t){this.converter_to_amount=t}},{key:"setConverterFromError",value:function(t){this.converter_from_error=t}},{key:"setConverterToError",value:function(t){this.converter_to_error=t}},{key:"setIsTimerVisible",value:function(t){this.is_timer_visible=t}},{key:"resetTimer",value:function(){this.setIsTimerVisible(!1)}},{key:"getExchangeRate",value:(s=F(I().mark((function t(e,r){var n,o;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.send({exchange_rates:1,base_currency:e});case 2:return n=t.sent,o=n.exchange_rates,t.abrupt("return",o.rates[r]);case 5:case"end":return t.stop()}}),t,this)}))),function(t,e){return s.apply(this,arguments)})},{key:"validateFromAmount",value:function(){var t=this.root_store.modules.cashier,e=t.account_transfer,r=t.general_store,n=t.withdraw;r.active_container===e.container?e.validateTransferFromAmount():n.validateWithdrawFromAmount()}},{key:"validateToAmount",value:function(){var t=this.root_store.modules.cashier,e=t.account_transfer,r=t.general_store,n=t.withdraw;r.active_container===e.container?e.validateTransferToAmount():n.validateWithdrawToAmount()}},{key:"onChangeConverterFromAmount",value:(a=F(I().mark((function t(r,n,o){var i,a,s,c,u,l,h;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.target,a=this.root_store.modules.cashier,s=a.account_transfer,c=a.general_store,this.resetTimer(),!i.value){t.next=27;break}if(this.setConverterFromAmount(i.value),this.validateFromAmount(),c.percentageSelectorSelectionStatus(!0),c.calculatePercentage(),!this.converter_from_error){t.next=15;break}this.setConverterToAmount(""),this.setConverterToError(""),this.setIsTimerVisible(!1),s.setAccountTransferAmount(""),t.next=25;break;case 15:return t.next=17,this.getExchangeRate(n,o);case 17:u=t.sent,l=(0,e.getDecimalPlaces)(o),+(h=(u*i.value).toFixed(l))||this.converter_from_amount?this.setConverterToAmount(h):this.setConverterToAmount(""),this.validateToAmount(),this.setConverterToError(""),this.setIsTimerVisible(!0),s.setAccountTransferAmount(i.value);case 25:t.next=28;break;case 27:this.resetConverter();case 28:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return a.apply(this,arguments)})},{key:"onChangeConverterToAmount",value:(i=F(I().mark((function t(r,n,o){var i,a,s,c,u,l,h;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.target,a=this.root_store.modules.cashier,s=a.account_transfer,c=a.general_store,this.resetTimer(),!i.value){t.next=25;break}if(this.setConverterToAmount(i.value),this.validateToAmount(),!this.converter_to_error){t.next=13;break}this.setConverterFromAmount(""),this.setConverterFromError(""),this.setIsTimerVisible(!1),s.setAccountTransferAmount(""),t.next=23;break;case 13:return t.next=15,this.getExchangeRate(n,o);case 15:u=t.sent,l=(0,e.getDecimalPlaces)(o),+(h=(u*i.value).toFixed(l))||this.converter_to_amount?this.setConverterFromAmount(h):this.setConverterFromAmount(""),c.percentageSelectorSelectionStatus(!0),c.calculatePercentage(),this.validateFromAmount(),this.converter_from_error?(this.setIsTimerVisible(!1),s.setAccountTransferAmount("")):(this.setConverterFromError(""),this.setIsTimerVisible(!0),s.setAccountTransferAmount(h));case 23:t.next=26;break;case 25:this.resetConverter();case 26:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return i.apply(this,arguments)})},{key:"resetConverter",value:function(){this.setConverterFromAmount(""),this.setConverterToAmount(""),this.setConverterFromError(""),this.setConverterToError(""),this.setIsTimerVisible(!1),this.root_store.modules.cashier.general_store.percentageSelectorSelectionStatus(!0)}}],o&&M(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),r}();function W(t){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W(t)}function R(){R=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function f(){}function d(){}var p={};s(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==e&&r.call(y,o)&&(p=y);var m=d.prototype=h.prototype=Object.create(p);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function n(o,i,a,s){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==W(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=d,s(m,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},_(g.prototype),s(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(m),s(m,a,"Generator"),s(m,o,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function N(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function G(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var V=function(){function e(r){var n=r.WS,o=r.root_store;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=d.containers.deposit,this.error=new m,(0,t.makeObservable)(this,{container:t.observable,error:t.observable,onMountDeposit:t.action.bound,is_deposit_locked:t.computed,submitFundsProtection:t.action.bound}),this.root_store=o,this.WS=n}var r,n,o,i;return r=e,n=[{key:"onMountDeposit",value:(o=R().mark((function t(){var e,r,n,o,i,a,s,c,u,l,h,f,d,p,v,y,m,_,g,b,w,k,x;return R().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.root_store,n=r.client,o=r.modules,i=o.cashier.general_store,a=i.active_container,s=i.is_crypto,c=i.onMountCommon,u=i.setLoading,l=i.setOnRemount,h=o.cashier.iframe,f=h.checkIframeLoaded,d=h.clearTimeoutCashierUrl,p=h.is_session_timeout,v=h.setContainerHeight,y=h.setIframeUrl,m=h.setSessionTimeout,_=h.setTimeoutCashierUrl,g=n.account_status,b=n.is_virtual,w=n.updateAccountStatus,k=a,l(this.onMountDeposit),t.next=8,c();case 8:if(this.error.setErrorMessage(""),v(0),u(!0),p){t.next=14;break}return f(),t.abrupt("return");case 14:if(y(""),!b){t.next=18;break}return u(!1),t.abrupt("return");case 18:if(s){t.next=36;break}return t.next=21,this.WS.authorized.cashier(a,{verification_code:"undefined"});case 21:if(x=t.sent,k===a){t.next=25;break}return u(!1),t.abrupt("return");case 25:if(!x.error){t.next=31;break}this.error.handleCashierError(x.error),m(!0),d(),t.next=36;break;case 31:return t.next=33,f();case 33:y(x.cashier),m(!1),_();case 36:if(null!=g&&null!==(e=g.status)&&void 0!==e&&e.includes("deposit_attempt")){t.next=39;break}return t.next=39,w();case 39:u(!1);case 40:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(r,n){var i=o.apply(t,e);function a(t){N(i,r,n,a,s,"next",t)}function s(t){N(i,r,n,a,s,"throw",t)}a(void 0)}))},function(){return i.apply(this,arguments)})},{key:"is_deposit_locked",get:function(){var t=this.root_store.client,e=t.is_authentication_needed,r=t.is_tnc_needed,n=t.is_financial_account,o=t.is_financial_information_incomplete,i=t.is_trading_experience_incomplete,a=t.account_status,s=t.is_eu,c=t.mt5_login_list,u=t.is_deposit_lock;if(null==a||!a.status)return!1;var l=this.error.is_ask_authentication||e&&s,h=n&&(o||i),f=(s||c.some((function(t){return"real"===t.account_type&&"financial_stp"===t.sub_account_type})))&&r;return u||l||f||h||this.error.is_ask_financial_risk_approval}},{key:"submitFundsProtection",value:function(){var t=this;this.WS.send({ukgc_funds_protection:1,tnc_approval:1}).then((function(e){e.error?t.error.setMessage(e.error.message):location.reload()}))}}],n&&G(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}();function B(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var H=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.confirm_button_text="",this.error_message="",this.has_no_close_icon=!1,this.should_show=!1,this.should_not_show_title=!1,(0,t.makeObservable)(this,{confirm_button_text:t.observable,error_message:t.observable,has_no_close_icon:t.observable,should_show:t.observable,should_not_show_title:t.observable,setShouldShow:t.action.bound,setErrorMessage:t.action.bound,setConfirmButtonText:t.action.bound,setShouldNotShowTitle:t.action.bound,setHasNoCloseIcon:t.action.bound,openReadMoreDialog:t.action.bound,reset:t.action.bound})}var r,n;return r=e,(n=[{key:"setShouldShow",value:function(t){this.should_show=t}},{key:"setErrorMessage",value:function(t){this.error_message=t,this.setShouldShow(!0)}},{key:"setConfirmButtonText",value:function(t){this.confirm_button_text=t}},{key:"setShouldNotShowTitle",value:function(t){this.should_not_show_title=t}},{key:"setHasNoCloseIcon",value:function(t){this.has_no_close_icon=t}},{key:"openReadMoreDialog",value:function(t,e){this.setErrorMessage(t),this.setConfirmButtonText(e),this.setHasNoCloseIcon(!0),this.setShouldNotShowTitle(!0)}},{key:"reset",value:function(){this.setConfirmButtonText(""),this.setShouldNotShowTitle(!1),this.setHasNoCloseIcon(!1)}}])&&B(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),e}(),U=h("../../../node_modules/prop-types/index.js"),z=h.n(U),q=h("@deriv/components"),Y=function(t){var e=t.p2p_notification_count;return u().createElement(u().Fragment,null,u().createElement(q.Icon,{icon:"IcCashier",className:"header__icon"}),!!e&&u().createElement(q.Counter,{className:"cashier__counter",count:e}))};Y.propTypes={p2p_notification_count:z().number};const X=Y;var K=function(t,e){var r=e;return e&&!Array.isArray(e)&&(r=[e]),t.replace(/\[_(\d+)]/g,(function(t,e){return r[+e-1]}))};function J(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var $=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.errors={}}return function(t,e,r){e&&J(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"add",value:function(t,e){this.has(t)||(this.errors[t]=[]),-1===this.errors[t].indexOf(e)&&this.errors[t].push(e)}},{key:"all",value:function(){return this.errors}},{key:"first",value:function(t){return this.has(t)?this.errors[t][0]:null}},{key:"get",value:function(t){return this.has(t)?this.errors[t]:[]}},{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.errors,t)}}]),t}();const Q=$;function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var et=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Z(this,t),this.input=e,this.rules=r,this.store=n,this.errors=new Q,this.error_count=0}return function(t,e,r){e&&tt(t.prototype,e),r&&tt(t,r),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"addFailure",value:function(t,r,n){var o=n||r.options.message||(0,e.getPreBuildDVRs)()[r.name].message();"length"===r.name?o=K(o,[r.options.min===r.options.max?r.options.min:"".concat(r.options.min,"-").concat(r.options.max)]):"min"===r.name?o=K(o,[r.options.min]):"not_equal"===r.name&&(o=K(o,[r.options.name1,r.options.name2])),this.errors.add(t,o),this.error_count++}},{key:"check",value:function(){var e=this;return Object.keys(this.input).forEach((function(r){Object.prototype.hasOwnProperty.call(e.rules,r)&&e.rules[r].forEach((function(n){var o=t.getRuleObject(n);if((o.validator||"function"==typeof o.validator)&&(!o.options.condition||o.options.condition(e.store))&&(""!==e.input[r]||"req"===o.name)){var i,a;if("number"===o.name){var s=o.validator(e.input[r],o.options,e.store,e.input);i=s.is_ok,a=s.message}else i=o.validator(e.input[r],o.options,e.store,e.input);i||e.addFailure(r,o,a)}}))})),!this.error_count}},{key:"isPassed",value:function(){return this.check()}}],[{key:"getRuleObject",value:function(t){var r="string"==typeof t,n={name:r?t:t[0],options:r?{}:t[1]||{}};return n.validator="custom"===n.name?t[1].func:(0,e.getPreBuildDVRs)()[n.name].func,n}}]),t}();const rt=et;function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function ot(){ot=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function f(){}function d(){}var p={};s(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==e&&r.call(y,o)&&(p=y);var m=d.prototype=h.prototype=Object.create(p);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function n(o,i,a,s){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==nt(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=d,s(m,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},_(g.prototype),s(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(m),s(m,a,"Generator"),s(m,o,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function it(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function at(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){it(i,n,o,a,s,"next",t)}function s(t){it(i,n,o,a,s,"throw",t)}a(void 0)}))}}function st(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ct(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?st(Object(r),!0).forEach((function(e){ut(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ut(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ft=function(){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};lt(this,r),this.validation_errors={},this.validation_rules={},this.preSwitchAccountDisposer=null,this.pre_switch_account_listener=null,this.switchAccountDisposer=null,this.switch_account_listener=null,this.logoutDisposer=null,this.logout_listener=null,this.clientInitDisposer=null,this.client_init_listener=null,this.networkStatusChangeDisposer=null,this.network_status_change_listener=null,this.themeChangeDisposer=null,this.theme_change_listener=null,this.realAccountSignupEndedDisposer=null,this.real_account_signup_ended_listener=null,this.partial_fetch_time=0,(0,t.makeObservable)(this,{validation_errors:t.observable,validation_rules:t.observable,partial_fetch_time:t.observable,retrieveFromStorage:t.action,setValidationErrorMessages:t.action,setValidationRules:t.action,addRule:t.action,validateProperty:t.action,validateAllProperties:t.action,onSwitchAccount:t.action.bound,onPreSwitchAccount:t.action.bound,onLogout:t.action.bound,onClientInit:t.action.bound,onNetworkStatusChange:t.action.bound,onThemeChange:t.action.bound,onRealAccountSignupEnd:t.action.bound,disposePreSwitchAccount:t.action.bound,disposeSwitchAccount:t.action.bound,disposeLogout:t.action.bound,disposeClientInit:t.action.bound,disposeNetworkStatusChange:t.action.bound,disposeThemeChange:t.action.bound,disposeRealAccountSignupEnd:t.action.bound,onUnmount:t.action.bound,assertHasValidCache:t.action.bound});var n=e.root_store,o=e.local_storage_properties,i=e.session_storage_properties,a=e.validation_rules,s=e.store_name;Object.defineProperty(this,"root_store",{enumerable:!1,writable:!0}),Object.defineProperty(this,"local_storage_properties",{enumerable:!1,writable:!0}),Object.defineProperty(this,"session_storage_properties",{enumerable:!1,writable:!0});var c=o&&o.length||i&&i.length;if(c){if(!s)throw new Error("store_name is required for local/session storage");Object.defineProperty(this,"store_name",{value:s,enumerable:!1,writable:!1})}this.root_store=n,this.local_storage_properties=o||[],this.session_storage_properties=i||[],this.setValidationRules(a),this.setupReactionForLocalStorage(),this.setupReactionForSessionStorage(),this.retrieveFromStorage()}return function(t,e,r){e&&ht(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(r,[{key:"getSnapshot",value:function(r){var n=(0,t.toJS)(this);return(0,e.isEmptyObject)(this.root_store)||(n.root_store=this.root_store),r&&r.length&&(n=r.reduce((function(t,e){return Object.assign(t,ut({},e,n[e]))}),{})),n}},{key:"setupReactionForLocalStorage",value:function(){var e=this;this.local_storage_properties.length&&(0,t.reaction)((function(){return e.local_storage_properties.map((function(t){return e[t]}))}),(function(){return e.saveToStorage(e.local_storage_properties,r.STORAGES.LOCAL_STORAGE)}))}},{key:"setupReactionForSessionStorage",value:function(){var e=this;this.session_storage_properties.length&&(0,t.reaction)((function(){return e.session_storage_properties.map((function(t){return e[t]}))}),(function(){return e.saveToStorage(e.session_storage_properties,r.STORAGES.SESSION_STORAGE)}))}},{key:"saveToStorage",value:function(t,e){var n=JSON.stringify(this.getSnapshot(t),(function(t,e){if(null!==e)return e}));e===r.STORAGES.LOCAL_STORAGE?localStorage.setItem(this.store_name,n):e===r.STORAGES.SESSION_STORAGE&&sessionStorage.setItem(this.store_name,n)}},{key:"retrieveFromStorage",value:function(){var t=this,e=JSON.parse(localStorage.getItem(this.store_name,{})),r=JSON.parse(sessionStorage.getItem(this.store_name,{})),n=ct(ct({},e),r);Object.keys(n).forEach((function(e){return t[e]=n[e]}))}},{key:"setValidationErrorMessages",value:function(t,e){var r=this;this.validation_errors[t]&&!r.validation_errors[t].filter((function(t){return!e.includes(t)})).concat(e.filter((function(e){return!r.validation_errors[t].includes(e)}))).length||(this.validation_errors[t]=e)}},{key:"setValidationRules",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((function(r){t.addRule(r,e[r])}))}},{key:"addRule",value:function(e,r){var n=this;this.validation_rules[e]=r,(0,t.intercept)(this,e,(function(t){return n.validateProperty(e,t.newValue),t}))}},{key:"validateProperty",value:function(t,e){var r=this,n=this.validation_rules[t].trigger,o=ut({},t,void 0!==e?e:this[t]),i=ut({},t,this.validation_rules[t].rules||[]);n&&Object.hasOwnProperty.call(this,n)&&(o[n]=this[n],i[n]=this.validation_rules[n].rules||[]);var a=new rt(o,i,this);a.isPassed(),Object.keys(o).forEach((function(t){r.setValidationErrorMessages(t,a.errors.get(t))}))}},{key:"validateAllProperties",value:function(){var t=this,e=Object.keys(this.validation_rules),r=Object.keys(this.validation_errors);e.forEach((function(e){t.validateProperty(e,t[e])})),r.forEach((function(r){e.includes(r)||delete t.validation_errors[r]}))}},{key:"onSwitchAccount",value:function(r){var n=this;r&&(this.switch_account_listener=r,this.switchAccountDisposer=(0,t.when)((function(){return n.root_store.client.switch_broadcast}),(function(){try{var t=n.switch_account_listener();if(!t||!t.then||"function"!=typeof t.then)throw new Error("Switching account listeners are required to return a promise.");t.then((function(){n.root_store.client.switchEndSignal(),n.onSwitchAccount(n.switch_account_listener)}))}catch(t){(0,e.isProduction)()||console.error(t)}})))}},{key:"onPreSwitchAccount",value:function(r){var n=this;r&&(this.pre_switch_account_listener=r,this.preSwitchAccountDisposer=(0,t.when)((function(){return n.root_store.client.pre_switch_broadcast}),(function(){try{var t=n.pre_switch_account_listener();if(!t||!t.then||"function"!=typeof t.then)throw new Error("Pre-switch account listeners are required to return a promise.");t.then((function(){n.root_store.client.setPreSwitchAccount(!1),n.onPreSwitchAccount(n.pre_switch_account_listener)}))}catch(t){(0,e.isProduction)()||console.error(t)}})))}},{key:"onLogout",value:function(r){var n=this;this.logoutDisposer=(0,t.when)((function(){return n.root_store.client.has_logged_out}),at(ot().mark((function t(){var r;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=n.logout_listener())||!r.then||"function"!=typeof r.then){t.next=6;break}r.then((function(){n.root_store.client.setLogout(!1),n.onLogout(n.logout_listener)})),t.next=7;break;case 6:throw new Error("Logout listeners are required to return a promise.");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),(0,e.isProduction)()||console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),this.logout_listener=r}},{key:"onClientInit",value:function(r){var n=this;this.clientInitDisposer=(0,t.when)((function(){return n.root_store.client.initialized_broadcast}),at(ot().mark((function t(){var r;return ot().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(r=n.client_init_listener())||!r.then||"function"!=typeof r.then){t.next=6;break}r.then((function(){n.root_store.client.setInitialized(!1),n.onClientInit(n.client_init_listener)})),t.next=7;break;case 6:throw new Error("Client init listeners are required to return a promise.");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),(0,e.isProduction)()||console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))),this.client_init_listener=r}},{key:"onNetworkStatusChange",value:function(r){var n=this;this.networkStatusChangeDisposer=(0,t.reaction)((function(){return n.root_store.common.is_network_online}),(function(t){try{n.network_status_change_listener(t)}catch(t){(0,e.isProduction)()||console.error(t)}})),this.network_status_change_listener=r}},{key:"onThemeChange",value:function(r){var n=this;this.themeChangeDisposer=(0,t.reaction)((function(){return n.root_store.ui.is_dark_mode_on}),(function(t){try{n.theme_change_listener(t)}catch(t){(0,e.isProduction)()||console.error(t)}})),this.theme_change_listener=r}},{key:"onRealAccountSignupEnd",value:function(r){var n=this;this.realAccountSignupEndedDisposer=(0,t.when)((function(){return n.root_store.ui.has_real_account_signup_ended}),(function(){try{var t=n.real_account_signup_ended_listener();if(!t||!t.then||"function"!=typeof t.then)throw new Error("Real account signup listeners are required to return a promise.");t.then((function(){n.root_store.ui.setRealAccountSignupEnd(!1),n.onRealAccountSignupEnd(n.real_account_signup_ended_listener)}))}catch(t){(0,e.isProduction)()||console.error(t)}})),this.real_account_signup_ended_listener=r}},{key:"disposePreSwitchAccount",value:function(){"function"==typeof this.preSwitchAccountDisposer&&this.preSwitchAccountDisposer(),this.pre_switch_account_listener=null}},{key:"disposeSwitchAccount",value:function(){"function"==typeof this.switchAccountDisposer&&this.switchAccountDisposer(),this.switch_account_listener=null}},{key:"disposeLogout",value:function(){"function"==typeof this.logoutDisposer&&this.logoutDisposer(),this.logout_listener=null}},{key:"disposeClientInit",value:function(){"function"==typeof this.clientInitDisposer&&this.clientInitDisposer(),this.client_init_listener=null}},{key:"disposeNetworkStatusChange",value:function(){"function"==typeof this.networkStatusChangeDisposer&&this.networkStatusChangeDisposer(),this.network_status_change_listener=null}},{key:"disposeThemeChange",value:function(){"function"==typeof this.themeChangeDisposer&&this.themeChangeDisposer(),this.theme_change_listener=null}},{key:"disposeRealAccountSignupEnd",value:function(){"function"==typeof this.realAccountSignupEndedDisposer&&this.realAccountSignupEndedDisposer(),this.real_account_signup_ended_listener=null}},{key:"onUnmount",value:function(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.disposeRealAccountSignupEnd()}},{key:"assertHasValidCache",value:function(t){if(this.root_store.client.loginid!==t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];r.forEach((function(t){return t()})),this.partial_fetch_time=!1}}}]),r}();function dt(t){return dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt(t)}function pt(){pt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function f(){}function d(){}var p={};s(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==e&&r.call(y,o)&&(p=y);var m=d.prototype=h.prototype=Object.create(p);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function n(o,i,a,s){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==dt(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=d,s(m,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},_(g.prototype),s(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(m),s(m,a,"Generator"),s(m,o,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function vt(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function yt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){vt(i,n,o,a,s,"next",t)}function s(t){vt(i,n,o,a,s,"throw",t)}a(void 0)}))}}function mt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _t(t,e){return _t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_t(t,e)}function gt(t,e){if(e&&("object"===dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bt(t)}function bt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wt(t){return wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wt(t)}ft.STORAGES=Object.freeze({LOCAL_STORAGE:Symbol("LOCAL_STORAGE"),SESSION_STORAGE:Symbol("SESSION_STORAGE")});var kt=function(r){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_t(t,e)}(c,r);var n,o,i,a,s=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=wt(t);if(e){var o=wt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return gt(this,r)}}(c);function c(e){var r,n=e.root_store,o=e.WS;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(r=s.call(this,{root_store:n})).is_loading=!1,r.is_p2p_visible=!1,r.p2p_notification_count=0,r.cashier_route_tab_index=0,r.is_deposit=!1,r.should_show_all_available_currencies=!1,r.is_cashier_default=!0,r.deposit_target="",r.should_set_currency_modal_title_change=!1,r.p2p_advertiser_error=void 0,r.has_set_currency=!1,r.should_percentage_reset=!1,r.percentage=0,r.show_p2p_in_cashier_default=!1,r.onRemount=function(){},r.is_cashier_onboarding=!0,r.show_p2p_in_cashier_onboarding=!1,r.active_container=d.containers.deposit,r.is_populating_values=!1,(0,t.makeObservable)(bt(r),{is_loading:t.observable,is_p2p_visible:t.observable,p2p_notification_count:t.observable,cashier_route_tab_index:t.observable,is_deposit:t.observable,should_show_all_available_currencies:t.observable,is_cashier_default:t.observable,deposit_target:t.observable,should_set_currency_modal_title_change:t.observable,p2p_advertiser_error:t.observable,has_set_currency:t.observable,should_percentage_reset:t.observable,percentage:t.observable,show_p2p_in_cashier_default:t.observable,onRemount:t.observable,is_cashier_onboarding:t.observable,show_p2p_in_cashier_onboarding:t.observable,setOnRemount:t.action.bound,is_crypto:t.computed,is_p2p_enabled:t.computed,showP2pInCashierOnboarding:t.action.bound,attachCashierToMenu:t.action.bound,replaceCashierMenuOnclick:t.action.bound,setHasSetCurrency:t.action.bound,changeSetCurrencyModalTitle:t.action.bound,onMountCashierOnboarding:t.action.bound,calculatePercentage:t.action.bound,percentageSelectorSelectionStatus:t.action.bound,setIsDeposit:t.action.bound,setShouldShowAllAvailableCurrencies:t.action.bound,setIsCashierOnboarding:t.action.bound,setDepositTarget:t.action.bound,continueRoute:t.action.bound,setAccountSwitchListener:t.action.bound,init:t.action.bound,getAdvertizerError:t.action.bound,setP2pAdvertiserError:t.action.bound,checkP2pStatus:t.action.bound,onMountCommon:t.action.bound,setCashierTabIndex:t.action.bound,setNotificationCount:t.action.bound,setIsP2pVisible:t.action.bound,is_cashier_locked:t.computed,is_system_maintenance:t.computed,setLoading:t.action.bound,setActiveTab:t.action.bound}),r.WS=o,r.root_store=n,(0,t.when)((function(){return r.root_store.client.is_logged_in}),(function(){r.setHasSetCurrency(),r.attachCashierToMenu()})),r.has_set_currency||r.changeSetCurrencyModalTitle(),(0,t.reaction)((function(){return[r.root_store.client.switched,r.root_store.client.is_logged_in,r.root_store.client.currency]}),(function(){r.init()})),r}return function(t,e,r){e&&mt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(c,[{key:"setOnRemount",value:function(t){this.onRemount=t}},{key:"is_crypto",get:function(){var t=this.root_store.client.currency;return!!t&&(0,e.isCryptocurrency)(t)}},{key:"is_p2p_enabled",get:function(){return this.is_p2p_visible&&!this.root_store.client.is_eu}},{key:"showP2pInCashierOnboarding",value:function(){var t=this.root_store.client,r=t.account_list,n=t.is_virtual,o="RestrictedCountry"===this.p2p_advertiser_error,i=r.some((function(t){return"USD"===t.title})),a=r.some((function(t){return!(0,e.isCryptocurrency)(t.title)&&"Real"!==t.title}));this.show_p2p_in_cashier_onboarding=!(o||n||a&&!i)}},{key:"attachCashierToMenu",value:function(){var t=this.root_store,r=t.menu,n=t.ui;this.has_set_currency||this.setHasSetCurrency(),r.attach({id:"dt_cashier_tab",icon:u().createElement(X,{p2p_notification_count:this.p2p_notification_count}),text:function(){return(0,l.localize)("Cashier")},link_to:this.has_set_currency&&e.routes.cashier,onClick:!this.has_set_currency&&n.toggleSetCurrencyModal,login_only:!0})}},{key:"replaceCashierMenuOnclick",value:function(){var t=this.root_store,r=t.menu,n=t.ui;this.setHasSetCurrency(),r.update({id:"dt_cashier_tab",icon:u().createElement(X,{p2p_notification_count:this.p2p_notification_count}),text:function(){return(0,l.localize)("Cashier")},link_to:this.has_set_currency&&e.routes.cashier,onClick:!this.has_set_currency&&n.toggleSetCurrencyModal,login_only:!0},1)}},{key:"setHasSetCurrency",value:function(){var t=this.root_store.client,e=t.account_list,r=t.has_active_real_account;this.has_set_currency=e.filter((function(t){return!t.is_virtual})).some((function(t){return"Real"!==t.title}))||!r}},{key:"changeSetCurrencyModalTitle",value:function(){this.should_set_currency_modal_title_change=!0}},{key:"onMountCashierOnboarding",value:(a=yt(pt().mark((function t(){var e,r,n,o,i,a;return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.root_store.modules.cashier,o=n.account_prompt_dialog,i=n.payment_agent,this.has_set_currency||this.setHasSetCurrency(),this.setIsCashierOnboarding(!0),o.resetIsConfirmed(),this.setLoading(!0),null!==(e=i.all_payment_agent_list)&&void 0!==e&&null!==(r=e.paymentagent_list)&&void 0!==r&&r.list){t.next=10;break}return t.next=8,i.getAllPaymentAgentList();case 8:a=t.sent,i.setAllPaymentAgentList(a);case 10:this.setLoading(!1);case 11:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"calculatePercentage",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.root_store.modules.cashier.crypto_fiat_converter.converter_from_amount,e=this.root_store,r=e.client,n=e.modules,o=n.cashier.account_transfer;this.active_container===o.container?this.percentage=+(t/+o.selected_from.balance*100).toFixed(0):this.percentage=+(t/+r.balance*100).toFixed(0),isFinite(this.percentage)||(this.percentage=0)}},{key:"percentageSelectorSelectionStatus",value:function(t){this.should_percentage_reset=t,t&&(this.percentage=0)}},{key:"setIsDeposit",value:function(t){this.is_deposit=t}},{key:"setShouldShowAllAvailableCurrencies",value:function(t){this.should_show_all_available_currencies=t}},{key:"setIsCashierOnboarding",value:function(t){this.is_cashier_onboarding=t}},{key:"setDepositTarget",value:function(t){this.deposit_target=t}},{key:"continueRoute",value:function(){this.root_store.common.routeTo(this.deposit_target)}},{key:"setAccountSwitchListener",value:function(){this.disposeSwitchAccount(),this.onSwitchAccount(this.accountSwitcherListener)}},{key:"init",value:(i=yt(pt().mark((function t(){var e,r,n,o,i,a,s,c,u,l;return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.root_store.modules.cashier){t.next=15;break}return e=this.root_store,r=e.client,n=r.is_logged_in,o=r.switched,i=e.modules,a=i.cashier,s=a.account_prompt_dialog,c=a.payment_agent,u=a.payment_agent_transfer,l=a.withdraw,t.next=5,this.WS.wait("get_settings");case 5:if(!n){t.next=15;break}return t.next=8,this.getAdvertizerError();case 8:if(s.resetLastLocation(),o){t.next=15;break}return this.checkP2pStatus(),c.setPaymentAgentList().then(c.filterPaymentAgentList),u.is_payment_agent||u.checkIsPaymentAgent(),t.next=15,l.check10kLimit();case 15:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getAdvertizerError",value:(o=yt(pt().mark((function t(){var r;return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.authorized.p2pAdvertiserInfo();case 2:r=t.sent,this.setP2pAdvertiserError((0,e.getPropertyValue)(r,["error","code"]));case 4:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"setP2pAdvertiserError",value:function(t){this.p2p_advertiser_error=t}},{key:"checkP2pStatus",value:function(){var t=this.p2p_advertiser_error,e="RestrictedCountry"===t||"RestrictedCurrency"===t;this.setIsP2pVisible(!(e||this.root_store.client.is_virtual))}},{key:"onMountCommon",value:(n=yt(pt().mark((function t(r){var n,o,i,a,s,c,u,l,h,f;return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.root_store,o=n.client,i=n.common,a=n.modules,s=a.cashier,c=s.account_transfer,u=s.onramp,l=s.payment_agent,h=s.payment_agent_transfer,f=s.transaction_history,!o.is_logged_in){t.next=12;break}if(!this.is_populating_values){t.next=5;break}return t.abrupt("return");case 5:this.is_populating_values=!0,r&&this.setOnRemount(this.onMountCommon),l.setPaymentAgentList().then(l.filterPaymentAgentList),h.is_payment_agent||h.checkIsPaymentAgent(),c.accounts_list.length||c.sortAccountsTransfer(),!u.is_onramp_tab_visible&&window.location.pathname.endsWith(e.routes.cashier_onramp)&&i.routeTo(e.routes.cashier_deposit),!f.is_crypto_transactions_visible&&window.location.pathname.endsWith(e.routes.cashier_crypto_transactions)&&(i.routeTo(e.routes.cashier_deposit),f.setIsCryptoTransactionsVisible(!0),f.onMount());case 12:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"setCashierTabIndex",value:function(t){this.cashier_route_tab_index=t}},{key:"setNotificationCount",value:function(t){this.p2p_notification_count=t}},{key:"setIsP2pVisible",value:function(t){var r;this.is_p2p_visible=t,!t&&window.location.pathname.endsWith(e.routes.cashier_p2p)&&this.root_store.common.routeTo(null!==(r=this.root_store.modules.cashier.account_prompt_dialog.last_location)&&void 0!==r?r:e.routes.cashier_deposit)}},{key:"is_cashier_locked",get:function(){var t=this.root_store.client.account_status;return!(null==t||!t.status)&&t.status.some((function(t){return"cashier_locked"===t}))}},{key:"is_system_maintenance",get:function(){var t=this.root_store.client.account_status;return!(null==t||!t.cashier_validation)&&t.cashier_validation.some((function(t){return"system_maintenance"===t}))}},{key:"setLoading",value:function(t){this.is_loading=t}},{key:"setActiveTab",value:function(t){this.active_container=t}},{key:"accountSwitcherListener",value:function(){var t=this.root_store.modules.cashier,e=t.iframe,r=t.payment_agent;return t.withdraw.verification.clearVerification(),r.verification.clearVerification(),e.clearIframe(),this.payment_agent=r,this.is_populating_values=!1,this.onRemount(),Promise.resolve()}}]),c}(ft);function xt(t){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xt(t)}function St(){St=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function f(){}function d(){}var p={};s(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==e&&r.call(y,o)&&(p=y);var m=d.prototype=h.prototype=Object.create(p);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function n(o,i,a,s){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==xt(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=d,s(m,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},_(g.prototype),s(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(m),s(m,a,"Generator"),s(m,o,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Lt(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Et(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Tt=function(){function e(r){var n=r.WS,o=r.root_store;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.iframe_height=0,this.iframe_url="",this.is_session_timeout=!0,this.onIframeLoaded="",this.timeout_session="",(0,t.makeObservable)(this,{iframe_height:t.observable,iframe_url:t.observable,is_session_timeout:t.observable,timeout_session:t.observable,setSessionTimeout:t.action.bound,checkIframeLoaded:t.action.bound,clearTimeoutCashierUrl:t.action.bound,setTimeoutCashierUrl:t.action.bound,setIframeUrl:t.action.bound,setContainerHeight:t.action.bound,clearIframe:t.action.bound}),this.root_store=o,this.WS=n}var r,n;return function(t,e,r){e&&Et(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(e,[{key:"setSessionTimeout",value:function(t){this.is_session_timeout=t,t&&this.removeOnIframeLoaded()}},{key:"checkIframeLoaded",value:(r=St().mark((function t(){var e,r,n;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.root_store,r=e.modules,n=e.ui,this.removeOnIframeLoaded(),this.onIframeLoaded=function(t){/cashier|doughflow/.test(t.origin)&&(r.cashier.general_store.setLoading(!1),n.is_mobile?this.setContainerHeight(window.innerHeight-100):this.setContainerHeight(window.innerHeight-190))}.bind(this),window.addEventListener("message",this.onIframeLoaded,!1);case 4:case"end":return t.stop()}}),t,this)})),n=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){Lt(i,n,o,a,s,"next",t)}function s(t){Lt(i,n,o,a,s,"throw",t)}a(void 0)}))},function(){return n.apply(this,arguments)})},{key:"removeOnIframeLoaded",value:function(){this.onIframeLoaded&&(window.removeEventListener("message",this.onIframeLoaded,!1),this.onIframeLoaded="")}},{key:"clearTimeoutCashierUrl",value:function(){this.timeout_session&&clearTimeout(this.timeout_session)}},{key:"setTimeoutCashierUrl",value:function(){var t=this;this.clearTimeoutCashierUrl(),this.timeout_session=setTimeout((function(){t.setSessionTimeout(!0)}),6e4)}},{key:"setIframeUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.root_store.modules.cashier.general_store.active_container,r=this.root_store,n=r.client,o=r.ui;t?(this.iframe_url="".concat(t,"&theme=").concat(o.is_dark_mode_on?"dark":"light"),n.setVerificationCode("",d.map_action[e])):this.iframe_url=t}},{key:"setContainerHeight",value:function(t){this.iframe_height=t}},{key:"clearIframe",value:function(){this.setContainerHeight(0),this.setIframeUrl(""),this.clearTimeoutCashierUrl(),this.setSessionTimeout(!0)}}]),e}();const Pt=function(t){return{icon:{dark:"IcCashierBanxaDark",light:"IcCashierBanxaLight"},name:"Banxa",getDescription:function(){return(0,l.localize)("A fast and secure fiat-to-crypto payment service. Deposit cryptocurrencies from anywhere in the world using your credit/debit cards and bank transfers.")},getAllowedResidencies:function(){return["*"]},getPaymentIcons:function(){return[{dark:"IcCashierVisaDark",light:"IcCashierVisaLight"},{dark:"IcCashierMastercardDark",light:"IcCashierMastercardLight"},{dark:"IcCashierBpayDark",light:"IcCashierBpayLight"},{dark:"IcCashierSepaDark",light:"IcCashierSepaLight"},{dark:"IcCashierBlueshyftDark",light:"IcCashierBlueshyftLight"},{dark:"IcCashierFlexepinDark",light:"IcCashierFlexepinLight"},{dark:"IcCashierPayIdDark",light:"IcCashierPayIdLight"},{dark:"IcCashierPoliDark",light:"IcCashierPoliLight"},{dark:"IcCashierApplePay",light:"IcCashierApplePay"},{dark:"IcCashierInteracEtransfer",light:"IcCashierInteracEtransfer"},{dark:"IcCashierIdeal",light:"IcCashierIdeal"},{dark:"IcCashierPostBillPayDark",light:"IcCashierPostBillPayLight"},{dark:"IcCashierSofort",light:"IcCashierSofort"}]},getScriptDependencies:function(){return[]},getDefaultFromCurrency:function(){return""},getFromCurrencies:function(){return["*"]},getToCurrencies:function(){return["*"]},getWidgetHtml:function(){return new Promise((function(e,r){t.WS.serviceToken({service_token:1,service:"banxa",referrer:window.location.href}).then((function(t){if(t.error)r(t.error.message);else{var n=t.service_token.banxa.url;n&&window.open(n),e()}}))}))},onMountWidgetContainer:function(){},should_show_deposit_address:!1}},Ot=function(t){return{icon:{dark:"IcCashierChangellyDark",light:"IcCashierChangellyLight"},name:"Changelly",getDescription:function(){return(0,l.localize)("Your simple access to crypto. Fast and secure way to exchange and purchase cryptocurrencies. 24/7 live chat support.")},getAllowedResidencies:function(){return["*"]},getPaymentIcons:function(){return[{dark:"IcCashierVisaDark",light:"IcCashierVisaLight"},{dark:"IcCashierMastercardDark",light:"IcCashierMastercardLight"}]},getScriptDependencies:function(){return[]},getDefaultFromCurrency:function(){return"usd"},getFromCurrencies:function(){return["usd","eur","gbp"]},getToCurrencies:function(){return["bch","btc","etc","eth","ltc","ust"]},getWidgetHtml:function(){var e=this;return new Promise((function(r){var n=new URL("https://widget.changelly.com/?v=3&theme=default");n.searchParams.append("fromDefault",e.getDefaultFromCurrency());var o=t.root_store.client.currency.toLowerCase();if(e.getToCurrencies().includes(o)){var i="ust"===o?"usdt":o;n.searchParams.append("to",i),n.searchParams.append("toDefault",i)}n.searchParams.append("amount",1),n.searchParams.append("merchant_id","iiq3jdt2p44yrfbx"),window.open(n),r()}))},onMountWidgetContainer:function(){},should_show_deposit_address:!0}},Ct=function(t){return{icon:{dark:"IcCashierXanpoolDark",light:"IcCashierXanpoolLight"},name:"XanPool",getDescription:function(){return(0,l.localize)("Buy cryptocurrencies in an instant. Enjoy easy, quick, and secure exchanges using your local payment methods.")},getAllowedResidencies:function(){return["*"]},getPaymentIcons:function(){return[{dark:"IcCashierFpsDark",light:"IcCashierFpsLight"},{dark:"IcCashierAliPayDark",light:"IcCashierAliPayLight"},{dark:"IcCashierGoPayDark",light:"IcCashierGoPayLight"},{dark:"IcCashierMandiriPay",light:"IcCashierMandiriPay"},{dark:"IcCashierInstaPayLight",light:"IcCashierInstaPayDark"},{dark:"IcCashierCebuanaLhuillierDark",light:"IcCashierCebuanaLhuillierLight"},{dark:"IcCashierPayNowDark",light:"IcCashierPayNowLight"},{dark:"IcCashierUpiDark",light:"IcCashierUpiLight"},{dark:"IcCashierPromptPayDark",light:"IcCashierPromptPayLight"},{dark:"IcCashierViettlePay",light:"IcCashierViettlePay"}]},getScriptDependencies:function(){return[]},getToCurrencies:function(){return["btc","eth","ust","zil","nem"]},getWidgetHtml:function(){return new Promise((function(e){var r=t.root_store.client.currency,n="https://checkout.xanpool.com/";n+="?apiKey=db4ec638dff9a68abda1ef6b7638c220",n+="&redirectUrl=".concat(window.location.href),n+="&wallet=".concat(t.deposit_address),n+="&cryptoCurrency=".concat("UST"===r?"USDT":r),n+="&transactionType=buy",window.open(n),e()}))},onMountWidgetContainer:function(){},should_show_deposit_address:!1}};function At(t){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},At(t)}function It(){It=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function f(){}function d(){}var p={};s(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==e&&r.call(y,o)&&(p=y);var m=d.prototype=h.prototype=Object.create(p);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function n(o,i,a,s){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==At(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=d,s(m,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},_(g.prototype),s(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(m),s(m,a,"Generator"),s(m,o,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function jt(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ft(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){jt(i,n,o,a,s,"next",t)}function s(t){jt(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Mt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Dt(t,e){return Dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dt(t,e)}function Wt(t,e){if(e&&("object"===At(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Rt(t)}function Rt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nt(t){return Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nt(t)}var Gt=function(r){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dt(t,e)}(o,r);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Nt(t);if(e){var o=Nt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Wt(this,r)}}(o);function o(e){var r,i=e.WS,a=e.root_store;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(r=n.call(this,{root_store:a})).api_error=null,r.deposit_address=null,r.is_deposit_address_loading=!0,r.is_deposit_address_popover_open=!1,r.is_onramp_modal_open=!1,r.is_requesting_widget_html=!1,r.onramp_providers=[],r.selected_provider=null,r.should_show_widget=!1,r.widget_error=null,r.widget_html=null,r.deposit_address_ref=null,(0,t.makeObservable)(Rt(r),{api_error:t.observable,deposit_address:t.observable,is_deposit_address_loading:t.observable,is_deposit_address_popover_open:t.observable,is_onramp_modal_open:t.observable,is_requesting_widget_html:t.observable,onramp_providers:t.observable.shallow,selected_provider:t.observable.ref,should_show_widget:t.observable,widget_error:t.observable,widget_html:t.observable,is_onramp_tab_visible:t.computed,filtered_onramp_providers:t.computed,onramp_popup_modal_title:t.computed,should_show_dialog:t.computed,onMountOnramp:t.action.bound,onUnmountOnramp:t.action.bound,onClickCopyDepositAddress:t.action.bound,onClickDisclaimerContinue:t.action.bound,onClickGoToDepositPage:t.action.bound,pollApiForDepositAddress:t.action.bound,resetPopup:t.action.bound,setApiError:t.action.bound,setCopyIconRef:t.action.bound,setDepositAddress:t.action.bound,setDepositAddressRef:t.action.bound,setIsDepositAddressLoading:t.action.bound,setIsDepositAddressPopoverOpen:t.action.bound,setIsOnRampModalOpen:t.action.bound,setIsRequestingWidgetHtml:t.action.bound,setSelectedProvider:t.action.bound,setShouldShowWidget:t.action.bound,setOnrampProviders:t.action.bound,setWidgetError:t.action.bound,setWidgetHtml:t.action.bound}),r.WS=i,r.onClientInit(Ft(It().mark((function t(){return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.setOnrampProviders([Ot(Rt(r)),Ct(Rt(r)),Pt(Rt(r))]);case 1:case"end":return t.stop()}}),t)})))),r}return function(t,e,r){e&&Mt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(o,[{key:"is_onramp_tab_visible",get:function(){var t=this.root_store.client;return!1===t.is_virtual&&(0,e.isCryptocurrency)(t.currency)&&this.filtered_onramp_providers.length>0}},{key:"filtered_onramp_providers",get:function(){var t=this.root_store.client;return this.onramp_providers.filter((function(e){var r=e.getToCurrencies();return r.includes("*")||r.includes(t.currency.toLowerCase())})).filter((function(e){var r=e.getAllowedResidencies();return r.includes("*")||r.includes(t.residence)}))}},{key:"onramp_popup_modal_title",get:function(){return this.should_show_widget?(0,l.localize)("Payment channel"):this.selected_provider?this.should_show_dialog?(0,l.localize)("Our server cannot retrieve an address."):" ":void 0}},{key:"should_show_dialog",get:function(){return this.api_error}},{key:"onMountOnramp",value:function(){var r=this;this.disposeThirdPartyJsReaction=(0,t.reaction)((function(){return r.selected_provider}),function(){var t=Ft(It().mark((function t(n){var o,i,a,s;return It().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:if(0!==(o=n.getScriptDependencies()).length){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,h.e("loadjs").then(h.t.bind(h,"../../../node_modules/loadjs/dist/loadjs.umd.js",23));case 7:i=t.sent,a=i.default,s="".concat((0,e.getKebabCase)(n.name),"-onramp"),a.isDefined(s)||a(o,s,{error:function(){console.warn("Dependencies for onramp provider ".concat(n.name," could not be loaded.")),r.setSelectedProvider(null)}});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),this.disposeGetWidgetHtmlReaction=(0,t.reaction)((function(){return r.should_show_widget}),(function(t){if(t){if(r.is_requesting_widget_html)return;r.setIsRequestingWidgetHtml(!0),r.selected_provider.getWidgetHtml().then((function(t){t?r.setWidgetHtml(t):r.setShouldShowWidget(!1)})).catch((function(t){r.setWidgetError(t)})).finally((function(){return r.setIsRequestingWidgetHtml(!1)}))}}))}},{key:"onUnmountOnramp",value:function(){"function"==typeof this.disposeThirdPartyJsReaction&&this.disposeThirdPartyJsReaction(),"function"==typeof this.disposeGetWidgetHtmlReaction&&this.disposeGetWidgetHtmlReaction()}},{key:"onClickCopyDepositAddress",value:function(){var t=this,e=document.createRange();e.selectNodeContents(this.deposit_address_ref);var r=window.getSelection();r.removeAllRanges(),r.addRange(e),navigator.clipboard.writeText(this.deposit_address).then((function(){t.setIsDepositAddressPopoverOpen(!0),setTimeout((function(){return t.setIsDepositAddressPopoverOpen(!1)}),500)}))}},{key:"onClickDisclaimerContinue",value:function(){this.setShouldShowWidget(!0)}},{key:"onClickGoToDepositPage",value:function(){this.pollApiForDepositAddress(!1),window.open((0,e.websiteUrl)()+e.routes.cashier_deposit.substring(1))}},{key:"pollApiForDepositAddress",value:function(t){var e=this;this.setIsDepositAddressLoading(!0),this.setApiError(null);var r=setInterval((function(){return n}),3e3),n=function(){e.WS.authorized.cashier("deposit",{provider:"crypto",type:"api"}).then((function(n){var o=!1;if(n.error)e.setApiError(n.error),o=!0;else{var i=n.cashier.deposit.address;(i||t)&&(e.setDepositAddress(i),o=!0)}o&&(clearInterval(r),e.setIsDepositAddressLoading(!1))}))};n(),setTimeout((function(){clearInterval(r),e.setIsDepositAddressLoading(!1)}),3e4)}},{key:"resetPopup",value:function(){this.setApiError(null),this.setDepositAddress(null),this.setDepositAddressRef(null),this.setIsDepositAddressLoading(!0),this.setSelectedProvider(null),this.setShouldShowWidget(!1),this.setWidgetError(null),this.setWidgetHtml(null)}},{key:"setApiError",value:function(t){this.api_error=t}},{key:"setCopyIconRef",value:function(t){this.copy_icon_ref=t}},{key:"setDepositAddress",value:function(t){this.deposit_address=t}},{key:"setDepositAddressRef",value:function(t){this.deposit_address_ref=t}},{key:"setIsDepositAddressLoading",value:function(t){this.is_deposit_address_loading=t}},{key:"setIsDepositAddressPopoverOpen",value:function(t){this.is_deposit_address_popover_open=t}},{key:"setIsOnRampModalOpen",value:function(t){this.is_onramp_modal_open=t}},{key:"setIsRequestingWidgetHtml",value:function(t){this.is_requesting_widget_html=t}},{key:"setSelectedProvider",value:function(t){t?(this.selected_provider=t,this.setIsOnRampModalOpen(!0),this.pollApiForDepositAddress(!0)):(this.setIsOnRampModalOpen(!1),this.selected_provider=null)}},{key:"setShouldShowWidget",value:function(t){this.should_show_widget=t}},{key:"setOnrampProviders",value:function(t){this.onramp_providers=t.slice()}},{key:"setWidgetError",value:function(t){this.widget_error=t}},{key:"setWidgetHtml",value:function(t){this.widget_html=t}}]),o}(ft);function Vt(t){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vt(t)}function Bt(){Bt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function f(){}function d(){}var p={};s(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==e&&r.call(y,o)&&(p=y);var m=d.prototype=h.prototype=Object.create(p);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function n(o,i,a,s){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==Vt(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=d,s(m,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},_(g.prototype),s(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(m),s(m,a,"Generator"),s(m,o,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Ht(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Ut(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var zt=function(){function e(r){var n=r.WS,o=r.root_store;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.is_button_clicked=!1,this.timeout_button="",this.error=new m,this.is_email_sent=!1,this.is_resend_clicked=!1,this.resend_timeout=60,(0,t.makeObservable)(this,{is_button_clicked:t.observable,timeout_button:t.observable,error:t.observable,is_email_sent:t.observable,is_resend_clicked:t.observable,resend_timeout:t.observable,setIsButtonClicked:t.action.bound,setTimeoutButton:t.action.bound,setIsEmailSent:t.action.bound,setIsResendClicked:t.action.bound,setResendTimeout:t.action.bound,setTimeoutVerification:t.action.bound,sendVerificationEmail:t.action.bound,resendVerificationEmail:t.action.bound}),this.root_store=o,this.WS=n}var r,n;return function(t,e,r){e&&Ut(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(e,[{key:"setIsButtonClicked",value:function(t){this.is_button_clicked=t}},{key:"setTimeoutButton",value:function(t){this.timeout_button=t}},{key:"setIsEmailSent",value:function(t){this.is_email_sent=t}},{key:"setIsResendClicked",value:function(t){this.is_resend_clicked=t}},{key:"setResendTimeout",value:function(t){this.resend_timeout=t}},{key:"clearTimeoutVerification",value:function(){this.timeout_button&&clearTimeout(this.timeout_button)}},{key:"setTimeoutVerification",value:function(){var t=this;this.clearTimeoutVerification(),this.setTimeoutButton(setTimeout((function(){t.clearVerification()}),36e5))}},{key:"sendVerificationEmail",value:(r=Bt().mark((function t(){var e,r,n,o,i,a,s,c,u=this;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.root_store,r=e.client,n=e.modules,o=n.cashier.payment_agent.resetPaymentAgent,i=n.cashier.general_store.active_container,a=d.map_action[i],!this.is_button_clicked&&r.email){t.next=6;break}return t.abrupt("return");case 6:return this.error.setErrorMessage(""),this.setIsButtonClicked(!0),s="payment_agent_withdraw"===a?"paymentagent_withdraw":"payment_withdraw",t.next=11,this.WS.verifyEmail(r.email,s);case 11:if(!(c=t.sent).error){t.next=20;break}if(!["PaymentAgentJustification","PaymentAgentWithdrawSameMethod","PaymentAgentUseOtherMethod"].includes(c.error.code)){t.next=16;break}return this.error.setErrorMessage(c.error,null,null),t.abrupt("return");case 16:this.clearVerification(),"PaymentAgentWithdrawError"===c.error.code?this.error.setErrorMessage(c.error,o,null):this.error.setErrorMessage(c.error,(function(){u.error.setErrorMessage("",null,null)}),null),t.next=22;break;case 20:this.setIsEmailSent(!0),this.setTimeoutVerification();case 22:case"end":return t.stop()}}),t,this)})),n=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){Ht(i,n,o,a,s,"next",t)}function s(t){Ht(i,n,o,a,s,"throw",t)}a(void 0)}))},function(){return n.apply(this,arguments)})},{key:"resendVerificationEmail",value:function(){this.resend_timeout<60||(this.setIsButtonClicked(!1),this.setCountDownResendVerification(),this.sendVerificationEmail())}},{key:"setCountDownResendVerification",value:function(){var t=this;this.setResendTimeout(this.resend_timeout-1);var e=setInterval((function(){1===t.resend_timeout?(t.setResendTimeout(60),clearInterval(e)):t.setResendTimeout(t.resend_timeout-1)}),1e3)}},{key:"clearVerification",value:function(){var t=this.root_store,e=t.client,r=t.modules.cashier.general_store.active_container,n=d.map_action[r];this.clearTimeoutVerification(),this.setIsButtonClicked(!1),this.setIsEmailSent(!1),this.setIsResendClicked(!1),this.setResendTimeout(60),this.error.setErrorMessage("",null,null),e.setVerificationCode("",n)}}]),e}();function qt(t){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qt(t)}function Yt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Xt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Yt(Object(r),!0).forEach((function(e){Kt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Kt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jt(){Jt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function f(){}function d(){}var p={};s(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==e&&r.call(y,o)&&(p=y);var m=d.prototype=h.prototype=Object.create(p);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function n(o,i,a,s){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==qt(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=d,s(m,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},_(g.prototype),s(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(m),s(m,a,"Generator"),s(m,o,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function $t(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function Qt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){$t(i,n,o,a,s,"next",t)}function s(t){$t(i,n,o,a,s,"throw",t)}a(void 0)}))}}function Zt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var te=function(){function r(e){var n=this,o=e.WS,i=e.root_store;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.list=[],this.agents=[],this.container=d.containers.payment_agent,this.error=new m,this.filtered_list=[],this.is_name_selected=!0,this.is_withdraw=!1,this.is_try_withdraw_successful=!1,this.is_withdraw_successful=!1,this.confirm={},this.receipt={},this.selected_bank=0,this.supported_banks=[],this.verification=new zt({root_store:this.root_store,WS:this.WS}),this.active_tab_index=0,this.all_payment_agent_list=[],this.resetPaymentAgent=function(){n.error.setErrorMessage(""),n.setIsWithdraw(!1),n.verification.clearVerification(),n.setActiveTabIndex(0)},(0,t.makeObservable)(this,{list:t.observable,agents:t.observable,container:t.observable,error:t.observable,filtered_list:t.observable,is_name_selected:t.observable,is_withdraw:t.observable,is_try_withdraw_successful:t.observable,is_withdraw_successful:t.observable,confirm:t.observable,receipt:t.observable,selected_bank:t.observable,supported_banks:t.observable,verification:t.observable,active_tab_index:t.observable,all_payment_agent_list:t.observable,setActiveTabIndex:t.action.bound,setActiveTab:t.action.bound,is_payment_agent_visible:t.computed,getPaymentAgentList:t.action.bound,getPaymentAgentDetails:t.action.bound,addSupportedBank:t.action.bound,clearSuppertedBanks:t.action.bound,sortSupportedBanks:t.action.bound,setList:t.action.bound,clearList:t.action.bound,setPaymentAgentList:t.action.bound,filterPaymentAgentList:t.action.bound,onChangePaymentMethod:t.action.bound,setIsWithdraw:t.action.bound,setIsTryWithdrawSuccessful:t.action.bound,setIsWithdrawSuccessful:t.action.bound,setConfirmation:t.action.bound,setReceipt:t.action.bound,addPaymentAgent:t.action.bound,onMountPaymentAgentWithdraw:t.action.bound,requestTryPaymentAgentWithdraw:t.action.bound,resetPaymentAgent:t.action.bound,onMountPaymentAgentList:t.action.bound,setAllPaymentAgentList:t.action.bound,is_payment_agent_visible_in_onboarding:t.computed,requestPaymentAgentWithdraw:t.action.bound}),this.root_store=i,this.WS=o}var n,o,i,a,s,c,u,l;return function(t,e,r){e&&Zt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(r,[{key:"setActiveTabIndex",value:function(t){this.active_tab_index=t}},{key:"setActiveTab",value:function(t){this.setActiveTabIndex(t),1===t&&this.verification.sendVerificationEmail()}},{key:"is_payment_agent_visible",get:function(){return!(!this.filtered_list.length&&!this.agents.length)}},{key:"getPaymentAgentList",value:(l=Qt(Jt().mark((function t(){var e,r,n;return Jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.wait("get_settings");case 2:return e=this.root_store.client,r=e.residence,n=e.currency,t.abrupt("return",this.WS.authorized.paymentAgentList(r,n));case 4:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"getPaymentAgentDetails",value:(u=Qt(Jt().mark((function t(){var e,r;return Jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.authorized.paymentAgentDetails();case 2:return e=t.sent,r=e.paymentagent_details,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"addSupportedBank",value:function(t){this.supported_banks.find((function(e){return e.value===t.toLowerCase()}))||this.supported_banks.push({text:t,value:t.toLowerCase()})}},{key:"clearSuppertedBanks",value:function(){this.supported_banks=[]}},{key:"sortSupportedBanks",value:function(){this.supported_banks.replace(this.supported_banks.slice().sort((function(t,e){return t.value<e.value?-1:t.value>e.value?1:0})))}},{key:"setList",value:function(t){this.list.push(t)}},{key:"clearList",value:function(){this.list=[]}},{key:"setPaymentAgentList",value:(c=Qt(Jt().mark((function t(e){var r,n,o=this;return Jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=e,t.t0){t.next=5;break}return t.next=4,this.getPaymentAgentList();case 4:t.t0=t.sent;case 5:r=t.t0,this.clearList(),this.clearSuppertedBanks();try{null===(n=r.paymentagent_list)||void 0===n||n.list.forEach((function(t){o.setList({email:t.email,phones:(null==t?void 0:t.phone_numbers)||(null==t?void 0:t.telephone),name:t.name,supported_banks:null==t?void 0:t.supported_payment_methods,urls:(null==t?void 0:t.urls)||(null==t?void 0:t.url)}),(null==t?void 0:t.supported_payment_methods.map((function(t){return t.payment_method}))).forEach((function(t){return o.addSupportedBank(t)}))}))}catch(t){console.error(t)}this.sortSupportedBanks();case 10:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"filterPaymentAgentList",value:function(t){var r=this,n=this.root_store.common;t?(this.filtered_list=[],this.list.forEach((function(e){var n=null==e?void 0:e.supported_banks;n&&-1!==("string"==typeof n?n.toLowerCase().split(",").indexOf(t):n.map((function(t){return t.payment_method.toLowerCase()})).indexOf(t))&&r.filtered_list.push(e)}))):this.filtered_list=this.list,!this.is_payment_agent_visible&&window.location.pathname.endsWith(e.routes.cashier_pa)&&n.routeTo(e.routes.cashier_deposit)}},{key:"onChangePaymentMethod",value:function(t){var e=t.target,r="0"===e.value?parseInt(e.value):e.value;this.selected_bank=r,this.filterPaymentAgentList(r)}},{key:"setIsWithdraw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.is_withdraw;this.is_withdraw=t}},{key:"setIsTryWithdrawSuccessful",value:function(t){this.error.setErrorMessage(""),this.is_try_withdraw_successful=t}},{key:"setIsWithdrawSuccessful",value:function(t){this.is_withdraw_successful=t}},{key:"setConfirmation",value:function(t){var e=t.amount,r=t.currency,n=t.loginid,o=t.payment_agent_name;this.confirm={amount:e,currency:r,loginid:n,payment_agent_name:o}}},{key:"setReceipt",value:function(t){var e=t.amount_transferred,r=t.payment_agent_email,n=t.payment_agent_id,o=t.payment_agent_name,i=t.payment_agent_phone,a=t.payment_agent_url;this.receipt={amount_transferred:e,payment_agent_email:r,payment_agent_id:n,payment_agent_name:o,payment_agent_phone:i,payment_agent_url:a}}},{key:"addPaymentAgent",value:function(t){this.agents.push({text:t.name,value:t.paymentagent_loginid,max_withdrawal:t.max_withdrawal,min_withdrawal:t.min_withdrawal,email:t.email,phone:t.telephone,url:t.url})}},{key:"onMountPaymentAgentWithdraw",value:(s=Qt(Jt().mark((function t(){var r,n,o,i,a,s,c,u=this;return Jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.root_store,n=r.common,o=r.modules,i=o.cashier.general_store,a=i.setLoading,s=i.onMountCommon,a(!0),this.onRemount=this.onMountPaymentAgentWithdraw,s(),this.setIsWithdraw(!0),this.setIsWithdrawSuccessful(!1),this.setReceipt({}),this.agents.length){t.next=14;break}return t.next=11,this.getPaymentAgentList();case 11:(c=t.sent).paymentagent_list.list.forEach((function(t){u.addPaymentAgent(t)})),!c.paymentagent_list.list.length&&window.location.pathname.endsWith(e.routes.cashier_pa)&&n.routeTo(e.routes.cashier_deposit);case 14:a(!1);case 15:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"requestTryPaymentAgentWithdraw",value:(a=Qt(Jt().mark((function t(e){var r,n,o,i,a,s;return Jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.loginid,n=e.currency,o=e.amount,i=e.verification_code,this.error.setErrorMessage(""),t.next=4,this.WS.authorized.paymentAgentWithdraw({loginid:r,currency:n,amount:o,verification_code:i,dry_run:1});case 4:2==+(a=t.sent).paymentagent_withdraw?(s=this.agents.find((function(t){return t.value===r})),this.setConfirmation(Xt({amount:o,currency:n,loginid:r},s&&{payment_agent_name:s.text})),this.setIsTryWithdrawSuccessful(!0)):this.error.setErrorMessage(a.error,this.resetPaymentAgent);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"onMountPaymentAgentList",value:(i=Qt(Jt().mark((function t(){var e,r,n;return Jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.root_store.modules.cashier.general_store,r=e.setLoading,n=e.onMountCommon,r(!0),this.onRemount=this.onMountPaymentAgentList,t.next=5,n();case 5:return t.next=7,this.getPaymentAgentList();case 7:r(!1);case 8:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getAllPaymentAgentList",value:(o=Qt(Jt().mark((function t(){return Jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.wait("get_settings");case 2:return t.abrupt("return",this.WS.allPaymentAgentList(this.root_store.client.residence));case 3:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"setAllPaymentAgentList",value:function(t){this.all_payment_agent_list=t}},{key:"is_payment_agent_visible_in_onboarding",get:function(){var t,e,r;return!(null===(t=this.all_payment_agent_list)||void 0===t||null===(e=t.paymentagent_list)||void 0===e||null===(r=e.list)||void 0===r||!r.length)}},{key:"requestPaymentAgentWithdraw",value:(n=Qt(Jt().mark((function t(r){var n,o,i,a,s,c;return Jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.loginid,o=r.currency,i=r.amount,a=r.verification_code,this.error.setErrorMessage(""),t.next=4,this.WS.authorized.paymentAgentWithdraw({loginid:n,currency:o,amount:i,verification_code:a});case 4:1==+(s=t.sent).paymentagent_withdraw?(c=this.agents.find((function(t){return t.value===n})),this.setReceipt(Xt(Xt({amount_transferred:(0,e.formatMoney)(o,i,!0)},c&&{payment_agent_email:c.email,payment_agent_id:c.value,payment_agent_name:c.text,payment_agent_phone:c.phone,payment_agent_url:c.url}),!c&&{payment_agent_id:n})),this.setIsWithdrawSuccessful(!0),this.setIsTryWithdrawSuccessful(!1),this.setConfirmation({})):this.error.setErrorMessage(s.error,this.resetPaymentAgent);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})}]),r}();function ee(t){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(t)}function re(){re=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function f(){}function d(){}var p={};s(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==e&&r.call(y,o)&&(p=y);var m=d.prototype=h.prototype=Object.create(p);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function n(o,i,a,s){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==ee(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=d,s(m,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},_(g.prototype),s(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(m),s(m,a,"Generator"),s(m,o,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function ne(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function oe(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ne(i,n,o,a,s,"next",t)}function s(t){ne(i,n,o,a,s,"throw",t)}a(void 0)}))}}function ie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var ae=function(){function r(e){var n=this,o=e.WS,i=e.root_store;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.container=d.containers.payment_agent_transfer,this.error=new m,this.is_payment_agent=!1,this.is_try_transfer_successful=!1,this.is_transfer_successful=!1,this.confirm={},this.receipt={},this.transfer_limit={},this.requestTryPaymentAgentTransfer=function(){var t=oe(re().mark((function t(e){var r,o,i,a,s;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.amount,o=e.currency,i=e.description,a=e.transfer_to,n.error.setErrorMessage(""),t.next=4,n.WS.authorized.paymentAgentTransfer({amount:r,currency:o,description:i,transfer_to:a,dry_run:1});case 4:return 2==+(s=t.sent).paymentagent_transfer?(n.setConfirmationPaymentAgentTransfer({client_id:a,client_name:s.client_to_full_name,amount:r,description:i}),n.setIsTryTransferSuccessful(!0)):n.error.setErrorMessage(s.error,n.resetPaymentAgentTransfer),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.requestPaymentAgentTransfer=function(){var t=oe(re().mark((function t(e){var r,o,i,a,s;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.amount,o=e.currency,i=e.description,a=e.transfer_to,n.error.setErrorMessage(""),t.next=4,n.WS.authorized.paymentAgentTransfer({amount:r,currency:o,description:i,transfer_to:a});case 4:return 1==+(s=t.sent).paymentagent_transfer?(n.setReceiptPaymentAgentTransfer({amount_transferred:r,client_id:a,client_name:s.client_to_full_name}),n.setIsTransferSuccessful(!0),n.setIsTryTransferSuccessful(!1),n.setConfirmationPaymentAgentTransfer({})):n.error.setErrorMessage(s.error,n.resetPaymentAgentTransfer),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.resetPaymentAgentTransfer=function(){n.setIsTransferSuccessful(!1),n.error.setErrorMessage("")},(0,t.makeObservable)(this,{container:t.observable,error:t.observable,is_payment_agent:t.observable,is_try_transfer_successful:t.observable,is_transfer_successful:t.observable,confirm:t.observable,receipt:t.observable,transfer_limit:t.observable,is_payment_agent_transfer_visible:t.computed,setIsPaymentAgent:t.action.bound,setIsTryTransferSuccessful:t.action.bound,setIsTransferSuccessful:t.action.bound,setConfirmationPaymentAgentTransfer:t.action.bound,setReceiptPaymentAgentTransfer:t.action.bound,setMinMaxPaymentAgentTransfer:t.action.bound,onMountPaymentAgentTransfer:t.action.bound,requestTryPaymentAgentTransfer:t.action.bound,requestPaymentAgentTransfer:t.action.bound,resetPaymentAgentTransfer:t.action.bound}),this.root_store=i,this.WS=o}var n,o,i;return function(t,e,r){e&&ie(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(r,[{key:"is_payment_agent_transfer_visible",get:function(){return this.is_payment_agent}},{key:"checkIsPaymentAgent",value:(i=oe(re().mark((function t(){var e,r;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.authorized.storage.getSettings();case 2:r=t.sent.get_settings,this.setIsPaymentAgent(null!==(e=null==r?void 0:r.is_authenticated_payment_agent)&&void 0!==e&&e);case 4:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"setIsPaymentAgent",value:function(t){!t&&window.location.pathname.endsWith(e.routes.cashier_pa_transfer)&&this.root_store.common.routeTo(e.routes.cashier_deposit),this.is_payment_agent=!!t}},{key:"setIsTryTransferSuccessful",value:function(t){this.error.setErrorMessage(""),this.is_try_transfer_successful=t}},{key:"setIsTransferSuccessful",value:function(t){this.is_transfer_successful=t}},{key:"setConfirmationPaymentAgentTransfer",value:function(t){var e=t.amount,r=t.client_id,n=t.client_name,o=t.description;this.confirm={amount:e,client_id:r,client_name:n,description:o}}},{key:"setReceiptPaymentAgentTransfer",value:function(t){var e=t.amount_transferred,r=t.client_id,n=t.client_name;this.receipt={amount_transferred:e,client_id:r,client_name:n}}},{key:"getCurrentPaymentAgent",value:(o=oe(re().mark((function t(e){var r,n,o,i,a;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.root_store,n=r.client,o=r.modules,i=e.paymentagent_list.list.find((function(t){return t.paymentagent_loginid===n.loginid})),t.t0=i,t.t0){t.next=7;break}return t.next=6,o.cashier.payment_agent.getPaymentAgentDetails();case 6:t.t0=t.sent;case 7:return a=t.t0,t.abrupt("return",null!=a?a:{});case 9:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"setMinMaxPaymentAgentTransfer",value:function(t){var e=t.min_withdrawal,r=t.max_withdrawal;this.transfer_limit={min:e,max:r}}},{key:"onMountPaymentAgentTransfer",value:(n=oe(re().mark((function t(){var e,r,n,o,i;return re().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.root_store.modules.cashier,r=e.general_store,n=e.payment_agent,r.setLoading(!0),this.onRemount=this.onMountPaymentAgentTransfer,t.next=5,r.onMountCommon();case 5:if(this.transfer_limit.min_withdrawal){t.next=13;break}return t.next=8,n.getPaymentAgentList();case 8:return o=t.sent,t.next=11,this.getCurrentPaymentAgent(o);case 11:i=t.sent,this.setMinMaxPaymentAgentTransfer(i);case 13:r.setLoading(!1);case 14:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})}]),r}();function se(t){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},se(t)}function ce(){ce=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function f(){}function d(){}var p={};s(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==e&&r.call(y,o)&&(p=y);var m=d.prototype=h.prototype=Object.create(p);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function n(o,i,a,s){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==se(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=d,s(m,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},_(g.prototype),s(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(m),s(m,a,"Generator"),s(m,o,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function ue(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function le(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ue(i,n,o,a,s,"next",t)}function s(t){ue(i,n,o,a,s,"throw",t)}a(void 0)}))}}function he(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var fe=function(){function r(e){var n=e.WS,o=e.root_store;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.crypto_transactions=[],this.is_crypto_transactions_cancel_modal_visible=!1,this.is_crypto_transactions_status_modal_visible=!1,this.is_crypto_transactions_visible=!1,this.is_loading=!1,this.selected_crypto_transaction_id="",this.selected_crypto_status="",this.selected_crypto_status_description="",(0,t.makeObservable)(this,{crypto_transactions:t.observable,is_crypto_transactions_cancel_modal_visible:t.observable,is_crypto_transactions_status_modal_visible:t.observable,is_crypto_transactions_visible:t.observable,is_loading:t.observable,selected_crypto_transaction_id:t.observable,selected_crypto_status:t.observable,selected_crypto_status_description:t.observable,onMount:t.action.bound,unsubscribeCryptoTransactions:t.action.bound,getCryptoTransactions:t.action.bound,setCryptoTransactionsHistory:t.action.bound,updateCryptoTransactions:t.action.bound,sortCryptoTransactions:t.action.bound,cancelCryptoTransaction:t.action.bound,setSelectedCryptoTransactionId:t.action.bound,setIsCryptoTransactionsCancelModalVisible:t.action.bound,showCryptoTransactionsCancelModal:t.action.bound,hideCryptoTransactionsCancelModal:t.action.bound,setSelectedCryptoStatus:t.action.bound,setSelectedCryptoStatusDescription:t.action.bound,setIsCryptoTransactionsStatusModalVisible:t.action.bound,showCryptoTransactionsStatusModal:t.action.bound,hideCryptoTransactionsStatusModal:t.action.bound,setLoading:t.action.bound,setIsCryptoTransactionsVisible:t.action.bound}),this.root_store=o,this.WS=n}var n,o,i,a;return function(t,e,r){e&&he(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(r,[{key:"onMount",value:(a=le(ce().mark((function t(){var r,n,o;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.root_store.client,n=r.currency,o=r.switched,!n||!(0,e.isCryptocurrency)(n)||o){t.next=9;break}return this.setLoading(!0),t.next=6,this.unsubscribeCryptoTransactions();case 6:return t.next=8,this.getCryptoTransactions();case 8:this.setLoading(!1);case 9:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"unsubscribeCryptoTransactions",value:(i=le(ce().mark((function t(){var e=this;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.authorized.cashierPayments({provider:"crypto",transaction_type:"all"}).then((function(t){if(!t.error){var r=t.cashier_payments.crypto;e.setCryptoTransactionsHistory(r)}}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"getCryptoTransactions",value:(o=le(ce().mark((function t(){var e=this;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.subscribeCashierPayments((function(t){if(!t.error){var r=t.cashier_payments.crypto;e.updateCryptoTransactions(r)}}));case 2:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"setCryptoTransactionsHistory",value:function(t){this.crypto_transactions=t,this.sortCryptoTransactions()}},{key:"updateCryptoTransactions",value:function(t){var e=this;t.forEach((function(t){var r=e.crypto_transactions.findIndex((function(e){return e.id===t.id}));-1===r?e.crypto_transactions.push(t):Object.assign(e.crypto_transactions[r],t)})),this.sortCryptoTransactions()}},{key:"sortCryptoTransactions",value:function(){this.crypto_transactions.replace(this.crypto_transactions.slice().sort((function(t,e){return e.submit_date-t.submit_date})))}},{key:"cancelCryptoTransaction",value:(n=le(ce().mark((function t(e){var r=this;return ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.WS.cancelCryptoTransaction(e).then((function(t){return t.error?Promise.reject(t.error):(r.setSelectedCryptoTransactionId(""),r.setIsCryptoTransactionsCancelModalVisible(!1),Promise.resolve(t))}));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"setSelectedCryptoTransactionId",value:function(t){this.selected_crypto_transaction_id=t}},{key:"setIsCryptoTransactionsCancelModalVisible",value:function(t){this.is_crypto_transactions_cancel_modal_visible=t}},{key:"showCryptoTransactionsCancelModal",value:function(t){this.setSelectedCryptoTransactionId(t),this.setIsCryptoTransactionsCancelModalVisible(!0)}},{key:"hideCryptoTransactionsCancelModal",value:function(){this.setSelectedCryptoTransactionId(""),this.setIsCryptoTransactionsCancelModalVisible(!1)}},{key:"setSelectedCryptoStatus",value:function(t){this.selected_crypto_status=t}},{key:"setSelectedCryptoStatusDescription",value:function(t){this.selected_crypto_status_description=t}},{key:"setIsCryptoTransactionsStatusModalVisible",value:function(t){this.is_crypto_transactions_status_modal_visible=t}},{key:"showCryptoTransactionsStatusModal",value:function(t,e){this.setSelectedCryptoStatusDescription(t),this.setSelectedCryptoStatus(e),this.setIsCryptoTransactionsStatusModalVisible(!0)}},{key:"hideCryptoTransactionsStatusModal",value:function(){this.setIsCryptoTransactionsStatusModalVisible(!1)}},{key:"setLoading",value:function(t){this.is_loading=t}},{key:"setIsCryptoTransactionsVisible",value:function(t){this.is_crypto_transactions_visible=t}}]),r}();function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function pe(){pe=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new x(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=u(t,e,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(t,r,a),i}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function h(){}function f(){}function d(){}var p={};s(p,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==e&&r.call(y,o)&&(p=y);var m=d.prototype=h.prototype=Object.create(p);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){function n(o,i,a,s){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==de(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;this._invoke=function(t,r){function i(){return new e((function(e,o){n(t,r,e,o)}))}return o=o?o.then(i,i):i()}}function b(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=d,s(m,"constructor",d),s(d,"constructor",f),f.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},_(g.prototype),s(g.prototype,i,(function(){return this})),t.AsyncIterator=g,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new g(c(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(m),s(m,a,"Generator"),s(m,o,(function(){return this})),s(m,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:S(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function ve(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function ye(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){ve(i,n,o,a,s,"next",t)}function s(t){ve(i,n,o,a,s,"throw",t)}a(void 0)}))}}function me(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var _e=function(){function r(e){var n=e.WS,o=e.root_store;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.blockchain_address="",this.container=d.containers.withdraw,this.error=new m,this.is_10k_withdrawal_limit_reached=void 0,this.is_withdraw_confirmed=!1,this.verification=new zt({root_store:this.root_store,WS:this.WS}),this.withdraw_amount="",this.max_withdraw_amount=0,this.crypto_config={},(0,t.makeObservable)(this,{blockchain_address:t.observable,container:t.observable,error:t.observable,is_10k_withdrawal_limit_reached:t.observable,is_withdraw_confirmed:t.observable,verification:t.observable,withdraw_amount:t.observable,max_withdraw_amount:t.observable,crypto_config:t.observable,setIsWithdrawConfirmed:t.action.bound,setWithdrawAmount:t.action.bound,requestWithdraw:t.action.bound,saveWithdraw:t.action.bound,resetWithrawForm:t.action.bound,setBlockchainAddress:t.action.bound,willMountWithdraw:t.action.bound,onMountWithdraw:t.action.bound,onMountCryptoWithdraw:t.action.bound,is_withdrawal_locked:t.computed,setMaxWithdrawAmount:t.action.bound,check10kLimit:t.action.bound,set10kLimitation:t.action.bound,setWithdrawPercentageSelectorResult:t.action.bound,validateWithdrawFromAmount:t.action.bound,validateWithdrawToAmount:t.action.bound,account_platform_icon:t.computed}),this.root_store=o,this.WS=n}var n,o,i,a,s;return function(t,e,r){e&&me(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(r,[{key:"setIsWithdrawConfirmed",value:function(t){var e=this.root_store.modules.cashier.crypto_fiat_converter.converter_from_amount;this.is_withdraw_confirmed=t,t&&this.setWithdrawAmount(e),!t&&this.verification&&this.verification.clearVerification()}},{key:"setWithdrawAmount",value:function(t){this.withdraw_amount=t}},{key:"requestWithdraw",value:(s=ye(pe().mark((function t(e){var r,n,o,i,a=this;return pe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.root_store,n=r.client,o=r.modules,i=o.cashier.crypto_fiat_converter,n.is_logged_in){t.next=4;break}return t.abrupt("return");case 4:if(i.converter_from_amount){t.next=7;break}return i.setConverterFromError((0,l.localize)("This field is required.")),t.abrupt("return");case 7:return t.next=9,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+i.converter_from_amount,verification_code:e,dry_run:1}).then((function(t){t.error?a.error.setErrorMessage({code:"CryptoWithdrawalError",message:t.error.message}):a.saveWithdraw(e)}));case 9:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"saveWithdraw",value:(a=ye(pe().mark((function t(e){var r,n=this;return pe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.root_store.modules.cashier.crypto_fiat_converter.converter_from_amount,this.error.setErrorMessage(""),t.next=4,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+r,verification_code:e}).then((function(t){t.error?(n.error.setErrorMessage(t.error),e&&n.verification.clearVerification(),n.resetWithrawForm()):n.setIsWithdrawConfirmed(!0)}));case 4:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"resetWithrawForm",value:function(){var t=this.root_store.modules.cashier.crypto_fiat_converter,e=t.setConverterFromAmount,r=t.setConverterToAmount;this.setBlockchainAddress(""),e(""),r(""),this.verification.clearVerification()}},{key:"setBlockchainAddress",value:function(t){this.blockchain_address=t}},{key:"willMountWithdraw",value:function(t){t&&this.verification.clearVerification()}},{key:"onMountWithdraw",value:(i=ye(pe().mark((function t(e){var r,n,o,i,a,s,c,u,l,h,f,d,p,v,y,m,_,g,b,w,k;return pe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.root_store,n=r.client,o=r.modules,i=o.cashier.general_store,a=i.active_container,s=i.is_crypto,c=i.onMountCommon,u=i.setLoading,l=i.setOnRemount,h=o.cashier.iframe,f=h.checkIframeLoaded,d=h.clearTimeoutCashierUrl,p=h.clearIframe,v=h.is_session_timeout,y=h.setContainerHeight,m=h.setIframeUrl,_=h.setSessionTimeout,g=h.setTimeoutCashierUrl,b=n.is_virtual,w=a,l(this.onMountWithdraw),t.next=8,c();case 8:if(this.error.setErrorMessage(""),y(0),p(),u(!0),v){t.next=15;break}return f(),t.abrupt("return");case 15:if(m(""),e&&!b){t.next=19;break}return u(!1),t.abrupt("return");case 19:return t.next=21,this.WS.authorized.cashier(a,{verification_code:e});case 21:if(k=t.sent,w===a){t.next=25;break}return u(!1),t.abrupt("return");case 25:if(!k.error){t.next=33;break}this.error.handleCashierError(k.error),u(!1),_(!0),d(),e&&this.verification.clearVerification(),t.next=43;break;case 33:if(!s){t.next=37;break}u(!1),t.next=43;break;case 37:return t.next=39,f();case 39:u(!1),m(k.cashier),_(!1),g();case 43:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"onMountCryptoWithdraw",value:(o=ye(pe().mark((function t(e){var r,n,o,i,a,s,c;return pe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.root_store.modules.cashier,o=n.crypto_fiat_converter,i=n.general_store,a=n.iframe,i.setLoading(!0),!/^\w{8,128}$/.test(e)){t.next=9;break}return t.next=6,this.WS.cryptoWithdraw({address:this.blockchain_address,amount:+o.converter_from_amount,verification_code:e,dry_run:1});case 6:s=t.sent,t.next=10;break;case 9:s={error:{code:"InvalidToken",message:"Your token has expired or is invalid."}};case 10:if("InvalidToken"!==(null===(r=s.error)||void 0===r?void 0:r.code)){t.next=18;break}this.error.handleCashierError(s.error),i.setLoading(!1),a.setSessionTimeout(!0),a.clearTimeoutCashierUrl(),e&&this.verification.clearVerification(),t.next=31;break;case 18:return t.next=20,this.WS.cryptoConfig();case 20:if(t.t1=c=t.sent,t.t0=null===t.t1,t.t0){t.next=24;break}t.t0=void 0===c;case 24:if(!t.t0){t.next=28;break}t.t2=void 0,t.next=29;break;case 28:t.t2=c.crypto_config;case 29:this.crypto_config=t.t2,i.setLoading(!1);case 31:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"is_withdrawal_locked",get:function(){var t,e=this.root_store.client,r=e.account_status.authentication;if(null===(t=e.account_status)||void 0===t||!t.status)return!1;var n=r.needs_verification.includes("identity"),o=this.error.is_ask_authentication&&n;return e.is_withdrawal_lock||o||this.error.is_ask_financial_risk_approval}},{key:"setMaxWithdrawAmount",value:function(t){this.max_withdraw_amount=t}},{key:"check10kLimit",value:(n=ye(pe().mark((function t(){var r,n,o,i,a,s;return pe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=this.root_store.client,t.next=3,o.getLimits();case 3:if(t.t1=r=t.sent,t.t0=null===t.t1,t.t0){t.next=7;break}t.t0=void 0===r;case 7:if(!t.t0){t.next=11;break}t.t2=void 0,t.next=12;break;case 11:t.t2=null===(n=r.get_limits)||void 0===n?void 0:n.remainder;case 12:i=t.t2,this.setMaxWithdrawAmount(i),a=(0,e.getMinWithdrawal)(o.currency),s=!!(void 0!==i&&+i<a),this.set10kLimitation(s);case 17:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"set10kLimitation",value:function(t){this.is_10k_withdrawal_limit_reached=t}},{key:"setWithdrawPercentageSelectorResult",value:function(t){var e=this.root_store,r=e.client,n=e.modules.cashier,o=n.crypto_fiat_converter,i=n.general_store,a=r.currency,s=r.current_fiat_currency;t>0?(o.setConverterFromAmount(t),this.validateWithdrawFromAmount(),o.onChangeConverterFromAmount({target:{value:t}},a,s||"USD")):o.resetConverter(),o.setIsTimerVisible(!1),i.percentageSelectorSelectionStatus(!1)}},{key:"validateWithdrawFromAmount",value:function(){var t,r,n,o=this,i="",a=this.root_store,s=a.client,c=a.modules,h=s.balance,f=s.currency,d=c.cashier.crypto_fiat_converter,p=d.converter_from_amount,v=d.setConverterFromError,y=null===(t=this.crypto_config)||void 0===t||null===(r=t.currencies_config)||void 0===r||null===(n=r[f])||void 0===n?void 0:n.minimum_withdrawal,m=+this.max_withdraw_amount>+h?+h:+this.max_withdraw_amount,_=(0,e.formatMoney)(f,h,!0),g=(0,e.formatMoney)(f,y,!0),b=(0,e.formatMoney)(f,m,!0);if(p){var w=(0,e.validNumber)(p,{type:"float",decimals:(0,e.getDecimalPlaces)(f)}),k=w.is_ok,x=w.message;if(k?+h<+p?i=(0,l.localize)("Insufficient funds"):+h<+y?i=(0,l.localize)("Your balance ({{format_balance}} {{currency}}) is less than the current minimum withdrawal allowed ({{format_min_withdraw_amount}} {{currency}}). Please top up your account to continue with your withdrawal.",{format_balance:_,currency:f,format_min_withdraw_amount:g}):(+p<+y||+p>+m)&&(i=(0,l.localize)("The current allowed withdraw amount is {{format_min_withdraw_amount}} to {{format_max_withdraw_amount}} {{currency}}",{format_min_withdraw_amount:g,format_max_withdraw_amount:b,currency:f})):i=x,(0,e.isMobile)()&&i.length>35){var S=i;i=u().createElement(q.ReadMore,{expand_text:(0,l.localize)("more"),text:S,collapse_length:28,openDialog:function(){return o.error.setErrorMessage({code:"CryptoWithdrawalReadMore",message:S})},show_dialog:!0})}}v(i)}},{key:"validateWithdrawToAmount",value:function(){var t="",r=this.root_store,n=r.client,o=r.modules,i=n.current_fiat_currency,a=o.cashier.crypto_fiat_converter,s=a.converter_to_amount,c=a.setConverterToError;if(s){var u=(0,e.validNumber)(s,{type:"float",decimals:(0,e.getDecimalPlaces)(i)}),l=u.is_ok,h=u.message;l||(t=h)}c(t)}},{key:"account_platform_icon",get:function(){var t=this.root_store.client,e=t.account_list,r=t.loginid;return e.find((function(t){return r===t.loginid})).icon}}]),r}();function ge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var be=function(t,e,r){return e&&ge(t.prototype,e),r&&ge(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var r=e.root_store,n=e.WS;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.account_prompt_dialog=new s(r),this.account_transfer=new C({root_store:r,WS:n}),this.crypto_fiat_converter=new D({root_store:r,WS:n}),this.deposit=new V({root_store:r,WS:n}),this.error_dialog=new H,this.error=new m,this.general_store=new kt({root_store:r,WS:n}),this.iframe=new Tt({root_store:r,WS:n}),this.onramp=new Gt({root_store:r,WS:n}),this.payment_agent=new te({root_store:r,WS:n}),this.payment_agent_transfer=new ae({root_store:r,WS:n}),this.transaction_history=new fe({root_store:r,WS:n}),this.verification=new zt({root_store:r,WS:n}),this.withdraw=new _e({root_store:r,WS:n})}))})(),f.default})(),t.exports=n(r(34302),r(42413),r(20374),r(31025),r(32735))}}]);