/*! For license information please see core.main~85fa0c87.4957691ad28bfab3e3b4.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1982],{83902:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(60216),a=n.n(r),o=n(40841),i=n.n(o),c=n(32735),l=n(4390),s=n(34302),u=n(32577),d=n(75672),_=n(20374),f=n(42413),m=n(53151);var p=function(e){var t=e.notifications,n=e.toggleDialog;return c.createElement(c.Fragment,null,t.map((function(e){return c.createElement("div",{className:"notifications-item",key:e.key},c.createElement(s.Text,{as:"h2",className:"notifications-item__title",weight:"bold",size:"xs",line_height:"m",color:"prominent"},e.type&&c.createElement(s.Icon,{icon:["contract_sold","info"].includes(e.type)?"IcAlertInfo":"IcAlert".concat((0,f.toTitleCase)(e.type)),className:i()("notifications-item__title-icon",(t={},r="notifications-item__title-icon--".concat(e.type),a=e.type,r in t?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t))}),e.header),c.createElement("div",{className:"notifications-item__message"},e.message),c.createElement("div",{className:"notifications-item__action"},!(0,f.isEmptyObject)(e.action)&&c.createElement(c.Fragment,null,e.action.route?c.createElement(u.CG,{onClick:n,active_class:"notifications-item",className:i()("dc-btn","dc-btn--secondary","notifications-item__cta-button"),to:e.action.route},c.createElement(s.Text,{weight:"bold",size:"xxs"},e.action.text)):c.createElement(s.Button,{className:i()("dc-btn--secondary","notifications-item__cta-button"),onClick:e.action.onClick},c.createElement(s.Text,{weight:"bold",size:"xxs"},e.action.text)))));var t,r,a})))},h=c.forwardRef((function(e,t){var n=e.notifications,r=e.toggleDialog,a=!n.length;return c.createElement("div",{className:"notifications-dialog",ref:t},c.createElement("div",{className:"notifications-dialog__header"},c.createElement(s.Text,{as:"h2",className:"notifications-dialog__header-text",size:"s",weight:"bold",color:"prominent",styles:{lineHeight:"1.6rem"}},c.createElement(_.Localize,{i18n_default_text:"Notifications"}))),c.createElement("div",{className:i()("notifications-dialog__content",{"notifications-dialog__content--empty":a})},c.createElement(s.ThemedScrollbars,{is_bypassed:(0,f.isMobile)()||a},a?c.createElement(m.X,null):c.createElement(p,{notifications:n,toggleDialog:r}))))}));h.displayName="NotificationListWrapper";var y=function(e){var t=e.is_visible,n=e.notifications,r=e.toggleDialog,a=c.useRef();return(0,s.useOnClickOutside)(a,(function(e){var n,o=!e.target.classList.contains("notifications-toggle__icon-wrapper");null!==(n=a.current)&&void 0!==n&&n.contains(e.target)||!t||!o||r()})),c.createElement(c.Fragment,null,c.createElement(s.MobileWrapper,null,c.createElement(s.MobileDialog,{portal_element_id:"modal_root",title:(0,_.localize)("Notifications"),wrapper_classname:"notifications-mobile-dialog",visible:t,onClose:r},c.createElement(h,{notifications:n,ref:a,toggleDialog:r}))),c.createElement(s.DesktopWrapper,null,c.createElement(l.Z,{in:t,classNames:{enter:"notifications-dialog--enter",enterDone:"notifications-dialog--enter-done",exit:"notifications-dialog--exit"},timeout:150,unmountOnExit:!0},c.createElement(h,{notifications:n,ref:a,toggleDialog:r}))))};y.propTypes={is_visible:a().bool,notifications:a().array,toggleDialog:a().func};const g=(0,d.$j)((function(e){var t=e.common,n=e.notifications;return{notifications:n.filtered_notifications,app_routing_history:t.app_routing_history,removeNotificationByKey:n.removeNotificationByKey,removeNotificationMessage:n.removeNotificationMessage}}))(y)},78568:(e,t,n)=>{n.d(t,{FX:()=>a,GH:()=>o,Sj:()=>i});var r=n(20374),a={SUCCESS:1,WARN:0,DANGER:-1,PENDING:-2},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.account_residence,a=void 0===n?"":n,o=arguments.length>2?arguments[2]:void 0;if("im"===a)return(0,r.localize)("Deriv account");switch(e){case"svg":return(0,r.localize)("Deriv account");case"iom":return o.is_united_kingdom?(0,r.localize)("Deriv Gaming"):(0,r.localize)("Deriv Synthetic");case"malta":return o.is_united_kingdom||o.is_rest_of_eu||o.is_belgium?(0,r.localize)("Options"):(0,r.localize)("Deriv Synthetic");case"maltainvest":return o.is_united_kingdom||o.is_france||o.is_other_eu||o.is_rest_of_eu?(0,r.localize)("Multipliers"):(0,r.localize)("Deriv Financial");default:return(0,r.localize)("Deriv")}},i=function(e){var t=e.landing_company_shortcode,n=void 0===t?"":t,r=e.is_fully_authenticated,o=void 0!==r&&r,i=e.is_age_verified,c=void 0!==i&&i,l=e.is_isle_of_man_residence,s=void 0!==l&&l,u=e.is_belgium_residence;return"svg"===n||s||void 0!==u&&u?a.SUCCESS:"iom"===n?o?a.SUCCESS:c?a.WARN:a.DANGER:a.SUCCESS}},27888:(e,t,n)=>{n.d(t,{Z:()=>St});var r=n(40841),a=n.n(r),o=n(32735),i=n(13799),c=n(34302),l=n(42413),s=n(20374),u=n(75672),d=n(60216),_=n.n(d),f=n(19465),m=n.n(f);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}const h=function(e){return o.createElement("div",{className:"account-signup-loader"},o.createElement(c.Loading,p({},e,{is_fullscreen:!1})))};var y=n(44066);const g=function(e){var t=e.onConfirm,n=e.onClose;return o.createElement(y.Formik,{initialValues:{},onSubmit:t,validateOnMount:!0},(function(e){var t=e.handleSubmit;return o.createElement(c.AutoHeightWrapper,{default_height:200},(function(e){var r=e.setRef,a=e.height;return o.createElement("form",{ref:r,onSubmit:t,className:"accept-risk__form"},o.createElement(c.Div100vhContainer,{className:"details-form",height_offset:"40px",is_disabled:(0,l.isDesktop)()},o.createElement(c.ThemedScrollbars,{autoHide:!(window.innerHeight<890),height:a-77},o.createElement("div",{className:"accept-risk__container"},o.createElement("div",{className:"accept-risk__header"},o.createElement(c.Text,{weight:"bold",size:"xs"},(0,s.localize)("Appropriateness Test, WARNING:"))),o.createElement(c.Text,{as:"p",size:"xs"},o.createElement(s.Localize,{i18n_default_text:"In providing our services to you, we are required to obtain information from you in order to assess whether a given product or service is appropriate for you (that is, whether you possess the experience and knowledge to understand the risks involved).<0/><1/>",components:[o.createElement("br",{key:0}),o.createElement("br",{key:1})]}),o.createElement(s.Localize,{i18n_default_text:"On the basis of the information provided in relation to your knowledge and experience, we consider that the investments available via this website are not appropriate for you.<0/><1/>",components:[o.createElement("br",{key:0}),o.createElement("br",{key:1})]}),o.createElement(s.Localize,{i18n_default_text:"By clicking Accept below and proceeding with the Account Opening you should note that you may be exposing yourself to risks (which may be significant, including the risk of loss of the entire sum invested) that you may not have the knowledge and experience to properly assess or mitigate."}))))),o.createElement("input",{name:"accept_risk",value:"1",type:"hidden"}),o.createElement(c.Modal.Footer,{has_separator:!0,is_bypassed:(0,l.isMobile)()},o.createElement(c.FormSubmitButton,{is_absolute:(0,l.isMobile)(),label:(0,s.localize)("Accept"),has_cancel:!0,cancel_label:(0,s.localize)("Decline"),onCancel:n})))}))}))};var v=n(78247),b=n.n(v),w=n(86245),E=n.n(w),S=n(80046),x=n.n(S),A=n(7335),O=n.n(A),C=n(1537),k=n.n(C),N=n(71711),L=n.n(N),z=n(39979),j=n.n(z),I=n(59403),M=n.n(I);const T=(0,u.$j)((function(e){var t=e.client,n=e.ui;return{currencies:t.currencies_list,has_currency:!!t.currency,has_real_account:t.has_active_real_account,legal_allowed_currencies:t.upgradeable_currencies,real_account_signup:n.real_account_signup,resetRealAccountSignupParams:n.resetRealAccountSignupParams,selectable_currencies:t.selectable_currencies,available_crypto_currencies:t.available_crypto_currencies,real_account_signup_target:n.real_account_signup_target,is_dxtrade_allowed:t.is_dxtrade_allowed,is_mt5_allowed:t.is_mt5_allowed,has_fiat:t.has_fiat,accounts:t.accounts,is_eu:t.is_eu}}))(M());var P=n(62762),R=n.n(P);const D=(0,u.$j)((function(e){var t=e.client;return{is_gb_residence:"gb"===t.residence,fetchStatesList:t.fetchStatesList,states_list:t.states_list}}))(R());var F=n(67027),G=n.n(F);const U=(0,u.$j)((function(e){var t=e.client;return{is_gb_residence:"gb"===t.residence,fetchStatesList:t.fetchStatesList,states_list:t.states_list}}))(G());function W(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=function(e){return"samoa"!==e.real_account_signup_target},Y=function(e){return[].concat(W(V(e)?[b()(e,T)]:[]),W(V(e)?[E()(e,k())]:[]),W(V(e)?[x()(e,U)]:[]),W("maltainvest"===e.real_account_signup_target?[O()(e,D)]:[]),[L()(e,j())])};function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function Z(){return Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z.apply(this,arguments)}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(){K=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new S(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=b(i,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),o}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function _(){}function f(){}var m={};c(m,a,(function(){return this}));var p=Object.getPrototypeOf,h=p&&p(p(x([])));h&&h!==t&&n.call(h,a)&&(m=h);var y=f.prototype=d.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==$(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return _.prototype=f,c(y,"constructor",f),c(f,"constructor",_),_.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(v.prototype),c(v.prototype,o,(function(){return this})),e.AsyncIterator=v,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new v(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function J(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Q(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||te(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||te(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){if(e){if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(e,t):void 0}}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var re=function(e){var t=e.has_target,n=e.has_real_account,r=e.items,a=e.getCurrentStep,i=e.getTotalSteps,l=a()-1,u=r[l].header?r[l].header.title:"";return o.createElement(o.Fragment,null,(!n||t)&&o.createElement(o.Fragment,null,o.createElement(c.DesktopWrapper,null,o.createElement(c.FormProgress,{steps:r,current_step:l})),o.createElement(c.MobileWrapper,null,o.createElement("div",{className:"account-wizard__header-steps"},o.createElement(c.Text,{as:"h4",styles:{lineHeight:"20px",color:"var(--brand-red-coral)"},size:"xs",weight:"bold",className:"account-wizard__header-steps-title"},o.createElement(s.Localize,{i18n_default_text:"Step {{step}}: {{step_title}} ({{step}} of {{steps}})",values:{step:l+1,steps:i(),step_title:u}}))))))},ae=function(e){var t=ee(o.useState(void 0),1)[0],n=ee(o.useState(!1),2),r=n[0],i=n[1],s=ee(o.useState(""),2),u=s[0],d=s[1],_=ee(o.useState([]),2),f=_[0],p=_[1],y=ee(o.useState([]),2),v=y[0],b=y[1],w=ee(o.useState(!1),2),E=w[0],S=w[1];o.useEffect((function(){e.fetchStatesList();var t=(0,l.makeCancellablePromise)(e.fetchResidenceList()),n=t.cancel,r=t.promise,a=(0,l.makeCancellablePromise)(e.fetchFinancialAssessment()),o=a.cancel,c=a.promise;return Promise.all([r,c]).then((function(){b((function(t){return t.length?t:Y(e)})),p(x()),i(!0)})),function(){n(),o()}}),[]),o.useEffect((function(){if(f.length>0){var e=Q(v);f.forEach((function(t,n){t instanceof Object&&(e[n].form_value=t)})),b(e),p([])}}),[f]),o.useEffect((function(){if(e.residence_list.length){A(e.residence_list).then((function(t){var n,r;(r=v.length?v:Y(e)).length>1&&"phone"in(null===(n=r[1])||void 0===n?void 0:n.form_value)&&(r[1].form_value.phone=r[1].form_value.phone||t||"",b(r))}))}}),[e.residence_list]);var x=function(){var e=localStorage.getItem("real_account_signup_wizard");try{return JSON.parse(e)||[]}catch(e){return[]}finally{localStorage.removeItem("real_account_signup_wizard")}},A=function(){var t,n=(t=K().mark((function t(n){var r;return K().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=n.find((function(t){return t.value===e.residence})))&&r.phone_idd){t.next=3;break}return t.abrupt("return","");case 3:return t.abrupt("return","+".concat(r.phone_idd));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(e){J(o,r,a,i,c,"next",e)}function c(e){J(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}(),O=function(){return v.map((function(e){return e.form_value})).reduce((function(t,n){var r=m()(new Map(Object.entries(n))),a=Object.keys(r).reduce((function(e,t){return e[t]="string"==typeof r[t]?r[t].trim():r[t],e}),{});return a.date_of_birth&&(a.date_of_birth=(0,l.toMoment)(a.date_of_birth).format("YYYY-MM-DD")),a.place_of_birth&&(a.place_of_birth=a.place_of_birth?(0,l.getLocation)(e.residence_list,a.place_of_birth,"value"):""),a.citizen&&(a.citizen=a.citizen?(0,l.getLocation)(e.residence_list,a.citizen,"value"):""),a.tax_residence&&(a.tax_residence=a.tax_residence?(0,l.getLocation)(e.residence_list,a.tax_residence,"value"):a.tax_residence),X(X({},t),a)}))},C=function(){d("")},k=function(t,n){t-1<0?e.onClose():(n(),C())},N=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=X({},O());return null===(t=r)||void 0===t||delete t.tax_identification_confirm,n&&(r=X(X({},r),n)),e.realAccountSignup(r)},L=function(e,t,n,r){z(e,t),C(),e+1>=v.length?I():r()},z=function(e,t){var n=Object.assign([],v);n[e].form_value=t,b(n)},j=function(e,t){return e?v[t][e]:v[t]},I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;e.setLoading(!0),N(t).then((function(t){e.setIsRiskWarningVisible(!1),"maltainvest"===e.real_account_signup_target?e.onFinishSuccess(t.new_account_maltainvest.currency.toLowerCase()):"samoa"===e.real_account_signup_target?e.onOpenWelcomeModal(t.new_account_samoa.currency.toLowerCase()):e.onFinishSuccess(t.new_account_real.currency.toLowerCase())})).catch((function(t){"show risk disclaimer"===t.code?(e.setIsRiskWarningVisible(!0),S(!0)):e.onError(t,v)})).finally((function(){return e.setLoading(!1)}))};if(e.is_loading)return o.createElement(h,null);if(E)return o.createElement(g,{onConfirm:function(){I({accept_risk:1})},onClose:function(){e.onClose(),e.setIsRiskWarningVisible(!1)}});if(!r)return null;if(!t){var M=v.map((function(t,n){var r=function(t){var n=j("passthrough",t),r=j("props",t)||{};return n&&n.length&&(n.forEach((function(t){Object.assign(r,q({},t,e[t]))})),r.bypass_to_personal=f.length>0),r}(n),a=t.body;return o.createElement(a,Z({value:j("form_value",n),index:n,onSubmit:L,onCancel:k,onSave:z,closeRealAccountSignup:e.closeRealAccountSignup,is_virtual:e.is_virtual,has_currency:e.has_currency,form_error:u},r,{key:n}))})),T=o.createElement("div",null);return"samoa"!==e.real_account_signup_target&&(T=o.createElement(re,{has_real_account:e.has_real_account,items:v,has_currency:e.has_currency,has_target:"manage"!==e.real_account_signup_target,setIsRiskWarningVisible:e.setIsRiskWarningVisible})),o.createElement(c.Wizard,{nav:T,className:a()("account-wizard",{"account-wizard--set-currency":!e.has_currency,"account-wizard--deriv-crypto":"samoa"===e.real_account_signup_target})},M)}var P=t;return o.createElement(P,null)};ae.propTypes={fetchResidenceList:_().func,has_currency:_().bool,has_real_account:_().bool,onError:_().func,onLoading:_().func,onFinishSuccess:_().func,onOpenWelcomeModal:_().func,realAccountSignup:_().func,residence:_().string,residence_list:_().array};const oe=(0,u.$j)((function(e){var t=e.client,n=e.notifications,r=e.ui;return{account_settings:t.account_settings,is_fully_authenticated:t.is_fully_authenticated,realAccountSignup:t.realAccountSignup,closeRealAccountSignup:r.closeRealAccountSignup,is_virtual:t.is_virtual,has_real_account:t.has_active_real_account,upgrade_info:t.upgrade_info,real_account_signup_target:r.real_account_signup_target,has_currency:!!t.currency,residence:t.residence,residence_list:t.residence_list,states_list:t.states_list,fetchStatesList:t.fetchStatesList,fetchResidenceList:t.fetchResidenceList,refreshNotifications:n.refreshNotifications,fetchFinancialAssessment:t.fetchFinancialAssessment,financial_assessment:t.financial_assessment}}))(ae);var ie=n(75594),ce=n.n(ie),le=n(71857),se=n.n(le),ue=function(){return[o.createElement(s.Localize,{key:0,i18n_default_text:"Choose your preferred cryptocurrency"}),o.createElement(s.Localize,{key:1,i18n_default_text:"You can open an account for each cryptocurrency."}),o.createElement(s.Localize,{key:2,i18n_default_text:"Add a real account"}),o.createElement(s.Localize,{key:3,i18n_default_text:"Choose a currency you would like to trade with."}),o.createElement(s.Localize,{key:4,i18n_default_text:"Choose a currency"})]},de=function(e){var t=e.heading,n=e.subheading;return o.createElement(o.Fragment,null,o.createElement(c.Text,{as:"h1",color:"prominent",align:"center",weight:"bold",className:"add-crypto-currency__title"},t),o.createElement(c.Text,{as:"h3",size:"xxs",color:"prominent",align:"center",className:"add-crypto-currency__sub-title"},n))},_e="crypto",fe=function(e){var t=e.available_crypto_currencies,n=e.form_error,r=e.has_fiat,a=e.is_add_fiat,i=e.legal_allowed_currencies,u=e.onClickBack,d=e.onSubmit,_=e.should_show_cancel,f=e.should_show_crypto_only,m=e.should_show_fiat_only,p=e.value,h=e.hasNoAvailableCrypto,g=function(){return(0,l.reorderCurrencies)(i.filter((function(e){return"fiat"===e.type})))},v=function(){return(0,l.reorderCurrencies)(i.filter((function(e){return e.type===_e})),_e)},b=function(){return!r&&!f},w=function(e){return-1===t.map((function(e){return e.value})).indexOf(e.value)};return o.createElement(y.Formik,{initialValues:{currency:p.currency},onSubmit:function(e,t){d(!1,e,t.setSubmitting)}},(function(e){var r=e.handleSubmit,i=e.values,d=e.errors,f=e.touched,p=e.isSubmitting;return o.createElement("form",{onSubmit:r},!b()&&o.createElement(de,{heading:ue()[0],subheading:ue()[1]}),b()&&o.createElement(de,{heading:a?ue()[4]:ue()[2],subheading:ue()[3]}),b()&&o.createElement(o.Fragment,null,o.createElement(c.ThemedScrollbars,null,o.createElement(ce(),{id:"fiat_currency",is_fiat:!0,className:"currency-selector__radio-group currency-selector__radio-group--with-margin",value:i.currency,error:d.currency,touched:f.currency,is_title_enabled:b(),item_count:g().length},g().map((function(e){return o.createElement(y.Field,{key:e.value,component:se(),name:"currency",id:e.value,label:e.name})}))))),b()&&o.createElement(c.Text,{as:"p",color:"prominent",size:"xxs",align:"center",className:"currency-selector__deposit-warn"},o.createElement(s.Localize,{i18n_default_text:"You’ll not be able to change currency once you have made a deposit."})),h()&&o.createElement("div",{className:"account-wizard--disabled-message"},o.createElement(c.Text,{as:"p",align:"center",size:"xxs",className:"account-wizard--disabled-message-description"},(0,s.localize)("You already have an account for each of the cryptocurrencies available on {{deriv}}.",{deriv:l.website_name}))),!m&&(0!==t.length?o.createElement(c.ThemedScrollbars,null,o.createElement(ce(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",label:(0,s.localize)("Cryptocurrencies"),value:i.currency,error:d.currency,touched:f.currency,is_title_enabled:b(),item_count:v().length},v().map((function(e){return o.createElement(y.Field,{key:e.value,component:se(),name:"currency",id:e.value,label:e.name,selected:w(e)})})))):o.createElement(c.ThemedScrollbars,null,o.createElement(ce(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",label:(0,s.localize)("Cryptocurrencies"),is_title_enabled:b(),item_count:v().length},v().map((function(e){return o.createElement(y.Field,{key:e.value,component:se(),name:"currency",id:e.value,label:e.name,selected:!0})}))))),o.createElement(c.FormSubmitButton,{className:"currency-selector__button",is_disabled:p||!i.currency,label:(0,s.localize)("Add account"),is_absolute:!(0,l.isMobile)(),form_error:n,has_cancel:_,cancel_label:(0,s.localize)("Back"),cancel_icon:o.createElement(c.Icon,{icon:"IcArrowLeftBold"}),onCancel:function(){return u()}}))}))};fe.propTypes={available_crypto_currencies:_().array,legal_allowed_currencies:_().array,has_fiat:_().bool,hasNoAvailableCrypto:_().func,form_error:_().string,onSubmit:_().func,should_show_cancel:_().bool,should_show_crypto_only:_().bool,should_show_fiat_only:_().bool,value:_().shape({crypto:_().string,fiat:_().string})};const me=(0,u.$j)((function(e){var t=e.client,n=e.ui;return{available_crypto_currencies:t.available_crypto_currencies,legal_allowed_currencies:t.upgradeable_currencies,has_fiat:t.has_fiat,should_show_cancel:n.should_show_cancel}}))(fe);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){ye(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ge=function(e,t,n){var r=[];return e.forEach((function(e){var a;r.push(he(he({},e),{},{has_payment_agent:!(null==t||null===(a=t.paymentagent_list)||void 0===a||!a.list.filter((function(t){return t.currencies===e.value})).length),is_disabled:null==n?void 0:n.some((function(t){return t.title===e.value&&t.is_disabled}))}))})),r};function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var we="crypto",Ee=function(e){var t=e.all_payment_agent_list,n=e.available_crypto_currencies,r=e.has_fiat,i=e.legal_allowed_currencies,u=e.onSubmit,d=e.openRealAccountSignup,_=e.setShouldShowAllAvailableCurrencies,f=e.deposit_target,m=e.hasNoAvailableCrypto,p=e.is_add_crypto,h=e.is_add_fiat,g=ve(o.useState(""),1)[0],v=ve(o.useState({crypto:"",fiat:""}),1)[0],b=ge(i,t),w=function(){return(0,l.reorderCurrencies)(null==b?void 0:b.filter((function(e){return e.type===we&&n.some((function(t){return t.value===e.value}))})),we)},E=function(){return(0,l.reorderCurrencies)(null==b?void 0:b.filter((function(e){return"fiat"===e.type&&!n.some((function(t){return t.value===e.value}))})))},S=function(){d("choose"),f===l.routes.cashier_pa&&_(!0)},x=function(){return o.createElement("div",null,o.createElement(c.Text,{as:"h1",color:"prominent",align:"center",weight:"bold",className:"add-currency__title"},(0,s.localize)("Fiat currencies")),!!r&&o.createElement(c.Text,{as:"p",color:"prominent",align:"center",size:"xxs",className:"add-currency__sub-title"},(0,s.localize)("You are limited to one fiat account only.")),o.createElement(ce(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",item_count:E().length},E().map((function(e){return o.createElement(y.Field,{key:e.value,component:se(),name:"currency",id:e.value,label:e.name,icon:e.icon,second_line_label:e.second_line_label,onClick:e.onClick,selected:r})}))))},A=function(){return o.createElement("div",null,o.createElement(c.Text,{as:"h1",color:"prominent",align:"center",weight:"bold",className:"add-currency__title"},(0,s.localize)("Cryptocurrencies")),o.createElement(c.Text,{as:"p",color:"prominent",align:"center",size:"xxs",className:"add-currency__sub-title"},(0,s.localize)("You can open an account for each cryptocurrency.")),o.createElement(ce(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",item_count:w().length},w().map((function(e){return o.createElement(y.Field,{key:e.value,component:se(),name:"currency",id:e.value,label:e.name,icon:e.icon,second_line_label:e.second_line_label,onClick:e.onClick,selected:f===l.routes.cashier_pa&&!e.has_payment_agent})}))))};return p?o.createElement(c.ThemedScrollbars,{autohide:!1},o.createElement("div",{className:a()("add-crypto-currency cashier-deposit",{"account-wizard--disabled":m()})},o.createElement(me,{className:"account-wizard__body",onSubmit:u,onClickBack:S,value:v,form_error:g,should_show_crypto_only:!0,hasNoAvailableCrypto:m}))):h?o.createElement(c.ThemedScrollbars,{autohide:!1},o.createElement("div",{className:"change-currency"},o.createElement(me,{className:"account-wizard__body",onSubmit:u,value:v,form_error:g,should_show_fiat_only:!0,hasNoAvailableCrypto:m,is_add_fiat:!0}))):o.createElement(y.Formik,{initialValues:{currency:v.currency},onSubmit:function(e,t){u(!1,e,t.setSubmitting)}},(function(e){var t=e.handleSubmit,n=e.values,r=e.isSubmitting;return o.createElement("form",{onSubmit:t},o.createElement(c.ThemedScrollbars,{height:(0,l.isMobile)()?window.innerHeight-190:"460px"},o.createElement("div",null,o.createElement(c.Text,{as:"p",color:"prominent",weight:"bold",align:"center",className:"add-currency__wizard-header"},(0,s.localize)("Choose your currency")),o.createElement(x,null),o.createElement("div",{className:"add-currency__underline"}),o.createElement(A,null))),o.createElement("div",{className:"add-currency__note-wrapper"},o.createElement(c.Text,{as:"p",color:"prominent",align:"center",size:"xxs",className:"add-currency__note"},(0,s.localize)("Some currencies may not be supported by payment agents in your country."))),o.createElement(c.FormSubmitButton,{className:"currency-selector__button",is_disabled:r||!n.currency,label:(0,s.localize)("Add account"),is_absolute:!0,form_error:g,has_cancel:!0,cancel_label:(0,s.localize)("Back"),cancel_icon:o.createElement(c.Icon,{icon:"IcArrowLeftBold"}),onCancel:function(){return S()}}))}))};Ee.propTypes={all_payment_agent_list:_().array,available_crypto_currencies:_().array,has_fiat:_().bool,legal_allowed_currencies:_().array,openRealAccountSignup:_().func,setShouldShowAllAvailableCurrencies:_().func,deposit_target:_().string};const Se=(0,u.$j)((function(e){var t=e.client,n=e.modules,r=e.ui;return{all_payment_agent_list:n.cashier.payment_agent.all_payment_agent_list,available_crypto_currencies:t.available_crypto_currencies,has_fiat:t.has_fiat,legal_allowed_currencies:t.upgradeable_currencies,openRealAccountSignup:r.openRealAccountSignup,setShouldShowAllAvailableCurrencies:n.cashier.general_store.setShouldShowAllAvailableCurrencies,deposit_target:n.cashier.general_store.deposit_target}}))(Ee);var xe=n(58468),Ae=function(e){var t,n=e.legal_allowed_currencies,r=e.value,a=e.onSubmit,i=e.form_error,u=e.can_change_fiat_currency,d=e.client_currency,_=e.current_currency_type,f=e.current_fiat_currency,m=e.closeModal,p=function(){return(0,l.reorderCurrencies)(n.filter((function(e){return"fiat"===e.type})))},h="fiat"===_,g=o.createElement(s.Localize,{i18n_default_text:"If you want to change your account currency, please contact us via <0>live chat</0>.",components:[o.createElement("span",{key:0,className:"link link--orange",onClick:function(){m(),window.LC_API.open_chat_window()}})]}),v=o.createElement(s.Localize,{i18n_default_text:"Please switch to your {{fiat_currency}} account to change currencies.",values:{fiat_currency:null==f||null===(t=f.toUpperCase)||void 0===t?void 0:t.call(f)}}),b=h?g:v;return o.createElement(y.Formik,{initialValues:{fiat:r.fiat},onSubmit:function(e,t){a(!1,e,t.setSubmitting)}},(function(e){var t=e.handleSubmit,n=e.values,r=e.errors,a=e.touched,_=e.isSubmitting;return o.createElement("form",{onSubmit:function(e){e.preventDefault(),t()}},o.createElement(c.Text,{as:"h1",color:"prominent",weight:"bold",align:"center",className:"change-currency__title"},o.createElement(s.Localize,{i18n_default_text:"Change your currency"})),o.createElement(c.Text,{as:"h3",size:"xxs",align:"center",className:"change-currency__sub-title"},o.createElement(s.Localize,{i18n_default_text:"Choose the currency you would like to trade with."})),!u&&o.createElement("div",{className:"account-wizard--disabled-message"},o.createElement(c.Text,{as:"p",align:"center",size:"xxs",className:"account-wizard--disabled-message-description"},b)),o.createElement(ce(),{id:"fiat",label:(0,s.localize)("Cryptocurrencies"),className:"currency-selector__radio-group currency-selector__radio-group--with-margin",value:n.fiat,error:r.fiat,touched:a.fiat,is_title_enabled:!1,item_count:p().length},p().map((function(e){return o.createElement(y.Field,{key:e.value,component:se(),name:"fiat",id:e.value,label:e.name,selected:e.value===d})}))),o.createElement(c.FormSubmitButton,{className:"change-currency__button",is_disabled:_||!n.fiat,label:(0,s.localize)("Change currency"),is_absolute:!(0,l.isMobile)(),form_error:i}))}))};Ae.propTypes={legal_allowed_currencies:_().array,onSubmit:_().func,closeModal:_().func,value:_().shape({crypto:_().string,fiat:_().string}),form_error:_().string,can_change_fiat_currency:_().bool,currency:_().string,current_currency_type:_().string,current_fiat_currency:_().string,client_currency:_().string};const Oe=(0,u.$j)((function(e){var t=e.client;return{legal_allowed_currencies:t.upgradeable_currencies,client_currency:t.currency,current_fiat_currency:t.current_fiat_currency}}))(Ae);function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function ke(){ke=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new S(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=b(i,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),o}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function _(){}function f(){}var m={};c(m,a,(function(){return this}));var p=Object.getPrototypeOf,h=p&&p(p(x([])));h&&h!==t&&n.call(h,a)&&(m=h);var y=f.prototype=d.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==Ce(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return _.prototype=f,c(y,"constructor",f),c(f,"constructor",_),_.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(v.prototype),c(v.prototype,o,(function(){return this})),e.AsyncIterator=v,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new v(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Ne(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var je=function(e){var t=e.available_crypto_currencies,n=e.can_change_fiat_currency,r=e.createCryptoAccount,i=e.current_currency_type,u=e.deposit_target,d=e.has_fiat,_=e.is_add_crypto,f=e.is_add_currency,m=e.is_add_fiat,p=e.is_eu,y=e.is_loading,g=e.manage_real_account_tab_index,v=e.onError,b=e.onSuccessSetAccountCurrency,w=e.resetRealAccountSignupTarget,E=e.setCurrency,S=e.setLoading,x=e.setIsDeposit,A=e.setShouldShowCancel,O=e.onClose,C=(null!=g?g:d&&0===(null==t?void 0:t.length))?1:0,k=Le(o.useState(C),2),N=k[0],L=k[1],z=Le(o.useState(""),1)[0],j=Le(o.useState({crypto:"",fiat:""}),1)[0];o.useEffect((function(){var e=function(){var e,t=(e=ke().mark((function e(){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,xe.WS.mt5LoginList();case 3:S(!1);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ne(o,r,a,i,c,"next",e)}function c(e){Ne(o,r,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return e(),function(){return A(!1)}}),[]);var I=function(e,t,n){!function(e,t){S(!0),Object.entries(e).map((function(e){var n=Le(e,2),a=n[0],o=n[1];"fiat"===a?E(o).then((function(e){t(!1),b(e.passthrough.previous_currency,e.echo_req.set_account_currency,u)})).catch((function(e){v(e)})).finally((function(){return S(!1)})):r(o).then((function(){b("",o,u),t(!1),w(),x(!0)})).catch((function(e){v(e)})).finally((function(){return S(!1)}))}))}(t,n)},M=function(){return 0===t.length&&d};if(y)return o.createElement(h,null);var T=d&&o.createElement("div",{className:a()("change-currency",{"account-wizard--disabled":!n})},o.createElement(Oe,{className:"account-wizard__body",onSubmit:I,value:j,form_error:z,can_change_fiat_currency:n,current_currency_type:i,closeModal:O}));return f||_||m?o.createElement(Se,{onSubmit:I,value:j,form_error:z,should_show_crypto_only:!0,hasNoAvailableCrypto:M,is_add_crypto:_,is_add_fiat:m,is_add_currency:f}):o.createElement(c.ThemedScrollbars,{is_bypassed:(0,l.isMobile)(),autohide:!1},p&&d?T:o.createElement(c.Tabs,{active_index:N,className:"account-wizard add-or-manage tabs--desktop",onTabItemClick:function(e){L(e)},top:!0,header_fit_content:(0,l.isDesktop)()},o.createElement("div",{label:(0,s.localize)("Cryptocurrencies")},o.createElement("div",{className:a()("add-crypto-currency",{"account-wizard--disabled":M()})},o.createElement(me,{className:"account-wizard__body",onSubmit:I,value:j,form_error:z,should_show_crypto_only:!0,hasNoAvailableCrypto:M}))),o.createElement("div",{label:(0,s.localize)("Fiat currencies")},d?T:o.createElement(me,{className:"account-wizard__body",onSubmit:I,value:j,form_error:z,should_show_fiat_only:!0,hasNoAvailableCrypto:M}))))};je.propTypes={available_crypto_currencies:_().arrayOf({fractional_digits:_().number,is_deposit_suspended:_().number,is_suspended:_().number,is_withdrawal_suspended:_().number,name:_().string,stake_default:_().number,transfer_between_accounts:_().object,type:_().string,value:_().string}),onClose:_().func,onError:_().func,onLoading:_().func,onSuccessSetAccountCurrency:_().func,is_eu:_().bool,setCurrency:_().func,createCryptoAccount:_().func,has_fiat:_().bool,can_change_fiat_currency:_().bool,current_currency_type:_().string,is_loading:_().bool,is_add_crypto:_().bool,setLoading:_().func,setShouldShowCancel:_().func};const Ie=(0,u.$j)((function(e){var t=e.client,n=e.modules,r=e.ui;return{available_crypto_currencies:t.available_crypto_currencies,can_change_fiat_currency:t.can_change_fiat_currency,current_currency_type:t.current_currency_type,current_fiat_currency:t.current_fiat_currency,has_fiat:t.has_fiat,is_eu:t.is_eu,manage_real_account_tab_index:r.manage_real_account_tab_index,setCurrency:t.setAccountCurrency,setShouldShowCancel:r.setShouldShowCancel,createCryptoAccount:t.createCryptoAccount,resetRealAccountSignupTarget:r.resetRealAccountSignupTarget,setIsDeposit:n.cashier.general_store.setIsDeposit}}))(je);function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Te(){Te=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new S(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return A()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=b(i,n);if(c){if(c===u)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,i),o}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function d(){}function _(){}function f(){}var m={};c(m,a,(function(){return this}));var p=Object.getPrototypeOf,h=p&&p(p(x([])));h&&h!==t&&n.call(h,a)&&(m=h);var y=f.prototype=d.prototype=Object.create(m);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){function r(a,o,i,c){var l=s(e[a],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==Me(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(d).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,u;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return _.prototype=f,c(y,"constructor",f),c(f,"constructor",_),_.displayName=c(f,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(v.prototype),c(v.prototype,o,(function(){return this})),e.AsyncIterator=v,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new v(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},g(y),c(y,i,"Generator"),c(y,a,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function Pe(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function Re(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Pe(o,r,a,i,c,"next",e)}function c(e){Pe(o,r,a,i,c,"throw",e)}i(void 0)}))}}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ge="crypto",Ue=function(e){var t=e.account_list,n=e.all_payment_agent_list,r=e.available_crypto_currencies,a=e.closeRealAccountSignup,i=e.continueRouteAfterChooseCrypto,u=e.currency_title,d=e.deposit_target,_=e.has_fiat,f=e.legal_allowed_currencies,m=e.openRealAccountSignup,p=e.switchAccount,h=e.should_show_all_available_currencies,g=e.setShouldShowCancel,v=e.setShouldShowAllAvailableCurrencies,b=De(o.useState(""),1)[0],w=De(o.useState({crypto:""}),1)[0];o.useEffect((function(){return function(){return v(!1)}}),[v]);var E=function(){return 0===(null==f?void 0:f.filter((function(e){return e.type===Ge&&!t.some((function(t){return t.title===e.value}))})).length)},S=function(){var e=ge(f,n,t),a=h?(0,l.reorderCurrencies)(null==e?void 0:e.filter((function(e){return t.some((function(t){return t.title===e.value}))})),Ge):(0,l.reorderCurrencies)(null==e?void 0:e.filter((function(e){return e.type===Ge&&!r.some((function(t){return t.value===e.value}))})),Ge);return(d===l.routes.cashier_pa&&!_||!E())&&a.push({value:"plus",name:d===l.routes.cashier_pa?(0,s.localize)("Add a new"):(0,s.localize)("Add new"),second_line_label:d===l.routes.cashier_pa?(0,s.localize)("account"):(0,s.localize)("crypto account"),icon:"IcAddAccount",onClick:function(){return m(d===l.routes.cashier_pa?"add_currency":"add_crypto"),void g(!0)},has_payment_agent:!0}),a},x=function(){var e=Re(Te().mark((function e(n){var r,a;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.filter((function(e){return e.title===n})),a=r.map((function(e){return e.loginid}))[0],e.next=4,p(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Re(Te().mark((function e(t){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Object.entries(t).map((function(e){var t=De(e,2),n=t[0],r=t[1];n&&(a(),r!==u&&x(r),i())}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.createElement(y.Formik,{initialValues:{currency:w.currency},onSubmit:function(e){A(e)}},(function(e){var t=e.handleSubmit,n=e.values,r=e.isSubmitting;return o.createElement("form",{onSubmit:t},o.createElement(c.Text,{as:"h1",color:"prominent",align:"center",weight:"bold",className:"add-crypto-currency__title"},d===l.routes.cashier_pa?(0,s.localize)("Choose an account or add a new one"):(0,s.localize)("Choose one of your accounts or add a new cryptocurrency account")),o.createElement(c.ThemedScrollbars,null,o.createElement(ce(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",item_count:S().length},S().map((function(e){return o.createElement(y.Field,{key:e.value,component:se(),name:"currency",id:e.value,label:e.name,icon:e.icon,second_line_label:e.second_line_label,onClick:e.onClick,selected:!(!e.is_disabled&&d!==l.routes.cashier_pa)&&!e.has_payment_agent})})))),o.createElement(c.FormSubmitButton,{className:"currency-selector__button",is_disabled:r||!n.currency,label:(0,s.localize)("Continue"),is_absolute:!0,form_error:b}))}))};Ue.propTypes={account_list:_().array,available_crypto_currencies:_().array,closeRealAccountSignup:_().func,continueRouteAfterChooseCrypto:_().func,currency_title:_().string,has_fiat:_().bool,legal_allowed_currencies:_().array,openRealAccountSignup:_().func,setShouldShowCancel:_().func,switchAccount:_().func};const We=(0,u.$j)((function(e){var t=e.client,n=e.modules,r=e.ui;return{account_list:t.account_list,all_payment_agent_list:n.cashier.payment_agent.all_payment_agent_list,available_crypto_currencies:t.available_crypto_currencies,closeRealAccountSignup:r.closeRealAccountSignup,continueRouteAfterChooseCrypto:r.continueRouteAfterChooseCrypto,currency_title:t.currency,deposit_target:n.cashier.general_store.deposit_target,has_fiat:t.has_fiat,legal_allowed_currencies:t.upgradeable_currencies,openRealAccountSignup:r.openRealAccountSignup,setShouldShowCancel:r.setShouldShowCancel,switchAccount:t.switchAccount,should_show_all_available_currencies:n.cashier.general_store.should_show_all_available_currencies,setShouldShowAllAvailableCurrencies:n.cashier.general_store.setShouldShowAllAvailableCurrencies}}))(Ue);var Be=["setLoading","onSuccessSetAccountCurrency","onError","available_crypto_currencies","has_fiat","landing_company_shortcode","is_loading"];function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}function Ye(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const $e=(0,u.$j)((function(e){var t=e.client;return{available_crypto_currencies:t.available_crypto_currencies,can_change_fiat_currency:t.can_change_fiat_currency,currency:t.currency,current_currency_type:t.current_currency_type,current_fiat_currency:t.current_fiat_currency,is_eu:t.is_eu,has_fiat:t.has_fiat,landing_company_shortcode:t.landing_company_shortcode,setCurrency:t.setAccountCurrency,createCryptoAccount:t.createCryptoAccount}}))((function(e){var t=e.setLoading,n=e.onSuccessSetAccountCurrency,r=e.onError,i=e.available_crypto_currencies,u=e.has_fiat,d=e.landing_company_shortcode,_=e.is_loading,f=Ye(e,Be),m=o.useState(""),p=o.useState({currency:""}),y=function(){return 0===i.length&&u&&f.currency};return _?o.createElement(h,null):o.createElement("div",{className:a()("set-currency-modal",{"set-currency-modal--disabled":y()})},y()&&o.createElement("div",{className:"set-currency-modal--disabled-message"},o.createElement("p",null,(0,s.localize)("You already have an account for each of the cryptocurrencies available on {{deriv}}.",{deriv:l.website_name}))),o.createElement("div",{className:"set-currency-modal__heading-container"},o.createElement(c.Text,{as:"p",size:"xs",line_height:"s",align:"center",className:"set-currency-modal__heading-container__main-heading"},(0,s.localize)("You have an account that do not have currency assigned. Please choose a currency to trade with this account.")),o.createElement(c.Text,{as:"p",weight:"bold",align:"center",className:"set-currency-modal__heading-container__sub-heading"},(0,s.localize)("Please choose your currency"))),o.createElement(T,Ve({className:"account-wizard__body",onSubmit:function(e,a,o){!function(e,a){t(!0);var o=e.currency;o&&f.setCurrency(o).then((function(e){a(!1),n("",e.echo_req.set_account_currency)})).catch((function(e){r(e)})).finally((function(){return t(!1)}))}(a,o)},value:p,form_error:m,set_currency:!0,validate:(0,l.generateValidationFunction)(d,b())},f)))}));var Ze=function(e){var t=e.current,n=e.closeRealAccountSignup,r=e.continueRoute,i=e.deposit_target,u=e.deposit_real_account_signup_target,d=e.history,_=e.onSubmit,f=e.setIsDeposit,m=function(){return o.createElement(c.Icon,{icon:"IcCurrency-".concat(t.toLowerCase()),height:120,width:90})},p=function(e){var t=e.className;return o.createElement(c.Icon,{className:t,icon:"IcCheckmarkCircle",color:"green"})},h=function(){n(),f(!1)};return o.createElement(o.Fragment,null,(0,l.isDesktop)()&&o.createElement("div",{onClick:h,className:"finished-add-currency__close"},o.createElement(c.Icon,{icon:"IcCross"})),o.createElement(c.Div100vhContainer,{className:"finished-add-currency__dialog",is_disabled:(0,l.isDesktop)(),height_offset:"40px"},o.createElement("div",{className:a()("status-dialog__header",{"status-dialog__header--center":(0,l.isMobile)()})},o.createElement(m,null),o.createElement(p,{className:"bottom-right-overlay"})),o.createElement("div",{className:a()("status-dialog__body",{"status-dialog__body--no-grow":(0,l.isMobile)()})},o.createElement(c.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold"},o.createElement(s.Localize,{i18n_default_text:"Your account is ready"})),o.createElement(c.Text,{as:"p",align:"center"},o.createElement(s.Localize,{i18n_default_text:"Fund your account to start trading."}))),o.createElement("div",{className:"finished-add-currency__footer"},o.createElement(c.Button,{onClick:h,text:(0,s.localize)("Maybe later"),secondary:!0}),o.createElement(c.Button,{onClick:["add_crypto","add_fiat","add_currency"].includes(u)?function(){n(),r(),d.push(i),i===l.routes.cashier_deposit&&f(!0)}:_,text:(0,s.localize)("Deposit now"),primary:!0}))))};const He=o.memo(Ze);var Xe=function(e){var t=e.prev,n=e.current;return t?o.createElement(s.Localize,{i18n_default_text:"<0>You have successfully changed your currency to {{currency}}.</0><0>Make a deposit now to start trading.</0>",values:{currency:(0,l.getCurrencyDisplayCode)(n)},components:[o.createElement(c.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs",key:n})]}):o.createElement(s.Localize,{i18n_default_text:"<0>You have added a {{currency}} account.</0><0> Make a deposit now to start trading.</0>",values:{currency:(0,l.getCurrencyDisplayCode)(n)},components:[o.createElement(c.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs",key:n})]})},qe=function(e){var t=e.current,n=e.closeRealAccountSignup,r=e.continueRoute,i=e.deposit_target,u=e.deposit_real_account_signup_target,d=e.history,_=e.onCancel,f=e.onSubmit,m=e.prev,p=e.setIsDeposit,h=function(){return m?o.createElement(c.Icon,{icon:"IcCurrency-".concat(m.toLowerCase()),height:120,width:90}):null},y=function(){return o.createElement(c.Icon,{icon:"IcCurrency-".concat(t.toLowerCase()),height:120,width:90})},g=function(){return m?o.createElement(c.Icon,{icon:"IcArrowPointerRight",color:"red",width:50,height:20}):null},v=function(e){var t=e.className;return o.createElement(c.Icon,{className:t,icon:"IcCheckmarkCircle",color:"green"})};return o.createElement(c.Div100vhContainer,{className:"status-dialog",is_disabled:(0,l.isDesktop)(),height_offset:"40px"},o.createElement("div",{className:a()("status-dialog__header",{"status-dialog__header--center":(0,l.isMobile)(),"status-dialog__header--set-currency":m})},o.createElement(h,null),o.createElement(g,null),o.createElement(y,null),o.createElement(v,{className:"bottom-right-overlay"})),o.createElement("div",{className:a()("status-dialog__body",{"status-dialog__body--no-grow":(0,l.isMobile)()})},o.createElement(c.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold"},o.createElement(s.Localize,{i18n_default_text:"Success!"})),o.createElement(Xe,{prev:m,current:t})),o.createElement("div",{className:"status-dialog__footer"},o.createElement(c.Button,{onClick:function(){_(),p(!1)},text:(0,s.localize)("Maybe later"),secondary:!0}),o.createElement(c.Button,{onClick:["add_crypto","add_fiat","add_currency"].includes(u)?function(){n(),r(),d.push(i),i===l.routes.cashier_deposit&&p(!0)}:f,text:(0,s.localize)("Deposit now"),primary:!0})))};const Ke=o.memo(qe);var Je=function(e){switch(e.code){case"InvalidPhone":return o.createElement(c.Text,{as:"h1",align:"center",weight:"bold"},o.createElement(s.Localize,{i18n_default_text:"Let’s try that again"}));case"DuplicateAccount":return o.createElement(c.Text,{as:"h1",align:"center",weight:"bold"},o.createElement(s.Localize,{i18n_default_text:"Already signed up?"}));default:return o.createElement(c.Text,{as:"h1",align:"center",weight:"bold"},o.createElement(s.Localize,{i18n_default_text:"Something’s not right"}))}},Qe=function(e){var t=e.code,n=e.message;return"DuplicateAccount"===t?o.createElement("p",null,o.createElement(s.Localize,{i18n_default_text:"An account with your details already exists."}),o.createElement("br",null),o.createElement(s.Localize,{i18n_default_text:"If you're having trouble signing in, let us know via <0>chat</0>",components:[o.createElement("span",{className:"chat-inline",key:0,onClick:function(){return window.LC_API.open_chat_window()}})]})):o.createElement("p",null,n)},et=function(e){var t=e.text,n=e.onConfirm;return o.createElement(c.Button,{primary:!0,onClick:n,large:!0},t)},tt=function(e){var t=e.code,n=e.onConfirm;switch(t){case"CurrencyTypeNotAllowed":return o.createElement(et,{text:(0,s.localize)("Try a different currency"),onConfirm:n});case"InvalidPhone":return o.createElement(et,{text:(0,s.localize)("Try a different phone number"),onConfirm:n});case"DuplicateAccount":return null;default:return o.createElement(c.StaticUrl,{href:"help-centre/".concat("InvalidAccount"===t?"account#who-can-open-an-account":""),type:"button",className:"dc-btn dc-btn--primary"},o.createElement(c.Text,{weight:"bold",color:"white",size:"xxs"},o.createElement(s.Localize,{i18n_default_text:"OK"})))}},nt=function(e){var t=e.message,n=e.code,r=e.onConfirm;return o.createElement("div",{className:"account-wizard--error"},o.createElement(c.Icon,{icon:"IcAccountError",size:115}),o.createElement(Je,{code:n}),o.createElement(Qe,{code:n,message:t}),o.createElement(tt,{code:n,onConfirm:r}))};nt.propTypes={code:_().string,message:_().string,onConfirm:_().func};const rt=nt;var at=n(78568),ot=function(e){var t=e.status;return o.createElement(c.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold"},t===at.FX.SUCCESS&&o.createElement(s.Localize,{i18n_default_text:"Your account is ready"}),t===at.FX.WARN&&o.createElement(s.Localize,{i18n_default_text:"Please verify your address"}),t===at.FX.DANGER&&o.createElement(s.Localize,{i18n_default_text:"Please verify your identity and address"}),t===at.FX.PENDING&&o.createElement(s.Localize,{i18n_default_text:"We're processing your personal information"}))},it=function(e){var t=e.status;return"iom"===e.landing_company_shortcode?o.createElement(ot,{status:t}):o.createElement(c.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold"},o.createElement(s.Localize,{i18n_default_text:"Your account is ready"}))};it.propTypes={status:_().number.isRequired,landing_company_shortcode:_().string.isRequired};var ct=function(e){var t=e.country_standpoint,n=e.is_fully_authenticated,r=e.landing_company_shortcode,a=e.status,i=void 0===a?at.FX.SUCCESS:a,l="";if("maltainvest"===r)l=n?[o.createElement(s.Localize,{key:0,i18n_default_text:"You have added a Deriv Financial account."}),o.createElement(s.Localize,{key:1,i18n_default_text:"Make a deposit now to start trading."})]:o.createElement(s.Localize,{i18n_default_text:"We need proof of your identity and address before you can start trading."});else if("malta"===r)(t.is_united_kingdom&&n||t.is_rest_of_eu||t.is_belgium)&&(l=o.createElement(s.Localize,{i18n_default_text:"You have added a real Options account.<0/>Make a deposit now to start trading.",components:[o.createElement("br",{key:0})]}));else if("iom"===r)t.is_united_kingdom&&n&&(l=o.createElement(s.Localize,{i18n_default_text:"You have added a real Gaming account.<0/>Make a deposit now to start trading.",components:[o.createElement("br",{key:0})]}));else switch(i){case at.FX.WARN:l=o.createElement(s.Localize,{i18n_default_text:"To get trading, please confirm where you live."});break;case at.FX.DANGER:l=o.createElement(s.Localize,{i18n_default_text:"To get trading, please confirm who you are, and where you live."});break;case at.FX.PENDING:l=o.createElement(s.Localize,{i18n_default_text:"You'll be able to get trading as soon as verification is complete."});break;default:l=o.createElement(s.Localize,{i18n_default_text:"Fund your account to start trading."})}return Array.isArray(l)?o.createElement(o.Fragment,null,l.map((function(e,t){return o.createElement(c.Text,{key:t,as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs"},e)}))):o.createElement(c.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs"},l)};ct.propTypes={currency:_().string,is_isle_of_man_residence:_().bool,landing_company_shortcode:_().string,status:_().number};var lt=function(e){var t=e.status,n=e.landing_company_shortcode,r=e.closeModal,a=e.closeModalAndOpenCashier,i=e.closeModalAndOpenPOI,l=e.closeModalAndOpenPOA,u=function(e){var t=e.status,n=e.landing_company_shortcode,r=e.is_fully_authenticated,a=e.closeModal,o=e.closeModalAndOpenCashier,i=e.closeModalAndOpenPOI,c=e.closeModalAndOpenPOA;switch(n){case"iom":return t===at.FX.DANGER?{label:(0,s.localize)("Submit proofs"),action:i}:t===at.FX.WARN?{label:(0,s.localize)("Submit proof"),action:c}:t===at.FX.PENDING?{label:(0,s.localize)("OK"),action:a}:{label:(0,s.localize)("Deposit"),action:o};case"maltainvest":return r?{label:(0,s.localize)("Deposit"),action:o}:{label:(0,s.localize)("Submit proof"),action:i};default:return{label:(0,s.localize)("Deposit"),action:o}}}({status:t,landing_company_shortcode:n,is_fully_authenticated:e.is_fully_authenticated,closeModal:r,closeModalAndOpenCashier:a,closeModalAndOpenPOI:i,closeModalAndOpenPOA:l}),d=u.label,_=u.action;return o.createElement(c.Button,{primary:!0,text:d,onClick:_})},st=function(e){var t=e.status,n=e.landing_company_shortcode,r=e.closeModal,a=e.switchToVirtual;if(e.is_bypassed)return null;var i=function(e){var t=e.status,n=e.landing_company_shortcode,r=e.closeModal,a=e.switchToVirtual;return"iom"===n?t===at.FX.SUCCESS?{label:(0,s.localize)("Maybe later"),action:r}:t===at.FX.WARN?{label:(0,s.localize)("Trade on demo"),action:function(){r(),a()}}:{label:(0,s.localize)("Maybe later"),action:r}:{label:(0,s.localize)("Maybe later"),action:r}}({status:t,landing_company_shortcode:n,closeModal:r,switchToVirtual:a}),l=i.label,u=i.action;return o.createElement(c.Button,{secondary:!0,text:l,onClick:u})},ut=function(e){var t=e.status,n=e.landing_company_shortcode,r=e.is_fully_authenticated,a=e.closeModal,i=e.closeModalAndOpenCashier,c=e.closeModalAndOpenPOA,l=e.closeModalAndOpenPOI,s=e.switchToVirtual;return o.createElement("div",{className:"status-dialog__footer"},o.createElement(st,{closeModal:a,is_bypassed:t===at.FX.PENDING,status:t,landing_company_shortcode:n,switchToVirtual:s}),o.createElement(lt,{status:t,landing_company_shortcode:n,closeModal:a,closeModalAndOpenCashier:i,closeModalAndOpenPOI:l,closeModalAndOpenPOA:c,is_fully_authenticated:r}))};ut.propTypes={status:_().number,landing_company_shortcode:_().string,is_fully_authenticated:_().bool,closeModal:_().func,closeModalAndOpenCashier:_().func,closeModalAndOpenPOI:_().func,switchToVirtual:_().func};var dt=function(e){var t=e.currency;return o.createElement(c.Icon,{icon:"IcCurrency-".concat(t.toLowerCase()),size:120})},_t=function(e){var t=e.className;return o.createElement(c.Icon,{className:t,icon:"IcCheckmarkCircle",color:"green",size:24})},ft=function(e){var t=e.className;return o.createElement(c.Icon,{className:t,icon:"IcAlertDanger",size:24})},mt=function(e){var t=e.className;return o.createElement(c.Icon,{className:t,icon:"IcCrossCircle",size:24,color:"red"})},pt=function(e){var t=e.closeModal;return o.createElement("div",{onClick:t,className:"status-dialog__close"},o.createElement(c.Icon,{icon:"IcCross"}))},ht=function(e){var t=e.closeModal,n=e.country_standpoint,r=e.currency,i=e.history,s=e.icon_size,u=e.is_age_verified,d=e.is_belgium_residence,_=e.is_fully_authenticated,f=e.is_isle_of_man_residence,m=e.landing_company_shortcode,p=e.switchToVirtual,h=function(){return(0,at.Sj)({landing_company_shortcode:m,is_fully_authenticated:_,is_age_verified:u,is_isle_of_man_residence:f,is_belgium_residence:d})};return o.createElement(c.Div100vhContainer,{className:"status-dialog",is_disabled:(0,l.isDesktop)(),height_offset:"40px"},(0,l.isDesktop)()&&o.createElement(pt,{closeModal:t}),o.createElement("div",{className:a()("status-dialog__header",{"status-dialog__header--large":"large"===s,"status-dialog__header--xlarge":"xlarge"===s})},o.createElement(dt,{currency:r}),h()===at.FX.SUCCESS&&o.createElement(_t,{className:"bottom-right-overlay"}),h()===at.FX.WARN&&o.createElement(ft,{className:"bottom-right-overlay"}),h()===at.FX.DANGER&&o.createElement(mt,{className:"bottom-right-overlay"})),o.createElement("div",{className:a()("status-dialog__body",{"status-dialog__body--no-grow":(0,l.isMobile)()})},o.createElement(it,{status:h(),landing_company_shortcode:m}),o.createElement(ct,{country_standpoint:n,currency:r,is_fully_authenticated:_,landing_company_shortcode:m,status:h()})),o.createElement(ut,{closeModal:t,closeModalAndOpenPOI:function(){t(),i.push(l.routes.proof_of_identity)},closeModalAndOpenPOA:function(){t(),i.push(l.routes.proof_of_address)},closeModalAndOpenCashier:function(){t(),i.push(l.routes.cashier_deposit)},is_fully_authenticated:_,landing_company_shortcode:m,status:h(),switchToVirtual:p}))};ht.defaultProps={icon_size:"large"},ht.propTypes={currency:_().string,closeModal:_().func,icon:_().object,icon_size:_().string,is_isle_of_man_residence:_().bool,is_belgium_residence:_().bool};const yt=(0,u.$j)((function(e){var t=e.client;return{country_standpoint:t.country_standpoint,landing_company_shortcode:t.landing_company_shortcode,is_fully_authenticated:t.is_fully_authenticated,is_age_verified:t.is_age_verified,is_isle_of_man_residence:"im"===t.residence,is_belgium_residence:"be"===t.residence,switchToVirtual:function(){return t.switchAccount(t.virtual_account_loginid)}}}))((0,i.withRouter)(ht));function gt(e){return gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gt(e)}function vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wt={account_wizard:0,add_or_manage_account:1,finished_set_currency:2,status_dialog:3,set_currency:4,signup_error:5,choose_crypto_currency:6,add_currency:7,finished_add_currency:8},Et=function(e){var t=e.real_account_signup_target,n=e.currency,r=e.is_isle_of_man_residence,a=e.country_standpoint,i="iom"===t,c="deposit_cash"===t;if(!("maltainvest"===t)&&!n)return o.createElement(s.Localize,{i18n_default_text:"Set a currency for your real account"});if(c)return o.createElement(s.Localize,{i18n_default_text:"Add a Deriv Gaming account"});if(i&&r)return o.createElement(s.Localize,{i18n_default_text:"Add a Deriv account"});switch(t){case"malta":return a.is_united_kingdom||a.is_rest_of_eu||a.is_belgium?o.createElement(s.Localize,{i18n_default_text:"Add a real Deriv Options account"}):o.createElement(s.Localize,{i18n_default_text:"Add a Deriv Synthetic account"});case"iom":return a.is_united_kingdom?o.createElement(s.Localize,{i18n_default_text:"Add a real Deriv Gaming account"}):o.createElement(s.Localize,{i18n_default_text:"Add a Deriv Synthetic account"});case"maltainvest":return a.is_united_kingdom||a.is_france||a.is_other_eu||a.is_rest_of_eu?o.createElement(s.Localize,{i18n_default_text:"Add a real Deriv Multipliers account"}):o.createElement(s.Localize,{i18n_default_text:"Add a Deriv Financial account"});case"samoa":return o.createElement(s.Localize,{i18n_default_text:"Terms of use"});default:return o.createElement(s.Localize,{i18n_default_text:"Add a Deriv account"})}};const St=(0,u.$j)((function(e){var t=e.ui,n=e.client,r=e.common,a=e.modules;return{available_crypto_currencies:n.available_crypto_currencies,has_fiat:n.has_fiat,has_real_account:n.has_active_real_account,continueRoute:a.cashier.general_store.continueRoute,currency:n.currency,deposit_target:a.cashier.general_store.deposit_target,is_eu:n.is_eu,country_standpoint:n.country_standpoint,is_real_acc_signup_on:t.is_real_acc_signup_on,real_account_signup_target:t.real_account_signup_target,replaceCashierMenuOnclick:a.cashier.general_store.replaceCashierMenuOnclick,closeRealAccountSignup:t.closeRealAccountSignup,setParams:t.setRealAccountSignupParams,is_from_restricted_country:n.is_from_restricted_country,is_isle_of_man_residence:"im"===n.residence,is_belgium_residence:"be"===n.residence,setIsDeposit:a.cashier.general_store.setIsDeposit,should_show_all_available_currencies:a.cashier.general_store.should_show_all_available_currencies,state_value:t.real_account_signup,routing_history:r.app_routing_history,deposit_real_account_signup_target:t.deposit_real_account_signup_target}}))((0,i.withRouter)((function(e){var t=e.available_crypto_currencies,n=e.closeRealAccountSignup,r=e.continueRoute,i=e.currency,u=e.deposit_target,d=e.has_fiat,_=e.has_real_account,f=e.country_standpoint,m=e.history,p=e.is_belgium_residence,h=e.is_from_restricted_country,y=e.is_isle_of_man_residence,g=e.is_eu,v=e.is_real_acc_signup_on,b=e.real_account_signup_target,w=e.replaceCashierMenuOnclick,E=e.routing_history,S=e.setIsDeposit,x=e.setParams,A=e.should_show_all_available_currencies,O=e.state_index,C=e.state_value,k=e.deposit_real_account_signup_target,N=vt(o.useState(null),2),L=N[0],z=N[1],j=vt(o.useState(!1),2),I=j[0],M=j[1],T=vt(o.useState(null),2),P=T[0],R=T[1],D=vt(o.useState(!1),2),F=D[0],G=D[1],U=vt(o.useState([{action:"signup",body:function(e){return o.createElement(oe,{setIsRiskWarningVisible:G,onFinishSuccess:W,onOpenWelcomeModal:B,is_loading:e.is_loading,setLoading:$,onError:Z,onClose:H})},title:Et},{action:"multi",body:function(e){return o.createElement(Ie,{onSuccessSetAccountCurrency:Y,is_loading:e.is_loading,setLoading:$,onError:Z,is_add_crypto:"add_crypto"===e.real_account_signup_target,is_add_fiat:"add_fiat"===e.real_account_signup_target,is_add_currency:"add_currency"===e.real_account_signup_target,deposit_target:e.deposit_target,onClose:H})},title:function(e){var t;return"add_crypto"===e.real_account_signup_target?(0,s.localize)("Create a cryptocurrency account"):"add_fiat"===e.real_account_signup_target?(0,s.localize)("Add a Deriv real account"):"add_currency"===e.real_account_signup_target?(0,s.localize)("Create a new account"):e.has_fiat&&0===(null===(t=e.available_crypto_currencies)||void 0===t?void 0:t.length)?(0,s.localize)("Manage account"):(0,s.localize)("Add or manage account")}},{body:function(e){return o.createElement(Ke,{prev:e.state_value.previous_currency,current:e.state_value.current_currency,onCancel:H,onSubmit:V,deposit_real_account_signup_target:e.deposit_real_account_signup_target,deposit_target:e.deposit_target,closeRealAccountSignup:n,continueRoute:r,setIsDeposit:S,history:m})},title:function(e){var t;return e.has_fiat&&0===(null===(t=e.available_crypto_currencies)||void 0===t?void 0:t.length)?(0,s.localize)("Manage account"):(0,s.localize)("Add or manage account")}},{body:function(e){return o.createElement(yt,{currency:e.state_value.currency,closeModal:H})}},{body:function(e){return o.createElement($e,{is_loading:e.is_loading,setLoading:$,onError:Z,onClose:H,onSuccessSetAccountCurrency:Y})},title:Et},{body:function(e){return o.createElement(rt,{message:e.state_value.error_message,code:e.state_value.error_code,onConfirm:X})},title:function(){return(0,s.localize)("Add a real account")}},{body:function(){return o.createElement(We,{className:"account-wizard__body",onError:Z})},title:function(e){return e.should_show_all_available_currencies?(0,s.localize)("Choose an account"):(0,s.localize)("Choose a cryptocurrency account")}},{body:function(){return o.createElement(Se,{className:"account-wizard__body",onError:Z})},title:function(){return(0,s.localize)("Create a new account")}},{body:function(e){return o.createElement(He,{prev:e.state_value.previous_currency,current:e.state_value.current_currency,onSubmit:V,deposit_real_account_signup_target:e.deposit_real_account_signup_target,deposit_target:e.deposit_target,closeRealAccountSignup:n,continueRoute:r,setIsDeposit:S,history:m})}}]),1)[0],W=function(e){x({active_modal_index:wt.status_dialog,currency:e})},B=function(e){n(),x({currency:e})},V=function(){w(),n(),m.push(l.routes.cashier_deposit)},Y=function(e,t,n){x({previous_currency:e,current_currency:t,active_modal_index:n?wt.finished_add_currency:wt.finished_set_currency})},$=function(e){M(e)},Z=function(e,t){var n;t&&function(e){localStorage.setItem("real_account_signup_wizard",JSON.stringify(e.map((function(e){return"object"===gt(e.form_value)&&e.form_value}))))}(t),z(null===(n=U[q()])||void 0===n?void 0:n.action),R(e)};o.useEffect((function(){P&&x({active_modal_index:wt.signup_error,error_message:P.message,error_code:P.code})}),[P]),o.useEffect((function(){h&&x({active_modal_index:wt.signup_error,error_message:(0,s.localize)("Sorry, account opening is unavailable in your region."),error_code:"InvalidAccount"})}),[h,v]);var H=function(e){w(),"noopener noreferrer"===(null==e?void 0:e.target.getAttribute("rel"))||null!=e&&e.target.closest(".redirect-notice")||null!=e&&e.target.closest(".dc-popover__bubble")||(q()!==wt.status_dialog&&(sessionStorage.removeItem("post_real_account_signup"),localStorage.removeItem("real_account_signup_wizard")),n(),(0,l.isNavigationFromExternalPlatform)(E,l.routes.smarttrader)&&(window.location=l.routes.smarttrader),(0,l.isNavigationFromExternalPlatform)(E,l.routes.binarybot)&&(window.location=l.routes.binarybot))},X=function(){x({active_modal_index:"multi"===L?wt.add_or_manage_account:wt.account_wizard})},q=function(){return"choose"===b?wt.choose_crypto_currency:["add_crypto","add_fiat","add_currency"].includes(b)?wt.add_or_manage_account:-1===C.active_modal_index?_&&i&&"manage"===b?wt.add_or_manage_account:i||"maltainvest"===b?wt.account_wizard:wt.set_currency:C.active_modal_index},K=U[q()],J=K.title,Q=K.body,ee=wt.account_wizard,te=wt.add_or_manage_account,ne=wt.finished_set_currency,re=wt.status_dialog,ae=wt.set_currency,ie=wt.signup_error,ce=[ee,te,ae,ie].includes(q());return o.createElement(o.Fragment,null,o.createElement(c.DesktopWrapper,null,v&&o.createElement(c.Modal,{id:"real_account_signup_modal",className:a()("real-account-signup-modal",{"dc-modal__container_real-account-signup-modal--error":q()===ie,"dc-modal__container_real-account-signup-modal--success":[ne,re].includes(q())}),is_open:v,is_risk_warning_visible:F,has_close_icon:"samoa"!==b,is_title_centered:"samoa"===b,renderTitle:function(){return J&&![ne,re].includes(q())?o.createElement(J,{real_account_signup_target:b,currency:i,is_isle_of_man_residence:y,is_belgium_residence:p,is_eu:g,has_fiat:d,available_crypto_currencies:t,should_show_all_available_currencies:A,country_standpoint:f}):null},toggleModal:H,height:q()===wt.status_dialog?"auto":i?_&&i?g&&q()===wt.add_or_manage_account?"420px":[wt.finished_set_currency,wt.finished_add_currency].includes(q())?"auto":"644px":"740px":"688px",width:ce?"904px":"auto",elements_to_ignore:[document.querySelector(".modal-root")]},o.createElement(Q,{state_value:C,passthrough:O,is_loading:I,real_account_signup_target:b,deposit_real_account_signup_target:k,deposit_target:u}))),o.createElement(c.MobileWrapper,null,v&&o.createElement(c.MobileDialog,{portal_element_id:"modal_root",wrapper_classname:"account-signup-mobile-dialog",visible:v,onClose:H,renderTitle:function(){return J?o.createElement(J,{real_account_signup_target:b,currency:i,is_isle_of_man_residence:y,is_belgium_residence:p,should_show_all_available_currencies:A,country_standpoint:f}):null}},o.createElement(Q,{state_value:C,passthrough:O,is_loading:I,real_account_signup_target:b,deposit_real_account_signup_target:k,deposit_target:u}))))})))},78497:(e,t,n)=>{n.d(t,{l:()=>_});var r=n(60216),a=n.n(r),o=n(32735),i=n(13799),c=n(42413),l=n(20374),s=n(75672),u=n(58468),d=function(e){var t=e.history,n=e.currency,r=e.setVerificationCode,a=e.verification_code,i=e.hasAnyRealAccount,s=e.openRealAccountSignup,d=e.setResetTradingPasswordModalOpen,_=e.toggleAccountSignupModal,f=e.toggleResetPasswordModal,m=e.setNewEmail,p=e.toggleResetEmailModal,h=e.toggleUpdateEmailModal,y=window.location.search,g=new URLSearchParams(y),v=!1,b=(o.useContext(c.PlatformContext).is_appstore,g.get("action")),w=g.get("code")||a[b];switch(r(w,b),m(g.get("email"),b),b){case"signup":sessionStorage.removeItem("redirect_url"),_(!0);break;case"reset_password":f(!0);break;case"request_email":p(!0);break;case"system_email_change":h(!0);break;case"trading_platform_mt5_password_reset":case"trading_platform_dxtrade_password_reset":var E=g.get("redirect_to");if(E){var S="",x="";switch(E){case"1":S=c.routes.mt5;break;case"10":S=c.routes.mt5,x="real";break;case"11":S=c.routes.mt5,x="demo";break;case"2":S=c.routes.dxtrade;break;case"20":S=c.routes.dxtrade,x="real";break;case"21":S=c.routes.dxtrade,x="demo";break;case"3":S=c.routes.passwords}S&&(t.push({pathname:S,hash:x,search:y}),v=!0)}d(!0);break;case"payment_withdraw":t.push(c.routes.cashier_withdrawal),v=!0;break;case"payment_agent_withdraw":t.push(c.routes.cashier_pa),v=!0;break;case"add_account":u.WS.wait("get_account_status").then((function(){return n?i()?s("manage"):s():s("set_currency")}));var A=g.get("ext_platform_url");A&&(t.push("".concat(c.routes.root,"?ext_platform_url=").concat(A)),v=!0);break;case"verification":sessionStorage.setItem("redirect_url",c.routes.cashier_p2p_verification),window.location.href=(0,c.loginUrl)({language:(0,l.getLanguage)()});break;case"trading_platform_investor_password_reset":var O;localStorage.setItem("cfd_reset_password_code",w);var C=null===(O=localStorage.getItem("cfd_reset_password_intent"))||void 0===O?void 0:O.includes("demo");t.push("".concat(c.routes.mt5,"#").concat(C?"demo":"real","#reset-password")),v=!0}return v||t.push({pathname:c.routes.root,search:y}),null};d.propTypes={getServerTime:a().object,history:a().object,setResetTradingPasswordModalOpen:a().func,setVerificationCode:a().func,verification_code:a().object,toggleAccountSignupModal:a().func,toggleResetPasswordModal:a().func,setNewEmail:a().func,toggleResetEmailModal:a().func,toggleUpdateEmailModal:a().func};const _=(0,i.withRouter)((0,s.$j)((function(e){var t=e.client,n=e.ui;return{currency:t.currency,setVerificationCode:t.setVerificationCode,verification_code:t.verification_code,fetchResidenceList:t.fetchResidenceList,hasAnyRealAccount:t.hasAnyRealAccount,openRealAccountSignup:n.openRealAccountSignup,setResetTradingPasswordModalOpen:n.setResetTradingPasswordModalOpen,toggleAccountSignupModal:n.toggleAccountSignupModal,toggleResetPasswordModal:n.toggleResetPasswordModal,setNewEmail:t.setNewEmail,toggleResetEmailModal:n.toggleResetEmailModal,toggleUpdateEmailModal:n.toggleUpdateEmailModal}}))(d))},24793:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(60216),a=n.n(r),o=n(32735),i=n(34302),c=n(20374),l=n(75672),s=function(e){var t=e.is_visible,n=e.is_virtual,r=e.should_set_currency_modal_title_change,a=e.setCurrency,l=e.toggleModal;return o.createElement(i.Modal,{id:"dt_set_account_currency_modal",has_close_icon:!1,is_open:t,small:!0,toggleModal:l,title:r?(0,c.localize)("No currency assigned to your account"):(0,c.localize)("You have an account that needs action")},o.createElement(i.Modal.Body,null,(0,c.localize)("Please set a currency for your existing real account before creating another account.")),o.createElement(i.Modal.Footer,null,n?o.createElement(i.Button,{has_effect:!0,text:(0,c.localize)("OK"),onClick:l,primary:!0}):o.createElement(o.Fragment,null,o.createElement(i.Button,{has_effect:!0,text:(0,c.localize)("Cancel"),onClick:l,secondary:!0}),o.createElement(i.Button,{has_effect:!0,text:(0,c.localize)("Set currency"),onClick:function(){l(),setTimeout((function(){a()}),250)},primary:!0}))))};s.propTypes={is_virtual:a().bool,is_visible:a().bool,should_set_currency_modal_title_change:a().bool,setCurrency:a().func,toggleModal:a().func};const u=(0,l.$j)((function(e){var t=e.client,n=e.modules,r=e.ui;return{is_virtual:t.is_virtual,is_visible:r.is_set_currency_modal_visible,should_set_currency_modal_title_change:n.cashier.general_store.should_set_currency_modal_title_change,setCurrency:r.openRealAccountSignup,toggleModal:r.toggleSetCurrencyModal}}))(s)},74222:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(32735);const a=function(e){var t=e.onUpdate;return r.useEffect((function(){var e=function(){document.removeEventListener("UpdateAvailable",t)},n=function(){document.addEventListener("UpdateAvailable",t)};return document.addEventListener("UpdateAvailable",t),document.addEventListener("IgnorePWAUpdate",e),document.addEventListener("ListenPWAUpdate",n),function(){document.removeEventListener("IgnorePWAUpdate",e),document.removeEventListener("ListenPWAUpdate",n),document.removeEventListener("UpdateAvailable",t)}}),[]),null}},93802:(e,t,n)=>{n.d(t,{Z:()=>_});var r=n(40841),a=n.n(r),o=n(60216),i=n.n(o),c=n(32735),l=n(42413),s=n(75672),u=n(34302),d=function(e){var t=e.is_mobile,n=e.server_time,r=(0,l.toGMTFormat)(n),o=(0,l.toLocalFormat)(n);return c.createElement(u.Popover,{alignment:"top",message:o,className:a()("server-time",{"server-time--is-mobile":t}),zIndex:9999},r)};d.propTypes={is_mobile:i().bool,server_time:i().object};const _=(0,s.$j)((function(e){return{server_time:e.common.server_time}}))(d)},77802:(e,t,n)=>{var r=n(60216),a=n.n(r),o=n(32735),i=n(12788),c=n(14956),l=n(40001),s=n.n(l),u=n(48115),d=n(34302),_=n(42413),f=n(20374),m=n(10331),p=n.n(m),h=n(16636),y=n(75672),g=n(22816),v=n(563),b=["key","content"];function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function E(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var S=function(e){var t=e.toasts,n=e.removeToast;if(0===t.length)return null;var r=t.filter((function(e){return!e.is_bottom})),a=t.filter((function(e){return e.is_bottom})),c=function(e){var t=e.key,r=e.content,a=E(e,b);return o.createElement(d.Toast,w({key:t},a,{onClose:function(){return n(t)}}),r)},l=o.createElement(d.Div100vhContainer,{className:"toast-messages",height_offset:"15px"},o.createElement("div",{className:"toast-messages__top"},r.map(c)),o.createElement("div",{className:"toast-messages__bottom"},a.map(c)));return i.createPortal(l,document.getElementById("popup_root"))};S.propTypes={toasts:a().arrayOf(a().shape({key:a().string,timeout:a().number,content:a().oneOfType([a().node,a().string]),type:a().oneOf(["error","info"]),is_bottom:a().bool})),removeToast:a().func};const x=(0,y.$j)((function(e){var t=e.ui;return{toasts:t.toasts,removeToast:t.removeToast}}))(S);var A=n(61407),O=n(64797);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N.apply(this,arguments)}var L="is_appstore";const z=function(e){var t=N({},e),n="true"===window.localStorage.getItem(L),r=C(o.useState(n),2),a={is_appstore:r[0],setIsAppStore:r[1],DERIV_APPSTORE_KEY:L};return o.createElement(_.PlatformContext.Provider,N({value:a},t))};var j=n(38937),I=n(96675),M=n(81472),T=n(4390),P=n(20176);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=function(e){var t=e.children;return(0,_.isMobile)()?i.createPortal(t,document.getElementById("deriv_app")):t},G=function(e){var t=e.is_notification_loaded,n=e.style,r=e.notifications,a=e.removeNotificationMessage,i=e.markNotificationMessage,c=e.landing_company_shortcode,l=e.has_iom_account,s=e.has_malta_account,u=e.is_logged_in,d=window.location;return o.useEffect((function(){if((l||s)&&u){var e=r.find((function(e){return"close_mx_mlt_account"===e.key}));(!((0,_.getPathname)()===(0,_.getPlatformSettings)("trader").name)&&e||"malta"===c||"iom"===c)&&i({key:"close_mx_mlt_account"})}}),[d]),o.createElement("div",{className:"notification-messages",style:n},o.createElement(M.Z,{component:"div"},r.map((function(e,n){return o.createElement(T.Z,{appear:!t,key:n,in:!!e.header,timeout:150,classNames:{appear:"notification--enter",enter:"notification--enter",enterDone:"notification--enter-done",exit:"notification--exit"},unmountOnExit:!0},o.createElement(P.ZP,{data:e,removeNotificationMessage:a}))}))))},U=function(e){var t=e.is_notification_loaded,n=e.is_mt5,r=e.marked_notifications,a=e.notification_messages,i=e.removeNotificationMessage,c=e.stopNotificationLoading,l=e.markNotificationMessage,s=e.landing_company_shortcode,u=e.has_iom_account,d=e.has_malta_account,f=e.is_logged_in,m=e.should_show_popups,p=R(o.useState({}),2),h=p[0],y=p[1],g=R(o.useState(null),2),v=g[0],b=g[1];o.useEffect((function(){if(n&&c(),v&&(0,_.isMobile)()&&null!==v.parentElement){var e=v.parentElement.getBoundingClientRect();y({top:e.top+8})}}),[n,v]);var w=a.filter((function(e){var t=!r.includes(e.key),n=!(0,_.isMobile)()||["unwelcome","contract_sold","dp2p","install_pwa","tnc","deriv_go","close_mx_mlt_account","trustpilot","close_uk_account"].includes(e.key);return t&&n})),E=(0,_.isMobile)()?P.fh:P.S_,S=w.slice(0,E);return m&&S.length?o.createElement("div",{ref:function(e){return b(e)},className:"notification-messages-bounds"},o.createElement(F,null,o.createElement(G,{notifications:S,is_notification_loaded:t,style:h,removeNotificationMessage:i,markNotificationMessage:l,landing_company_shortcode:s,has_iom_account:u,has_malta_account:d,is_logged_in:f}))):null};U.propTypes={marked_notifications:a().array,notification_messages:a().arrayOf(a().shape({closeOnClick:a().func,delay:a().number,header:a().string,is_auto_close:a().bool,message:a().oneOfType([a().node,a().string]),size:a().oneOf(["small"]),type:a().oneOf(["warning","info","success","danger","contract_sold","news","announce","close_mx_mlt"])})),removeNotificationMessage:a().func};const W=(0,y.$j)((function(e){var t=e.client,n=e.notifications;return{marked_notifications:n.marked_notifications,notification_messages:n.notification_messages,removeNotificationMessage:n.removeNotificationMessage,markNotificationMessage:n.markNotificationMessage,landing_company_shortcode:t.landing_company_shortcode,has_iom_account:t.has_iom_account,has_malta_account:t.has_malta_account,is_logged_in:t.is_logged_in,should_show_popups:n.should_show_popups}}))(U);var B=n(86531),V=n(16),Y=n(13799),$=n(23942),Z=n.n($),H=n(32577);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=Z()({loader:function(){return Promise.resolve().then(n.bind(n,62792))},loading:d.UILoader,render:function(e,t){var n=e.default;return o.createElement(n,t)}}),Q=function(e){var t=e.addRouteHistoryItem,n=e.error,r=e.has_error,a=e.history,i=e.is_logged_in,c=e.is_logging_in,l=e.location,s=e.passthrough,u=e.setAppRouterHistory,d=e.setInitialRouteHistoryItem,m=o.useRef(null),p=o.useRef(null);o.useEffect((function(){return p.current||m.current||(m.current=l.pathname),d(a.location),p.current=a.listen((function(e,n){["PUSH","POP"].includes(n)&&t(q(q({},e),{},{action:n}))})),u(a),function(){"function"==typeof p.current&&(p.current(),p.current=null,m.current=null)}}),[]);var h=(0,f.getLanguage)(),y=/[?&]lang=/.test(l.search);return r?o.createElement(J,n):((!y&&"EN"!==h||y&&"EN"===h)&&window.history.replaceState({},document.title,(0,_.urlForLanguage)(h)),o.createElement(H.ZP,{is_logged_in:i,is_logging_in:c,passthrough:s}))};Q.propTypes={addRouteHistoryItem:a().func,error:V.PropTypes.objectOrObservableObject,has_error:a().bool,history:a().object,is_logged_in:a().bool,is_logging_in:a().bool,is_virtual:a().bool,setAppRouterHistory:a().func,setInitialRouteHistoryItem:a().func};const ee=(0,Y.withRouter)((0,y.$j)((function(e){var t=e.client,n=e.common;return{is_logged_in:t.is_logged_in,is_logging_in:t.is_logging_in,error:n.error,has_error:n.has_error,setAppRouterHistory:n.setAppRouterHistory,addRouteHistoryItem:n.addRouteHistoryItem,setInitialRouteHistoryItem:n.setInitialRouteHistoryItem}}))(Q));var te=n(31025),ne=n(28284),re=n(18880);(0,te.configure)({enforceActions:"observed"});const ae=function(e){var t=window.location.search;if("signup"===new URLSearchParams(t).get("action")){var n=localStorage.getItem("config.server_url"),r=localStorage.getItem("config.app_id");localStorage.clear(),n&&localStorage.setItem("config.server_url",n),r&&localStorage.setItem("config.app_id",r)}var a=new re.Z;return function(e){window.addEventListener("storage",(function(t){switch(t.key){case"client.accounts":var n,r,a,o,i=e.client.loginid,c=null===(n=JSON.parse(t.newValue))||void 0===n||null===(r=n[i])||void 0===r?void 0:r.currency,l=null===(a=JSON.parse(t.oldValue))||void 0===a||null===(o=a[i])||void 0===o?void 0:o.currency;document.hidden&&c&&l!==c&&e.client.updateAccountCurrency(c,!1);break;case"active_loginid":document.hidden&&window.location.reload();break;case"reality_check_dismissed":document.hidden&&e.client.setVisibilityRealityCheck(!JSON.parse(t.newValue))}}))}(a),ne.Z.init(a),a.client.init(),a.common.init(),a.pushwoosh.init(),a.ui.init(e),a};var oe=n(74495),ie=n(46746);function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var se=function(e){var t=e.root_store,n=window.location,r=n.pathname.split("/")[1],a=/^\/(br_)/.test(n.pathname),i=ce((0,f.useOnLoadTranslation)(),1)[0];o.useEffect((function(){t.modules.attachModule("cashier",new(p())({root_store:t,WS:h.Z})),t.modules.cashier.general_store.init()}),[]),o.useEffect((function(){(0,f.initializeTranslations)(),(0,_.setUrlLanguage)((0,f.getLanguage)()),(0,_.initFormErrorMessages)(oe.U),(0,_.setSharedCFDText)(ie.B),l(),t.common.setPlatform()}),[]);var l=o.useCallback((function(){if((0,_.isTouchDevice)()&&((0,_.isMobile)()||(0,_.isTablet)())){var e="Android"===(0,_.mobileOSDetect)(),n=e?screen.availWidth:window.innerWidth,r=e?screen.availHeight:window.innerHeight,a=document.getElementById("landscape_blocker");n<=r?(t.ui.onOrientationChange({is_landscape_orientation:!1}),a.classList.remove("landscape-blocker--visible")):(t.ui.onOrientationChange({is_landscape_orientation:!0}),a.classList.add("landscape-blocker--visible"))}}),[t.ui]);o.useEffect((function(){var e=s()(l,400);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[l]);var u={root_store:t,WS:h.Z};return o.createElement(o.Fragment,null,i?o.createElement(c.BrowserRouter,{basename:a?"/".concat(r):null},o.createElement(y.z1,{store:t},o.createElement(z,null,o.createElement(I.Z,null),o.createElement(A.Z,null,o.createElement(O.Z,null,o.createElement(ee,{passthrough:u}))),o.createElement(d.DesktopWrapper,null,o.createElement(j.Z,null)),o.createElement(A.Z,null,o.createElement(B.Z,null)),o.createElement(g.Z,null),o.createElement(v.Z,null),o.createElement(x,null)))):o.createElement(o.Fragment,null))};se.propTypes={root_store:a().object};var ue=(0,u.Z)()(se);if(!(0,_.checkAndSetEndpointFromUrl)()){var de=ae(W),_e=document.getElementById("deriv_app");_e&&i.render(o.createElement(ue,{useSuspense:!1,root_store:de}),_e)}}}]);